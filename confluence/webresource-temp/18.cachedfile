WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-easyuser-admin:easyuser', location = 'js/easyuser.js' */
define("confluence/easyuser",["jquery","ajs"],function(b,d){var i,e,h,f,j,k,c={init:function(){i=b("#easyuser-send-invites-form");e=b("#reset-invite-token");h=b("#invite-link");f=b("#inviteEmail");j=b("#invite-user-errors");k=i.find('input[type="submit"]');d.MessageHandler.closeOnNew(!0);e.click(function(){e.prop("disabled",!0);c._postJson({url:"/rest/easyuser/latest/refreshToken",data:null,success:function(a){h.attr("href",a.signupUrl).text(a.signupUrl);c._msg("\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0441\u0431\u0440\u043e\u0441 URL \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043d\u0435 \u0441\u043c\u043e\u0433\u0443\u0442 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0441\u0442\u0430\u0440\u043e\u0433\u043e.");
j.find(".aui-message-success").first().append(b("<a>").prop("href","#").text("\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 URL.").prop("id","undo-reset-token").click(c._undoTokenReset))},error:function(a,g,b){c._errorMsg("\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u043d\u043e\u0432\u043e\u0433\u043e URL \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f.",status,b)},loadingMessage:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0432\u0430\u0448\u0438\u0445 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439..."}).always(function(){e.removeProp("disabled")});return!1});f.click(function(){f.prop("disabled",!0);var a=f.prop("checked");c._postJson({url:"/rest/easyuser/latest/sendEmailOnInvite",
data:b.toJSON(a),success:function(a){a=a?"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u044b \u0431\u0443\u0434\u0443\u0442 \u0442\u0435\u043f\u0435\u0440\u044c \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.":"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u044b \u0442\u0435\u043f\u0435\u0440\u044c \u043d\u0435 \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.";c._msg(a)},error:function(a,b,e){c._errorMsg("\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438.",status,e)},loadingMessage:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0432\u0430\u0448\u0438\u0445 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439..."}).always(function(){f.removeProp("disabled")})});k.click(function(){var a=b("#invite-user-email-content").val(),g=b.trim(b("#recipient-list").val());if(!g)return c._errorMsg("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u0438\u043d \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f."),
!1;g=g.split(",");c._postJson({url:"/rest/easyuser/latest/sendUserInvites",data:b.toJSON({emailMessage:a,recipientList:g}),success:c._sendInvitationsSuccessHandler,error:function(a,b,g){c._errorMsg("\u041f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0439 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.",status,g)},loadingMessage:"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0445 \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0439\u2026"});return!1})},_sendInvitationsSuccessHandler:function(a){var b=a.sentAddresses.length&&'<span id="sent-invitations-count">'+a.sentAddresses.length+"</span>";(a=a.failedAddresses.length&&
'<span id="failed-invitations">'+d.escapeHtml(a.failedAddresses.join(", "))+"</span>")?b?c._errorMsg(d.format("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0439: {0}; \u043e\u0434\u043d\u0430\u043a\u043e \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0437 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445 \u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b \u0431\u044b\u043b\u0438 \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b: {1}.",b,a)):c._errorMsg(d.format("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0435 \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f, \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0430\u0434\u0440\u0435\u0441\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b: {0}.",a)):c._msg(d.format("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043e\u0441\u043b\u0430\u043d\u044b {0} \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435(\u044f).",b))},_msg:function(a,c){var e=b("#invite-user-errors");d.MessageHandler.message(e,a,c)},_errorMsg:function(a,c,e){var f=b("#invite-user-errors");d.MessageHandler.error(f,a);c&&d.log(a+": [statusText = "+c+"], [error = "+
e+"]")},_postJson:function(a){c._msg(a.loadingMessage,"info");return b.ajax({url:d.contextPath()+a.url,type:"POST",dataType:"json",data:a.data,contentType:"application/json",success:a.success,error:a.error,statusCode:{401:function(){c._errorMsg("\u0412\u0440\u0435\u043c\u044f \u0432\u0430\u0448\u0435\u0439 \u0441\u0435\u0441\u0441\u0438\u0438 \u0438\u0441\u0447\u0435\u0440\u043f\u0430\u043d\u043e. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 \u044d\u0442\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.")}}})},_undoTokenReset:function(){e.prop("disabled",!0);c._postJson({url:"/rest/easyuser/latest/undoTokenReset",data:null,success:function(a){a=a.signupUrl;h.attr("href",a).text(a);c._msg("\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 URL \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f.")},
error:function(a,b,e){c._errorMsg("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 URL \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f.",status,e)},loadingMessage:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0432\u0430\u0448\u0438\u0445 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439..."}).always(function(){e.removeProp("disabled")})}};return c});require("confluence/module-exporter").safeRequire("confluence/easyuser",function(b){require("ajs").toInit(b.init)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-easyuser-admin:easyuser', location = 'js/easyusersignupsettings.js' */
define("confluence/easyusersignupsettings",["jquery","ajs"],function(a,c){return function(){var i=a("#easyuser-forms-container"),h=a("#signup-user-errors"),e=a("#save"),b=a('input[name="signupMode"]'),g=a("#domains-signup-container"),f=a("#domains-signup"),n=a("#isSignupEnabled"),j=a("#restrictedModesBorder-container"),k=a("#configure-smtp-msg-signup"),l=a("#signupMode-restricted");k.length&&c.MessageHandler.message(h,k.html(),"warning");var m=function(){var a=f.val();!a||/^\s*$/.test(a)?e.prop("disabled",
!0):e.prop("disabled",!1)};a("#easyuser-signup-domains-form").submit(function(){var d=a("input:radio[name=signupMode]:checked").val(),b=a("#notifyAdmin").prop("checked");a("#isSignupEnabled").prop("checked")||(d="private");"restricted"!=d&&f.val("");var g=f.val(),b={enabled:"public"===d,domains:g,notifyAdmin:b};e.prop("disabled",!0);a.ajax({url:c.contextPath()+"/rest/easyuser/latest/signup/setSignupSettings",type:"POST",dataType:"json",contentType:"application/json",processData:!1,data:a.toJSON(b),
success:function(){e.prop("disabled",!1);c.MessageHandler.message(h,"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b.");i.toggleClass("private-signup","private"===d||"restricted"===d);i.toggleClass("public-signup","public"===d)},error:function(a,b,d){e.removeProp("disabled");c.log("Saving sign up settings errors: [statusText = '"+b+"'], [error = '"+d+"']");c.MessageHandler.message(h,"\u041e\u0448\u0438\u0431\u043a\u0438 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0432\u0445\u043e\u0434\u0430.","error")},statusCode:{401:function(){c.MessageHandler.message($messageContainer,
"\u0412\u0440\u0435\u043c\u044f \u0432\u0430\u0448\u0435\u0439 \u0441\u0435\u0441\u0441\u0438\u0438 \u0438\u0441\u0447\u0435\u0440\u043f\u0430\u043d\u043e. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 \u044d\u0442\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.","error")}}});return!1});b.change(function(){var b=this.value;a("input:radio[name=signupMode]").prop("checked",!1);a(this).prop("checked",!0);"restricted"===b?(m(),g.show(),f.focus()):(g.hide(),e.prop("disabled",!1))});f.keyup(function(){m()});n.change(function(){!0===this.checked?(j.css({opacity:1}),b.enable(),l.data("ajs-capable")||l.disable()):(b.change(),b.disable(),e.prop("disabled",!1),j.css({opacity:0.5}))})}});
require("confluence/module-exporter").safeRequire("confluence/easyusersignupsettings",function(a){require("ajs").toInit(a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:memoir', location = '/includes/js/third-party/memoir.js' */
(function(e){function g(a,c){for(var b=0,d=i[a],e=d.length;b<e;b++)d[b](c)}var j=Boolean("undefined"!==typeof history&&history.pushState&&history.replaceState&&!(/ Mobile\/([1-7][a-z]|(8([abcde]|f(1[0-8]))))/i.test(navigator.userAgent)||/AppleWebKit\/5([0-2]|3[0-2])/i.test(navigator.userAgent))),d=function(){return d.nativeSupport()};d.nativeSupport=function(){return j};var i={"memoir.popstate":[],"memoir.changestate":[]},f={pushState:function(a,c,b){history.pushState(a,c||"",b||"");g("memoir.changestate",
{state:a})},replaceState:function(a,c,b){history.replaceState(a,c||"",b||"");g("memoir.changestate",{state:a})},bind:function(a,c){a in i&&i[a].push(c)},state:function(){return history.state},initialState:function(a){return history.replaceState(a,"","")}},n={pushState:function(a,c,b){b&&location.href!==b&&(location.href=b)},replaceState:function(a,c,b){b&&location.href!==b&&(location.href=b)},bind:function(){},initialState:function(){},state:function(){return null}},o=d,f=j?f:n,h;for(h in f)f.hasOwnProperty(h)&&
(o[h]=f[h]);var k=e.onpopstate,l="state"in history,p=location.href;e.onpopstate=function(a){k&&k.call(this,a);var c=!l&&location.href==p;l=!0;c||(g("memoir.popstate",a),g("memoir.changestate",a))};var m=e.memoir;d.noConflict=m?function(){e.memoir=m;return d}:function(){delete e.memoir;return d};e.memoir=d})(window);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.admin.user:browseusers', location = '/includes/js/browseusers.js' */
define("confluence/browseusers",["jquery","window","memoir"],function(b,f,e){return function(){var g=f.location.href,h=b("#manage-users-tabs li.active-tab a").attr("id"),a=b("#sendEmail"),d=b("#password, #confirm").closest(".field-group");b("#sendEmail").click(function(){d.toggle(!this.checked)});b("#manage-users-tabs").find(".tabs-menu").delegate("a","tabSelect",function(b,a){var c=a.tab;if(c.data("i-was-fired-by-memoir"))c.data("i-was-fired-by-memoir",!1);else{var d=c.attr("id"),c=d===h?g:c.attr("href").split("#")[0];
e.pushState({tabId:d},"",c)}});e.bind("memoir.popstate",function(a){a=b("#"+a.state.tabId);a.data("i-was-fired-by-memoir",!0);a.click()});a=!a.is(":checked");d.toggle(a)}});require("confluence/module-exporter").safeRequire("confluence/browseusers",function(b){require("ajs").toInit(b)});
}catch(e){WRMCB(e)};