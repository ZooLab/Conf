WRMCB=function(e){var c=console;if(c&&c.log&&c.error){c.log('Error running batched script.');c.error(e);}}
;
try {
/* module-key = 'com.atlassian.plugins.base-hipchat-integration-plugin-api:ajs-amd', location = 'lib/amd/ajs-amd.js' */
define("ajs",function(){return AJS});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.base-hipchat-integration-plugin-api:wrm-amd', location = 'lib/amd/wrm-amd.js' */
define("wrm/context-path",function(){return AJS.contextPath});define("wrm/data",function(){var a=function(){};if(WRM){if(typeof WRM.data==="function"){a=WRM.data}else{if(WRM.data&&typeof WRM.data.claim==="function"){a=WRM.data.claim}}}return{claim:a}});define("wrm",function(){if(WRM.data instanceof Function){WRM.data.claim=WRM.data}return WRM});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.base-hipchat-integration-plugin-api:backbone-amd', location = 'lib/amd/backbone-amd.js' */
define("backbone",function(){return Backbone});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.base-hipchat-integration-plugin-api:jquery-amd', location = 'lib/amd/jquery-amd.js' */
define("jquery",function(){return AJS.$});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.base-hipchat-integration-plugin-api:underscore-amd', location = 'lib/amd/underscore-amd.js' */
define("underscore",function(){return _});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-hipchat-integration-plugin:discovery-javascript-data', location = 'discovery/hipChatDiscovery.js' */
define("confluence/hipchat/integration/hipchat/discovery",["wrm/data"],function(a){var b="com.atlassian.confluence.plugins.confluence-hipchat-integration-plugin";var c=b+":discovery-javascript-data.link-active";var d=a.claim(c);return{isLinked:function(){return d.linkActive===true},isConditionsMet:function(){return d.conditionsMet===true},isAdmin:function(){return d.admin===true},pluginKey:function(){return b}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-hipchat-integration-plugin:discovery-javascript-data', location = 'discovery/discoveryPopup.js' */
define("confluence/hipchat/integration/hipchat/discovery/popup",["jquery"],function(a){return{show:function(g){var c,b;var h=g.featureKey;if(g.shouldShow()&&Confluence.FeatureDiscovery){b=Confluence.FeatureDiscovery.forPlugin(g.pluginKey);c=b.shouldShow(g.featureKey,true)}else{c=false}if(c){AJS.trigger("analyticsEvent",{name:g.analytics+".view",data:{}});b&&b.addDiscoveryView(h);var d;var e=function(){b&&b.markDiscovered(h);d.hide();AJS.trigger("analyticsEvent",{name:g.analytics+".accept",data:{}});if(a.isFunction(g.onAccept)){g.onAccept()}};var f=function(i){return function(j){j.preventDefault();b&&b.markDiscovered(h);d.hide();i.parent().remove();AJS.trigger("analyticsEvent",{name:g.analytics+".dismiss",data:{}});if(a.isFunction(g.onDismiss)){g.onDismiss()}}};d=AJS.InlineDialog(g.target,g.name,function(k,i,l){k.html(g.template({}));l();var j=k.parent();j.addClass("hipchat-integration-discovery");if(g.fixed===true){j.addClass("hipchat-integration-discovery-fixed")}k.find("#hipchat-integration-discovery-open").click(e);k.find("#hipchat-integration-discovery-dismiss").click(f(k))},{noBind:true});d.show();if(g.fixed===true){a(window).resize(function(){d.refresh()})}}}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-hipchat-integration-plugin:discovery-resources', location = 'discovery/integrationDiscovery.soy' */
// This file was automatically generated from integrationDiscovery.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.HipChat.Discovery.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.HipChat == 'undefined') { Confluence.Templates.HipChat = {}; }
if (typeof Confluence.Templates.HipChat.Discovery == 'undefined') { Confluence.Templates.HipChat.Discovery = {}; }


Confluence.Templates.HipChat.Discovery.integrationDialog = function(opt_data, opt_ignored) {
  return '<h2>' + soy.$$escapeHtml('\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0441\u0430\u0439\u0442 Confluence \u043a HipChat') + '</h2><p>' + soy.$$escapeHtml("\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0430 \u0438 \u043E\u0442\u043F\u0440\u0430\u0432\u043A\u0430 \u0443\u0432\u0435\u0434\u043E\u043C\u043B\u0435\u043D\u0438\u0439 \u0432 \u043A\u043E\u043C\u043D\u0430\u0442\u044B Hipchat.") + '</p><br/><button class="aui-button" id="hipchat-integration-discovery-open">' + soy.$$escapeHtml('\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 Hipchat') + '</button><a href="#" style="padding-left: 20px" id="hipchat-integration-discovery-dismiss">' + soy.$$escapeHtml('\u041d\u0435 \u0441\u0435\u0439\u0447\u0430\u0441') + '</a>';
};
if (goog.DEBUG) {
  Confluence.Templates.HipChat.Discovery.integrationDialog.soyTemplateName = 'Confluence.Templates.HipChat.Discovery.integrationDialog';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-hipchat-integration-plugin:hipChatServerDiscovery', location = 'discovery/integrationDiscovery.js' */
require(["jquery","confluence/hipchat/integration/hipchat/discovery","confluence/hipchat/integration/hipchat/discovery/popup"],function(c,b,a){c(function(){var d=AJS.contextPath()+"/plugins/servlet/hipchat/configure";a.show({featureKey:"hipChatServerIntegration",pluginKey:b.pluginKey(),analytics:"notifications.hipchat.discovery",template:Confluence.Templates.HipChat.Discovery.integrationDialog,name:"hipchat-integration-dialog",target:c("#admin-menu-link"),shouldShow:function(){return !b.isLinked()&&b.isConditionsMet()&&b.isAdmin()},onAccept:function(){window.location.assign(d)},onDismiss:function(){},fixed:false})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-hipchat-integration-plugin:hipchat-presence-resources', location = 'presence/presence.soy' */
// This file was automatically generated from presence.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.HipChat.Presence.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.HipChat == 'undefined') { Confluence.Templates.HipChat = {}; }
if (typeof Confluence.Templates.HipChat.Presence == 'undefined') { Confluence.Templates.HipChat.Presence = {}; }


Confluence.Templates.HipChat.Presence.badge = function(opt_data, opt_ignored) {
  return '<span class="hipchat-status aui-icon aui-icon-small hipchat-icon-' + soy.$$escapeHtml(opt_data.statusCode) + '" data-status="' + soy.$$escapeHtml(opt_data.statusCode) + '" title="' + soy.$$escapeHtml(opt_data.statusMessage) + '">' + soy.$$escapeHtml(opt_data.statusMessage) + '</span>';
};
if (goog.DEBUG) {
  Confluence.Templates.HipChat.Presence.badge.soyTemplateName = 'Confluence.Templates.HipChat.Presence.badge';
}


Confluence.Templates.HipChat.Presence.chatBar = function(opt_data, opt_ignored) {
  return '<div class="hipchat-chatbar aui-buttons"><button class="aui-button hipchat-chat" title="' + soy.$$escapeHtml('\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0430\u0447\u0430\u0442\u044c \u0447\u0430\u0442, \u0442\u0430\u043a \u043a\u0430\u043a \u044d\u0442\u043e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d \u0432 HipChat.') + '" aria-disabled="true"><span><span class="aui-icon aui-icon-small hipchat-icon-chat">' + soy.$$escapeHtml('\u0427\u0430\u0442') + '</span></span></button><button class="aui-button hipchat-voice" title="' + soy.$$escapeHtml('\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0430\u0447\u0430\u0442\u044c \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u043e\u0439 \u0437\u0432\u043e\u043d\u043e\u043a, \u0442\u0430\u043a \u043a\u0430\u043a \u044d\u0442\u043e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d \u0432 HipChat.') + '" aria-disabled="true" data-call-type="voice"><span><span class="aui-icon aui-icon-small hipchat-icon-voice">' + soy.$$escapeHtml('\u0413\u043e\u043b\u043e\u0441') + '</span></span></button><button class="aui-button hipchat-video" title="' + soy.$$escapeHtml('\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0430\u0447\u0430\u0442\u044c \u0432\u0438\u0434\u0435\u043e\u0437\u0432\u043e\u043d\u043e\u043a, \u0442\u0430\u043a \u043a\u0430\u043a \u044d\u0442\u043e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d \u0432 HipChat.') + '" aria-disabled="true" data-call-type="video"><span><span class="aui-icon aui-icon-small hipchat-icon-video">' + soy.$$escapeHtml('\u0412\u0438\u0434\u0435\u043e') + '</span></span></button></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.HipChat.Presence.chatBar.soyTemplateName = 'Confluence.Templates.HipChat.Presence.chatBar';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-hipchat-integration-plugin:hipchat-presence-resources', location = 'presence/presence.js' */
(function(d){var f=AJS.DarkFeatures.isEnabled("hipchat.chatbar");var a={hipChatCall:function(g,h){if(!g){return}return"hipchat://hipchat.com/user/"+encodeURI(g)+(h?"?call="+encodeURI(h):"")}};var c=AJS.contextPath()+"/rest/hipchat/integration/1.0/users/";var b=function(g){return function(j){var i=d(this);var h=i.attr("data-user-id");var k=i.attr("data-caller-id");if(!k){return}var l=i.attr("data-call-type");if(!g&&l){return}window.location.replace(a.hipChatCall(k,l));AJS.trigger("analyticsEvent",{name:"hipchat.chatbar."+(l||"chat"),data:{userId:h}});j.preventDefault()}};var e=function(g){return function(i){if(!i||!i.presence){return}var j=i.userId;var h=i.hipChatUserId;var k;var m;var l=d(g).find(".hipchat-chatbar .aui-button");l.attr("data-user-id",j);l.attr("data-caller-id",h);l.click(b(i.presence.is_online));if(i.presence.is_online){if(i.presence.show==="xa"||i.presence.show==="away"){k="away";m="\u041e\u0442\u043e\u0448\u0435\u043b"}else{if(i.presence.show==="dnd"){k="dnd";m="\u041d\u0435 \u0431\u0435\u0441\u043f\u043e\u043a\u043e\u0438\u0442\u044c"}else{k="available";m="\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e"}}l.filter(".hipchat-chat").attr("title","\u041d\u0430\u0447\u0430\u0442\u044c \u0434\u0438\u0430\u043b\u043e\u0433 \u0432 \u0447\u0430\u0442\u0435 \u0441 \u044d\u0442\u0438\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c \u0432 Hipchat.").removeAttr("aria-disabled");l.filter(".hipchat-voice").attr("title","\u041d\u0430\u0447\u0430\u0442\u044c \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u043e\u0439 \u0437\u0432\u043e\u043d\u043e\u043a \u0441 \u044d\u0442\u0438\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c \u0432 HipChat.").removeAttr("aria-disabled");l.filter(".hipchat-video").attr("title","\u041d\u0430\u0447\u0430\u0442\u044c \u0432\u0438\u0434\u0435\u043e\u0437\u0432\u043e\u043d\u043e\u043a \u0441 \u044d\u0442\u0438\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c \u0432 HipChat.").removeAttr("aria-disabled")}else{k="offline";m="\u041d\u0435 \u0432 \u0441\u0435\u0442\u0438";l.filter(".hipchat-chat").attr("title","\u041d\u0430\u0447\u0430\u0442\u044c \u0434\u0438\u0430\u043b\u043e\u0433 \u0432 \u0447\u0430\u0442\u0435 \u0441 \u044d\u0442\u0438\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c \u0432 Hipchat.").removeAttr("aria-disabled");l.filter(".hipchat-voice").attr("title","\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0430\u0447\u0430\u0442\u044c \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u043e\u0439 \u0437\u0432\u043e\u043d\u043e\u043a, \u0442\u0430\u043a \u043a\u0430\u043a \u044d\u0442\u043e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d \u0432 HipChat.");l.filter(".hipchat-video").attr("title","\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0430\u0447\u0430\u0442\u044c \u0432\u0438\u0434\u0435\u043e\u0437\u0432\u043e\u043d\u043e\u043a, \u0442\u0430\u043a \u043a\u0430\u043a \u044d\u0442\u043e\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u0435\u043d \u0432 HipChat.")}if(i.presence.status){m+=" ("+i.presence.status+")"}d("div.values",g).append(Confluence.Templates.HipChat.Presence.badge({statusCode:k,statusMessage:m}));AJS.trigger("analyticsEvent",{name:"hipchat.presence.user.found",data:{userId:i.userId}})}};d(document).bind("ajaxComplete",function(i,g,h){if(/userinfopopup\.action/.test(h.url)){d.each(d(".vcard"),function(n,p){var m=d(p);var k=m.closest(".contents");var l=k.find(".profile-macro").first();var o=k.find(".actions").first();if(l.hasClass("hipchat-status-applied")||!o.length){return}l.addClass("hipchat-status-applied");if(f){o.addClass("hipchat-chatbar-support");o.append(Confluence.Templates.HipChat.Presence.chatBar());o.find(".ajs-menu-bar").addClass("aui-buttons");o.find(".ajs-button > a").addClass("aui-button");o.find(".user-popup-more").addClass("aui-button");o.find(".user-popup-more > span > span").addClass("aui-icon aui-icon-small aui-iconfont-more").text("")}var q=d(".userLogoLink",m).attr("data-username");var j=c+encodeURIComponent(q);d.getJSON(j,e(k)).fail(function(t){if(t.status===404){try{var r=JSON.parse(t.responseText);if(r.userId){AJS.trigger("analyticsEvent",{name:"hipchat.presence.user.unknown",data:{userId:r.userId}})}}catch(s){}}})})}})})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:blueprint-selector', location = 'templates/extra/jira/blueprint-selector.js' */
(function(){if(!Confluence.Blueprint.Selector){return}var a={decisions:"com.atlassian.confluence.plugins.confluence-business-blueprints:decisions-blueprint-item","meeting-notes":"com.atlassian.confluence.plugins.confluence-business-blueprints:meeting-notes-item",requirements:"com.atlassian.confluence.plugins.confluence-software-blueprints:requirements-item",retrospectives:"com.atlassian.confluence.plugins.confluence-software-blueprints:retrospectives-item","blank-pages":"com.atlassian.confluence.plugins.confluence-create-content-plugin:create-blank-page"};Confluence.Blueprint.Selector.registerSelector(function(b){if(b.issueKey&&b.agileMode==="plan"){return"com.atlassian.confluence.plugins.confluence-software-blueprints:requirements-item"}if(b.sprintId&&b.agileMode==="plan"){return"com.atlassian.confluence.plugins.confluence-business-blueprints:meeting-notes-item"}if(b.sprintId&&b.agileMode==="report"){return"com.atlassian.confluence.plugins.confluence-software-blueprints:retrospectives-item"}b.blueprintShortKey=b.blueprintShortKey||"";return a[b.blueprintShortKey]})})();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-easyuser-admin:easyuser', location = 'js/easyuser.js' */
define("confluence/easyuser",["jquery","ajs"],function(b,d){var i,e,h,f,j,k,c={init:function(){i=b("#easyuser-send-invites-form");e=b("#reset-invite-token");h=b("#invite-link");f=b("#inviteEmail");j=b("#invite-user-errors");k=i.find('input[type="submit"]');d.MessageHandler.closeOnNew(!0);e.click(function(){e.prop("disabled",!0);c._postJson({url:"/rest/easyuser/latest/refreshToken",data:null,success:function(a){h.attr("href",a.signupUrl).text(a.signupUrl);c._msg("\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0441\u0431\u0440\u043e\u0441 URL \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043d\u0435 \u0441\u043c\u043e\u0433\u0443\u0442 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0441\u0442\u0430\u0440\u043e\u0433\u043e.");
j.find(".aui-message-success").first().append(b("<a>").prop("href","#").text("\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 URL.").prop("id","undo-reset-token").click(c._undoTokenReset))},error:function(a,g,b){c._errorMsg("\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u0446\u0438\u0438 \u043d\u043e\u0432\u043e\u0433\u043e URL \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f.",status,b)},loadingMessage:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0432\u0430\u0448\u0438\u0445 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439..."}).always(function(){e.removeProp("disabled")});return!1});f.click(function(){f.prop("disabled",!0);var a=f.prop("checked");c._postJson({url:"/rest/easyuser/latest/sendEmailOnInvite",
data:b.toJSON(a),success:function(a){a=a?"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u044b \u0431\u0443\u0434\u0443\u0442 \u0442\u0435\u043f\u0435\u0440\u044c \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.":"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u044b \u0442\u0435\u043f\u0435\u0440\u044c \u043d\u0435 \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439.";c._msg(a)},error:function(a,b,e){c._errorMsg("\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439 \u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438.",status,e)},loadingMessage:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0432\u0430\u0448\u0438\u0445 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439..."}).always(function(){f.removeProp("disabled")})});k.click(function(){var a=b("#invite-user-email-content").val(),g=b.trim(b("#recipient-list").val());if(!g)return c._errorMsg("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c \u043a\u0430\u043a \u043c\u0438\u043d\u0438\u043c\u0443\u043c \u043e\u0434\u0438\u043d \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f."),
!1;g=g.split(",");c._postJson({url:"/rest/easyuser/latest/sendUserInvites",data:b.toJSON({emailMessage:a,recipientList:g}),success:c._sendInvitationsSuccessHandler,error:function(a,b,g){c._errorMsg("\u041f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0439 \u0432\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430.",status,g)},loadingMessage:"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0445 \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0439\u2026"});return!1})},_sendInvitationsSuccessHandler:function(a){var b=a.sentAddresses.length&&'<span id="sent-invitations-count">'+a.sentAddresses.length+"</span>";(a=a.failedAddresses.length&&
'<span id="failed-invitations">'+d.escapeHtml(a.failedAddresses.join(", "))+"</span>")?b?c._errorMsg(d.format("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0439: {0}; \u043e\u0434\u043d\u0430\u043a\u043e \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u0437 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445 \u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b \u0431\u044b\u043b\u0438 \u043d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b: {1}.",b,a)):c._errorMsg(d.format("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0435 \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f, \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0430\u0434\u0440\u0435\u0441\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b: {0}.",a)):c._msg(d.format("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043e\u0441\u043b\u0430\u043d\u044b {0} \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435(\u044f).",b))},_msg:function(a,c){var e=b("#invite-user-errors");d.MessageHandler.message(e,a,c)},_errorMsg:function(a,c,e){var f=b("#invite-user-errors");d.MessageHandler.error(f,a);c&&d.log(a+": [statusText = "+c+"], [error = "+
e+"]")},_postJson:function(a){c._msg(a.loadingMessage,"info");return b.ajax({url:d.contextPath()+a.url,type:"POST",dataType:"json",data:a.data,contentType:"application/json",success:a.success,error:a.error,statusCode:{401:function(){c._errorMsg("\u0412\u0440\u0435\u043c\u044f \u0432\u0430\u0448\u0435\u0439 \u0441\u0435\u0441\u0441\u0438\u0438 \u0438\u0441\u0447\u0435\u0440\u043f\u0430\u043d\u043e. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 \u044d\u0442\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.")}}})},_undoTokenReset:function(){e.prop("disabled",!0);c._postJson({url:"/rest/easyuser/latest/undoTokenReset",data:null,success:function(a){a=a.signupUrl;h.attr("href",a).text(a);c._msg("\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0435\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 URL \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f.")},
error:function(a,b,e){c._errorMsg("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 URL \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f.",status,e)},loadingMessage:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0432\u0430\u0448\u0438\u0445 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439..."}).always(function(){e.removeProp("disabled")})}};return c});require("confluence/module-exporter").safeRequire("confluence/easyuser",function(b){require("ajs").toInit(b.init)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-easyuser-admin:easyuser', location = 'js/easyusersignupsettings.js' */
define("confluence/easyusersignupsettings",["jquery","ajs"],function(a,c){return function(){var i=a("#easyuser-forms-container"),h=a("#signup-user-errors"),e=a("#save"),b=a('input[name="signupMode"]'),g=a("#domains-signup-container"),f=a("#domains-signup"),n=a("#isSignupEnabled"),j=a("#restrictedModesBorder-container"),k=a("#configure-smtp-msg-signup"),l=a("#signupMode-restricted");k.length&&c.MessageHandler.message(h,k.html(),"warning");var m=function(){var a=f.val();!a||/^\s*$/.test(a)?e.prop("disabled",
!0):e.prop("disabled",!1)};a("#easyuser-signup-domains-form").submit(function(){var d=a("input:radio[name=signupMode]:checked").val(),b=a("#notifyAdmin").prop("checked");a("#isSignupEnabled").prop("checked")||(d="private");"restricted"!=d&&f.val("");var g=f.val(),b={enabled:"public"===d,domains:g,notifyAdmin:b};e.prop("disabled",!0);a.ajax({url:c.contextPath()+"/rest/easyuser/latest/signup/setSignupSettings",type:"POST",dataType:"json",contentType:"application/json",processData:!1,data:a.toJSON(b),
success:function(){e.prop("disabled",!1);c.MessageHandler.message(h,"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b.");i.toggleClass("private-signup","private"===d||"restricted"===d);i.toggleClass("public-signup","public"===d)},error:function(a,b,d){e.removeProp("disabled");c.log("Saving sign up settings errors: [statusText = '"+b+"'], [error = '"+d+"']");c.MessageHandler.message(h,"\u041e\u0448\u0438\u0431\u043a\u0438 \u043f\u0440\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0432\u0445\u043e\u0434\u0430.","error")},statusCode:{401:function(){c.MessageHandler.message($messageContainer,
"\u0412\u0440\u0435\u043c\u044f \u0432\u0430\u0448\u0435\u0439 \u0441\u0435\u0441\u0441\u0438\u0438 \u0438\u0441\u0447\u0435\u0440\u043f\u0430\u043d\u043e. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 \u044d\u0442\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443 \u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443.","error")}}});return!1});b.change(function(){var b=this.value;a("input:radio[name=signupMode]").prop("checked",!1);a(this).prop("checked",!0);"restricted"===b?(m(),g.show(),f.focus()):(g.hide(),e.prop("disabled",!1))});f.keyup(function(){m()});n.change(function(){!0===this.checked?(j.css({opacity:1}),b.enable(),l.data("ajs-capable")||l.disable()):(b.change(),b.disable(),e.prop("disabled",!1),j.css({opacity:0.5}))})}});
require("confluence/module-exporter").safeRequire("confluence/easyusersignupsettings",function(a){require("ajs").toInit(a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:ajs-raf', location = 'src/js-vendor/raf/raf.js' */
("undefined"===typeof window?global:window).__bf59f74063d342eb3fddf114cbed6239=function(){for(var a=window,f=0,d=["webkit","moz"],b=a.requestAnimationFrame,c=a.cancelAnimationFrame,e=d.length;0<=--e&&!b;)b=a[d[e]+"RequestAnimationFrame"],c=a[d[e]+"CancelAnimationFrame"];if(!b||!c)b=function(a){var b=Date.now(),c=Math.max(f+16,b);return setTimeout(function(){a(f=c)},c-b)},c=clearTimeout;a.requestAnimationFrame=b;a.cancelAnimationFrame=c;return{}}.call(this);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-internal-is-input', location = 'src/js/aui/internal/is-input.js' */
("undefined"===typeof window?global:window).__dff830f45baf5eb0b8447c97bbcc4699=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a){return"value"in a||a.isContentEditable};return a=a["default"]}.call(this);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-trigger', location = 'src/js/aui/trigger.js' */
("undefined"===typeof window?global:window).__30cf7e8f2431e5458a101ad849353fcd=function(){function e(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(a.isEnabled()){var c=document.getElementById(a.getAttribute("aria-controls"));c&&c.message&&c.message(b)}}"use strict";var g=e(__700a145ba3db9966cc95664c892049f8),h=e(__65ca28a9d6b0f244027266ff8e6a6d1c),f=e(__0ac9a2c09f995a9c0a478af8742f59b7);(0,f.default)("data-aui-trigger",{type:f.default.type.ATTRIBUTE,events:{click:function(a,b){var c=
b.target,c=(0,g.default)(c).closest("a[href]",a);c.length&&c[0]!==a||(d(a,b),b.preventDefault())},mouseenter:function(a,b){d(a,b)},mouseleave:function(a,b){d(a,b)},focus:function(a,b){d(a,b)},blur:function(a,b){d(a,b)}},prototype:{disable:function(){this.setAttribute("aria-disabled","true")},enable:function(){this.setAttribute("aria-disabled","false")},isEnabled:function(){return"true"!==this.getAttribute("aria-disabled")}}});(0,h.default)("aui/trigger");return{}}.call(this);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:aui-trigger', location = 'src/soy/trigger.soy' */
// This file was automatically generated from trigger.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.trigger.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.trigger == 'undefined') { aui.trigger = {}; }


aui.trigger.trigger = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'a') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '" ' : '') + ' class="' + aui.renderExtraClasses(opt_data) + '" aria-controls="' + soy.$$escapeHtml(opt_data.menu.id) + '" aria-haspopup="true" role="button"' + ((opt_data.title) ? ' title="' + soy.$$escapeHtml(opt_data.title) + '"' : '') + ((opt_data.container) ? ' data-container="' + soy.$$escapeHtml(opt_data.container) + '"' : '') + (((! opt_data.tagName || opt_data.tagName == 'a') && (! opt_data.extraAttributes || Object.prototype.toString.call(opt_data.extraAttributes) === '[object Object]' && ! opt_data.extraAttributes.href && ! opt_data.extraAttributes.tabindex || (! opt_data.extraAttributes.href || ! opt_data.extraAttributes.tabindex))) ? ' tabindex="0"' : '') + ' data-aui-trigger' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + ((opt_data.text) ? soy.$$escapeHtml(opt_data.text) : '') + ((! (opt_data.showIcon == false)) ? '<span class="icon ' + soy.$$escapeHtml(opt_data.iconClasses ? opt_data.iconClasses : 'aui-icon-dropdown') + '">' + ((opt_data.iconText) ? soy.$$escapeHtml(opt_data.iconText) : '') + '</span>' : '') + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'a') + '>';
};
if (goog.DEBUG) {
  aui.trigger.trigger.soyTemplateName = 'aui.trigger.trigger';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-internal-attributes', location = 'src/js/aui/internal/attributes.js' */
("undefined"===typeof window?global:window).__ab489eda548cad099ce93b60faa6a3d5=function(){function d(a){return null!==a}function e(a,b,c){c?a.setAttribute(b,""):a.removeAttribute(b)}function f(a,b){var c=function(a){return a.toLowerCase()===b.toLowerCase()},d=null===b,e=!d&&!a.values.filter(c).length;return d?a.hasOwnProperty("missingDefault")?a.missingDefault:null:e?a.hasOwnProperty("invalidDefault")?a.invalidDefault:a.hasOwnProperty("missingDefault")?a.missingDefault:null:a.values.length?a.values.filter(c)[0]:
null}function g(a,b,c){a.setAttribute(b.attribute,c)}var b={};"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.computeBooleanValue=d;b.setBooleanAttribute=e;b.computeEnumValue=f;b.setEnumAttribute=g;b.default={computeBooleanValue:d,setBooleanAttribute:e,computeEnumValue:f,setEnumAttribute:g};return b}.call(this);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-internal-enforcer', location = 'src/js/aui/internal/enforcer.js' */
("undefined"===typeof window?global:window).__2512e2cfb8f46670d5cb777690a28c72=function(){var c={};"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d;var a=__c1e961001275c079e48525ad3a48c8c2;if(a&&a.__esModule)d=a;else{var b={};if(null!=a)for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(b[e]=a[e]);b.default=a;d=b}c.default=function(a){function c(b){return e(function(){return a.hasAttribute(b)},b+" wasn't defined")}function b(d){if(!c(d,a))return!1;var f=a.getAttribute(d);
return e(function(){return document.getElementById(f)},'an element with id set to "'+f+'" was not found')}function e(b,c){return!b()?(a?d.error(c,a):d.error(c),!1):!0}return{attributeExists:c,refersTo:b,satisfiesRules:e,ariaControls:function(){return b("aria-controls")},ariaOwns:function(){return b("aria-owns")}}};return c=c["default"]}.call(this);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-inline-dialog2', location = 'src/js/aui/inline-dialog2.js' */
("undefined"===typeof window?global:window).__b4529c3c44b8657454bfd27f30c89b5c=function(){function c(a){return a&&a.__esModule?a:{"default":a}}function l(a,b){var d=document.querySelector('[aria-controls="'+a.id+'"]');d&&b(d)}function n(a){a=a.target;(0,e.default)(a).set("mouse-inside",!0);a.message({type:"mouseenter"})}function o(a){a=a.target;(0,e.default)(a).set("mouse-inside",!1);a.message({type:"mouseleave"})}function m(a){(0,e.default)(a).set("mouse-inside",void 0);a.removeEventListener("mouseenter",
n);a.removeEventListener("mouseleave",o);"hover"===a.respondsTo&&((0,e.default)(a).set("mouse-inside",!1),a.addEventListener("mouseenter",n),a.addEventListener("mouseleave",o))}function j(a){var b=!a.hasAttribute("aria-hidden"),d=a.hasAttribute("open");if(b||a.open!==d)d?((0,e.default)(a).set("is-processing-show",!0),(0,f.default)(a).show(),(0,f.default)(a).isVisible()?l(a,function(b){a._auiAlignment||(a._auiAlignment=new p.default(a,b));a._auiAlignment.enable();b.setAttribute("aria-expanded","true")}):
a.open=!1,(0,e.default)(a).set("is-processing-show",!1)):((0,f.default)(a).hide(),(0,f.default)(a).isVisible()?a.open=!0:l(a,function(b){a._auiAlignment||(a._auiAlignment=new p.default(a,b));a._auiAlignment.disable();b.setAttribute("aria-expanded","false")}))}var k={};"use strict";Object.defineProperty(k,"__esModule",{value:!0});var q=c(__700a145ba3db9966cc95664c892049f8),p=c(__81deba69899d0f1851f2c511b87bbbae),r=c(__65ca28a9d6b0f244027266ff8e6a6d1c),g=c(__ab489eda548cad099ce93b60faa6a3d5),s=c(__2512e2cfb8f46670d5cb777690a28c72),
t=c(__28c84e7bb75f6c3b0ba124d57bd69571),f=c(__3ada4a8272640e5242be87f12c7e0fdf),h=c(__0ac9a2c09f995a9c0a478af8742f59b7),e=c(__3f2c7809aecfe899611b77461a9218ac),u={click:function(a){if(a.open){if(!(0,f.default)(a).isPersistent())a.open=!1}else a.open=!0},mouseenter:function(a){a.open||(a.open=!0);a._clearMouseleaveTimeout&&a._clearMouseleaveTimeout()},mouseleave:function(a){if(!(0,f.default)(a).isPersistent()&&a.open){a._clearMouseleaveTimeout&&a._clearMouseleaveTimeout();var b=setTimeout(function(){if(!(0,
e.default)(a).get("mouse-inside"))a.open=!1},1E3);a._clearMouseleaveTimeout=function(){clearTimeout(b);a._clearMouseleaveTimeout=null}}},focus:function(a){a.open||(a.open=!0)},blur:function(a){if(!(0,f.default)(a).isPersistent()&&a.open)a.open=!1}},i={attribute:"responds-to",values:["toggle","hover"],missingDefault:"toggle",invalidDefault:"toggle"},h=(0,h.default)("aui-inline-dialog",{prototype:{get open(){return(0,f.default)(this).isVisible()},set open(a){g.default.setBooleanAttribute(this,"open",
a);j(this)},get persistent(){return this.hasAttribute("persistent")},set persistent(a){g.default.setBooleanAttribute(this,"persistent",a)},get respondsTo(){return g.default.computeEnumValue(i,this.getAttribute(i.attribute))},set respondsTo(a){var b=this.respondsTo;g.default.setEnumAttribute(this,i,a);b!==this.respondsTo&&m(this)},message:function(a){var b={toggle:["click"],hover:["mouseenter","mouseleave","focus","blur"]}[this.respondsTo];if(b&&-1<b.indexOf(a.type))u[a.type](this,a);return this}},
created:function(a){(0,e.default)(a).set("is-processing-show",!1);l(a,function(b){b.setAttribute("aria-expanded",a.open);b.setAttribute("aria-haspopup","true")})},attributes:{"aria-hidden":function(a,b){if("true"===b.newValue){var d=document.querySelector('[aria-controls="'+a.id+'"]');d&&d.setAttribute("aria-expanded","false")}g.default.setBooleanAttribute(a,"open","false"===b.newValue)},open:function(a){document.body.contains(a)&&j(a)},"responds-to":function(a,b){var d=g.default.computeEnumValue(i,
b.oldValue),c=g.default.computeEnumValue(i,b.newValue);d!==c&&m(a)}},attached:function(a){(0,s.default)(a).attributeExists("id");a.hasAttribute("open")?(0,e.default)(a).get("is-processing-show")||j(a):j(a);m(a)},detached:function(a){a._auiAlignment&&a._auiAlignment.destroy()},template:function(a){var b=(0,q.default)('<div class="aui-inline-dialog-contents"></div>').append(a.childNodes);(0,q.default)(a).addClass("aui-layer").html(b)}});(0,r.default)("aui/inline-dialog2",h);(0,t.default)("InlineDialog2",
h);k.default=h;return k=k["default"]}.call(this);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:aui-inline-dialog2', location = 'src/soy/inline-dialog2.soy' */
// This file was automatically generated from inline-dialog2.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.inlineDialog2.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.inlineDialog2 == 'undefined') { aui.inlineDialog2 = {}; }


aui.inlineDialog2.inlineDialog2 = function(opt_data, opt_ignored) {
  return '<aui-inline-dialog' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="' + aui.renderExtraClasses(opt_data) + '"' + ((opt_data.alignment) ? ' alignment="' + soy.$$escapeHtml(opt_data.alignment) + '"' : '') + ((opt_data.open) ? ' open' : '') + ((opt_data.persistent) ? ' persistent' : '') + ((opt_data.respondsTo) ? ' responds-to="' + soy.$$escapeHtml(opt_data.respondsTo) + '"' : '') + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</aui-inline-dialog>';
};
if (goog.DEBUG) {
  aui.inlineDialog2.inlineDialog2.soyTemplateName = 'aui.inlineDialog2.inlineDialog2';
}


aui.inlineDialog2.trigger = function(opt_data, opt_ignored) {
  return '' + aui.trigger.trigger(soy.$$augmentMap(opt_data, {showIcon: opt_data.showIcon ? opt_data.showIcon : false}));
};
if (goog.DEBUG) {
  aui.inlineDialog2.trigger.soyTemplateName = 'aui.inlineDialog2.trigger';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:internal-src-js-vendor-raf-raf', location = 'src/js-vendor/raf/raf.js' */
("undefined"===typeof window?global:window).__bf59f74063d342eb3fddf114cbed6239=function(){for(var a=window,f=0,d=["webkit","moz"],b=a.requestAnimationFrame,c=a.cancelAnimationFrame,e=d.length;0<=--e&&!b;)b=a[d[e]+"RequestAnimationFrame"],c=a[d[e]+"CancelAnimationFrame"];if(!b||!c)b=function(a){var b=Date.now(),c=Math.max(f+16,b);return setTimeout(function(){a(f=c)},c-b)},c=clearTimeout;a.requestAnimationFrame=b;a.cancelAnimationFrame=c;return{}}.call(this);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-internal-has-touch', location = 'src/js/aui/internal/has-touch.js' */
("undefined"===typeof window?global:window).__6c4fb3940d6fd500a61aec90cc3f93dc=function(){var a={};"use strict";Object.defineProperty(a,"__esModule",{value:!0});var b=window.DocumentTouch;a.default="ontouchstart"in window||b&&document instanceof b;return a=a["default"]}.call(this);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-internal-mediaQuery', location = 'src/js/aui/internal/mediaQuery.js' */
("undefined"===typeof window?global:window).__682859fc5d8be5d41dbacb89678092a4=function(){var a={};Object.defineProperty(a,"__esModule",{value:!0});a.default=function(a){if(window.matchMedia)return window.matchMedia(a).matches;var b=document.createElement("style");b.type="text/css";b.id="testMedia";b.innerText="@media "+a+" { #testMedia { width: 1px; } }";document.head.appendChild(b);a="1px"===window.getComputedStyle(b,null).width;b.parentNode.removeChild(b);return a};return a=a["default"]}.call(this);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.auiplugin:internal-src-js-aui-sidebar', location = 'src/js/aui/sidebar.js' */
("undefined"===typeof window?global:window).__794d61e50f5e0ebf599ea9f132cd243e=function(){function h(a){return a&&a.__esModule?a:{"default":a}}function c(a){this.$el=(0,d.default)(a);if(this.$el.length){this.$body=(0,d.default)("body");this.$wrapper=this.$el.children(".aui-sidebar-wrapper");this.$body.addClass("aui-page-sidebar");this._previousOffsetTop=this._previousViewportWidth=this._previousViewportHeight=this._previousScrollTop=null;this.submenus=new f;var b=this;if((0,d.default)(".aui-sidebar").length){b.$el.on("mouseenter mouseleave click focus",
b.collapsedTriggersSelector,function(a){a=(0,d.default)(a.target);s(b,a)});if(z.default&&(0,A.default)("only screen and (max-device-width:1024px)"))(0,d.default)("body").addClass("aui-page-sidebar-touch");var g=null,c=function(){null===g&&(g=requestAnimationFrame(function(){b.reflow();g=null}))};(0,d.default)(window).on("scroll resize",c);c();if(b.isAnimated())b.$el.on("transitionend webkitTransitionEnd",function(){b.$el.trigger(d.default.Event(l+(b.isCollapsed()?"collapse-end":"expand-end")))});
b.$el.on("click",".aui-sidebar-toggle",function(a){a.preventDefault();b.toggle()});(0,d.default)(".aui-page-panel").click(function(){!b.isCollapsed()&&b.isViewportNarrow()&&b.collapse()});var t=function(a){a.which===o.default.LEFT_SQUARE_BRACKET&&(!a.shiftKey&&!a.ctrlKey&&!a.metaKey&&!(0,B.default)(a.target))&&b.toggle()};(0,d.default)(document).on("keypress",t);b._remove=function(){this._removeAllTooltips();(0,d.default)(this.inlineDialogSelector).remove();this.$el.off();this.$el.remove();(0,d.default)(document).off("keypress",
t);(0,d.default)(window).off("scroll resize",c)};b.$el.on("touchend",function(a){b.isCollapsed()&&(b.expand(),a.preventDefault())});b.$el.on("mouseenter focus",b.collapsedTriggersSelector,function(){if(b.isCollapsed()){var a=(0,d.default)(this);0!==m(a).length||u(a)}});b.$el.on("click blur mouseleave",b.collapsedTriggersSelector,function(){b.isCollapsed()&&v((0,d.default)(this))});b.$el.on("mouseenter focus",b.toggleSelector,function(){var a=(0,d.default)(this);b.isCollapsed()?a.data("tooltip","\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u043a\u043e\u043b\u043e\u043d\u043a\u0443 ( [ )"):
a.data("tooltip","\u0421\u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u043e\u043b\u043e\u043d\u043a\u0443 ( [ )");u(a)});b.$el.on("click blur mouseleave",b.toggleSelector,function(){v((0,d.default)(this))});b.$el.on("keydown",b.collapsedTriggersSelector,function(a){if(b.isCollapsed()){var g=a.target,c=w(g);if(c){var e=(0,d.default)(c);a.keyCode===o.default.TAB&&(!a.shiftKey&&!a.altKey)&&c.open&&(a.preventDefault(),e.attr("persistent",""),e.find(":aui-tabbable").first().focus(),setTimeout(function(){e.removeAttr("persistent")},100),e.on("keydown",
function(a){if(a.keyCode===o.default.TAB&&a.shiftKey&&a.target===e.find(":aui-tabbable")[0]||a.keyCode===o.default.TAB&&(!a.shiftKey&&!a.altKey)&&a.target===e.find(":aui-tabbable").last()[0])g.focus(),(0,d.default)(this).off("keydown"),q()}))}}})}var e=this;(0,d.default)(e.collapsedTriggersSelector).each(function(){var a=(0,d.default)(this);s(e,a)})}}function x(a){return d.default.map(a.split(" "),function(a){return l+a}).join(" ")}function f(){this.inlineDialog=null}function m(a){return a.is("a")?
a.next(".aui-nav"):a.children(".aui-nav, hr")}function w(a){a=a.getAttribute("aria-controls");return document.getElementById(a)}function q(){var a=document.querySelectorAll(c.prototype.inlineDialogSelector);Array.prototype.forEach.call(a,function(a){a.open=!1})}function s(a,b){if(!b.data("_aui-sidebar-submenu-constructed")&&(b.data("_aui-sidebar-submenu-constructed",!0),0!==m(b).length)){var g=document.createElement("aui-inline-dialog"),f=(0,C.default)("sidebar-submenu");b.attr("aria-controls",f);
b.attr("data-aui-trigger","");y.default.init(b);g.setAttribute("id",f);g.setAttribute("alignment","right top");g.setAttribute("aria-hidden","true");a.isCollapsed()&&g.setAttribute("responds-to","hover");(0,d.default)(g).addClass(c.prototype.inlineDialogClass);document.body.appendChild(g);y.default.init(g);g.addEventListener("aui-layer-show",function(c){if(a.isCollapsed()){b.addClass("active");g.innerHTML=D;var e=b.is("a")?b.text():b.children(".aui-nav-heading").text(),c=(0,d.default)(g).find(".aui-navgroup-inner");
c.children(".aui-nav-heading").attr("title",e).children("strong").text(e);e=m(b);e=(0,E.default)(e);e.hasClass("aui-expander-content")&&(e.find(".aui-expander-cutoff").remove(),e.removeClass("aui-expander-content"));e.appendTo(c)}else c.preventDefault()});g.addEventListener("aui-layer-hide",function(){b.removeClass("active")});return g}}function u(a){a.tipsy(F).tipsy("show");(a=a.data("tipsy")&&a.data("tipsy").$tip)&&a.css({opacity:""}).addClass("tooltip-shown")}function v(a){var b=a.data("tipsy")&&
a.data("tipsy").$tip;if(b){var c=b.css("transition-duration");c?(c=0<=c.indexOf("ms")?parseInt(c.substring(0,c.length-2),10):1E3*parseInt(c.substring(0,c.length-1),10),setTimeout(function(){b.hasClass("tooltip-shown")&&(a.tipsy("hide"),b.removeClass("tooltip-shown"))},c)):b.removeClass("tooltip-shown")}}var p={};"use strict";Object.defineProperty(p,"__esModule",{value:!0});var d=h(__700a145ba3db9966cc95664c892049f8);__8c05d85e3d7fb791ad5071fea16ddb09;__bf59f74063d342eb3fddf114cbed6239;__fa714f1b12d7502957e4e0b6196321bf;
var E=h(__e7d0e8462b4386c30e9bcd3ad0a49ad3),k;var i=__921ad9514d56376fef992861d9ec0f51;if(i&&i.__esModule)k=i;else{var n={};if(null!=i)for(k in i)Object.prototype.hasOwnProperty.call(i,k)&&(n[k]=i[k]);n.default=i;k=n}var i=h(__28c84e7bb75f6c3b0ba124d57bd69571),z=h(__6c4fb3940d6fd500a61aec90cc3f93dc),B=h(__dff830f45baf5eb0b8447c97bbcc4699),o=h(__e246bf93af36eb4453f35afeb1c302d9),A=h(__682859fc5d8be5d41dbacb89678092a4),y=h(__0ac9a2c09f995a9c0a478af8742f59b7),C=h(__a0ab588de7b0759818853425dc8ad2f2),
n=h(__d2e8fc66dac2ecebdc205fcab991f687),G="undefined"!==typeof document.documentElement.style.transition||"undefined"!==typeof document.documentElement.style.webkitTransition,l="_aui-internal-sidebar-";c.prototype.on=function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1),a=x(a);this.$el.on.apply(this.$el,[a].concat(b));return this};c.prototype.off=function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1),a=x(a);this.$el.off.apply(this.$el,[a].concat(b));return this};
c.prototype.setHeight=function(a,b,c){a=Math.max(0,c-a);this.$wrapper.height(b-a);return this};c.prototype.setTopPosition=function(){this.$wrapper.toggleClass("aui-is-docked",(0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.pageYOffset)>this.$el.offset().top);return this};c.prototype.setPosition=k.fn(c.prototype.setTopPosition,"Sidebar.setPosition",{removeInVersion:"8.0.0",sinceVersion:"7.6.1",alternativeName:"Sidebar.setTopPosition"});c.prototype.setLeftPosition=function(){var a=0<
arguments.length&&void 0!==arguments[0]?arguments[0]:window.pageXOffset;this.$wrapper.hasClass("aui-is-docked")&&this.$wrapper.css({left:-a});return this};c.prototype.setCollapsedState=function(a){var b={collapsed:{},expanded:{}};b.collapsed.narrow={narrow:d.default.noop,wide:function(b){b._expand(a,!0)}};b.collapsed.wide={narrow:d.default.noop,wide:d.default.noop};b.expanded.narrow={narrow:d.default.noop,wide:function(a){a.$body.removeClass("aui-sidebar-collapsed");a.$el.removeClass("aui-sidebar-fly-out")}};
b.expanded.wide={narrow:function(a){a._collapse(!0)},wide:d.default.noop};var c=this.isCollapsed()?"collapsed":"expanded",f=this.isViewportNarrow(this._previousViewportWidth)?"narrow":"wide",h=this.isViewportNarrow(a)?"narrow":"wide";b[c][f][h](this);return this};c.prototype._collapse=function(a){if(this.isCollapsed())return this;var b=d.default.Event(l+"collapse-start",{isResponsive:a});this.$el.trigger(b);if(b.isDefaultPrevented())return this;this.$body.addClass("aui-sidebar-collapsed");this.$el.attr("aria-expanded",
"false");this.$el.removeClass("aui-sidebar-fly-out");this.$el.find(this.submenuTriggersSelector).attr("tabindex",0);(0,d.default)(this.inlineDialogSelector).attr("responds-to","hover");this.isAnimated()||this.$el.trigger(d.default.Event(l+"collapse-end",{isResponsive:a}));return this};c.prototype.collapse=function(){return this._collapse(!1)};c.prototype._expand=function(a,b){var c=d.default.Event(l+"expand-start",{isResponsive:b});this.$el.trigger(c);if(c.isDefaultPrevented())return this;c=this.isViewportNarrow(a);
this.$el.attr("aria-expanded","true");this.$body.toggleClass("aui-sidebar-collapsed",c);this.$el.toggleClass("aui-sidebar-fly-out",c);this.$el.find(this.submenuTriggersSelector).removeAttr("tabindex");(0,d.default)(this.inlineDialogSelector).removeAttr("responds-to");this.isAnimated()||this.$el.trigger(d.default.Event(l+"expand-end",{isResponsive:b}));return this};c.prototype.expand=function(){this.isCollapsed()&&this._expand(this._previousViewportWidth,!1);return this};c.prototype.isAnimated=function(){return G&&
this.$el.hasClass("aui-is-animated")};c.prototype.isCollapsed=function(){return"false"===this.$el.attr("aria-expanded")};c.prototype.isViewportNarrow=function(a){a=void 0===a?this._previousViewportWidth:a;return 1240>a};c.prototype._removeAllTooltips=function(){(0,d.default)(this.tooltipSelector).remove()};c.prototype.responsiveReflow=function(a,b){if(a){if(!this.isCollapsed()&&this.isViewportNarrow(b)){var c=this.isAnimated();c&&this.$el.removeClass("aui-is-animated");this.collapse();c&&(this.$el[0].offsetHeight,
this.$el.addClass("aui-is-animated"))}}else b!==this._previousViewportWidth&&this.setCollapsedState(b)};c.prototype.reflow=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.pageYOffset,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:document.documentElement.clientHeight,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:window.innerWidth,d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:document.documentElement.scrollHeight,f=4<arguments.length&&
void 0!==arguments[4]?arguments[4]:window.pageXOffset,e=this.$el.offset().top,h=null===this._previousViewportWidth;if(!(a===this._previousScrollTop&&b===this._previousViewportHeight&&e===this._previousOffsetTop)){this.isCollapsed()&&(!h&&a!==this._previousScrollTop)&&(q(),this._removeAllTooltips());var i=this.$body.hasClass("aui-page-sidebar-touch"),d=a!==this._previousScrollTop&&(0>a||a+b>d);if(!i&&(h||!d))this.setHeight(a,b,e),this.setTopPosition(a)}f!==this._previousScrollLeft&&this.setLeftPosition(f);
"false"!==this.$el.attr("data-aui-responsive")?this.responsiveReflow(h,c):(h=!this.isCollapsed()&&this.isViewportNarrow(c),this.$el.toggleClass("aui-sidebar-fly-out",h));this._previousScrollTop=a;this._previousViewportHeight=b;this._previousViewportWidth=c;this._previousOffsetTop=e;this._previousScrollLeft=f;return this};c.prototype.toggle=function(){this.isCollapsed()?(this.expand(),this._removeAllTooltips()):this.collapse();return this};c.prototype.submenuTriggersSelector=".aui-sidebar-group:not(.aui-sidebar-group-tier-one)";
c.prototype.collapsedTriggersSelector=[c.prototype.submenuTriggersSelector,".aui-sidebar-group.aui-sidebar-group-tier-one > .aui-nav > li > a",".aui-sidebar-footer > .aui-sidebar-settings-button"].join(", ");c.prototype.toggleSelector=".aui-sidebar-footer > .aui-sidebar-toggle";c.prototype.tooltipSelector=".aui-sidebar-section-tooltip";c.prototype.inlineDialogClass="aui-sidebar-submenu-dialog";c.prototype.inlineDialogSelector="."+c.prototype.inlineDialogClass;f.prototype.submenu=function(a){j();return m(a)};
f.prototype.hasSubmenu=function(a){j();return 0!==m(a).length};f.prototype.submenuHeadingHeight=function(){j();return 34};f.prototype.isShowing=function(){j();return c.prototype.isSubmenuVisible()};f.prototype.show=function(a,b){j();w(b).open=!0};f.prototype.hide=function(){j();q()};f.prototype.inlineDialogShowHandler=function(){j()};f.prototype.inlineDialogHideHandler=function(){j()};f.prototype.moveSubmenuToInlineDialog=function(){j()};f.prototype.restoreSubmenu=function(){j()};c.prototype.getVisibleSubmenus=
function(){return Array.prototype.filter.call(document.querySelectorAll(c.prototype.inlineDialogSelector),function(a){return a.open})};c.prototype.isSubmenuVisible=function(){return 0<this.getVisibleSubmenus().length};var D='<div class="aui-inline-dialog-contents"><div class="aui-sidebar-submenu" ><div class="aui-navgroup aui-navgroup-vertical"><div class="aui-navgroup-inner"><div class="aui-nav-heading"><strong></strong></div></div></div></div></div>',F={trigger:"manual",gravity:"w",className:"aui-sidebar-section-tooltip",
title:function(){var a=(0,d.default)(this);return a.is("a")?a.attr("title")||a.find(".aui-nav-item-label").text()||a.data("tooltip"):a.children(".aui-nav").attr("title")||a.children(".aui-nav-heading").text()}},r=(0,n.default)("sidebar",c);(0,d.default)(function(){r(".aui-sidebar")});var j=k.getMessageLogger("Sidebar.submenus",{removeInVersion:"8.0",sinceVersion:"5.8"});(0,i.default)("sidebar",r);p.default=r;return p=p["default"]}.call(this);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api', location = 'probe.js' */
!function(){var n,t,e,r,i,o,u,a,c,s,f,l,h,d,y,p,v,m,w;n=function(){return window}(),t=function(n){return!(!n.performance||!n.performance.now)}(n),e=[],r=function(n){return function(t){n.unshift({addReporter:t})}}(e),i=function(n){return function(t){for(;n.length;)t(n.splice(0,1)[0]);n.unshift=t,n.push=t}}(e),o=function(n,t){return function(e){n.push({end:{key:e.key,timestamp:t.performance.now()}})}}(e,n),u=function(n){return n.document}(n),a=function(n){return n.Promise}(n),c=function(){function n(){this._={}}var t=function(e){var r=e[0],i=e[1];i instanceof n?e.length>=3?Object.keys(i._).forEach(function(n){t([r,i._[n],n].concat(e.slice(2)))}):Object.keys(i._).forEach(function(n){t([r,i._[n],n])}):Array.isArray(i)&&r.apply(null,[i].concat(e.slice(2)))};n.prototype.forEach=function(n){t([n,this])},n.prototype.add=function(){for(var t=this,e=null,r=null,i=0;i<arguments.length;i++){if(r=arguments[i],i===arguments.length-1&&Array.isArray(t)){t.push(r);break}i<arguments.length-2&&!t._.hasOwnProperty(r)?t._[r]=new n:i!==arguments.length-2||t._.hasOwnProperty(r)||(t._[r]=[]),t=t._[r],e=r}};var e=function(n,t){if(0!==n.length){var r=n.pop(),i=r[0],o=r[1];i===t?e(n,i):o._.hasOwnProperty(t)&&delete o._[t],0===Object.keys(o).length&&e(n,i)}};return n.prototype.remove=function(){for(var n,t=!1,r=null,i=this,o=[[r,i]],u=null,a=0;a<arguments.length;a++)if(u=arguments[a],Array.isArray(i))n=i.indexOf(u),n>-1&&(i.splice(n,1),0===i.length&&o.length>1&&e(o,r),t=!0);else{if(!i._.hasOwnProperty(u))break;a===arguments.length-1&&(delete i._[u],0===Object.keys(i).length&&o.length>1&&e(o,r),t=!0),r=u,i=i._[u],o.push([r,i])}return t},n.prototype.get=function(n){return this._.hasOwnProperty(n)?this._[n]:[]},n}(),s=function(n,t,e,r){function i(n){return!n||null==n||"null"===n||"undefined"===n}function o(t,e,r){l||(c.observe(n,{attributes:!0,childList:!0,subtree:!0}),l=!0),s.add(t,e,r)}function u(t,e){var r=n.querySelectorAll(t);return r.length&&(i(e)||Array.prototype.every.call(r,function(n){return!n.querySelector(e)}))}function a(n,e){var r;n.forEach||(n=[n]),!i(e)&&Array.isArray(e)&&(e=e.join(", "));var a=new t(function(i,a){var c=[],f=[];n.forEach(function(n){var r,i;u(n,e)||(r=new t(function(t){o(n,e,t),i=function(){s.remove(n,e,t)},f.push(i)}),c.push(r))});var l=function(){f.forEach(function(n){n()})};t.all(c).then(l).then(i,a),r=function(){l(),a()}});return a.dismiss=r,a}var c,s,f=r.MutationObserver,l=!1;return f&&t?(s=new e,c=new f(function(){s.forEach(function(n,t,e){u(e,t)&&(n.forEach(function(n){n()}),s.remove(e,t))})}),a):void 0}(u,a,c,n),f=function(n){return!!n}(s),l=function(n){function t(){c(),n.body.classList.add(u)}function e(){function e(){n.body.classList.remove(u),n.removeEventListener(i,s),n.removeEventListener(o,c),r=null}if(r)return r;var c,s,f=!1;return r=new Promise(function(e,r){"visible"!==n.visibilityState?r():(s=function(){f=!0},c=function(n){n.animationName===a&&(f?r():e())},n.addEventListener(i,s),n.addEventListener(o,c),t())}),r.then(e,e),r}var r,i="visibilitychange",o="animationend",u="browser-metrics-visibility-test",a="browser-metrics-visibility-animation",c=function(){var t=n.createElement("style"),e=["."+u+" {","-webkit-animation-duration: 0.001s;","animation-duration: 0.001s;","-webkit-animation-name: "+a+";","animation-name: "+a+";","-webkit-animation-iteration-count: 1;","animation-iteration-count: 1;","}","@keyframes "+a+" {}","@-webkit-keyframes "+a+" {","from {}","to {}","}"].join("\n");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(n.createTextNode(e)),n.head.appendChild(t),c=function(){}};return e}(u),h=function(n,t,e,r,i){function o(n){return Array.isArray(n)||(n=[n]),n.map(function(n){return"string"==typeof n?{selector:n,hasNone:null}:n})}function u(n){return Array.isArray(n)||"string"==typeof n}function a(n){return u(n)&&(n={rules:n}),n.rules=o(n.rules),n.requirePaint="undefined"==typeof n.requirePaint?!1:n.requirePaint,n}return function(i,o){if(n){i=a(i);var u=function(){},c=new e(function(n,r){var o=[],a=i.rules.map(function(n){var e=new t(n.selector,n.hasNone);return o.push(function(){e.dismiss()}),e});u=function(){o.forEach(function(n){n()}),r()},e.all(a).then(function(n){}).then(n,r)});return c.cancel=u,i.requirePaint&&(c=c.then(r)),"function"==typeof o&&c.then(o),c}}}(f,s,a,l,n),d=function(n,t){function e(){return r}var r=!1;return n.addEventListener("DOMContentLoaded",function(){t.setTimeout(function(){r=!0})}),e}(u,n),y=function(n,t,e,r,i,o,u){function a(){c=null}var c;return function(o){var s="isInitial"in o?o.isInitial:i()===!1,f="threshold"in o?o.threshold:1e3,l="reporters"in o?o.reporters:[];r.push({start:{key:o.key,isInitial:s,threshold:f,timestamp:s?0:u.performance.now(),reporters:Array.isArray(l)?l:[l]}}),c&&(c.cancel(),a()),o.ready&&e&&(c=n(o.ready),c.then(function(){t({key:o.key})}).then(a,a))}}(h,o,f,e,d,a,n),p=function(n){return function(t){n.push({subscribe:t})}}(e),v=function(){return window}(),m=function(n){return n.performance}(v),w=function(n,t,e,r,i,o,u){var a=function(){};return u?{start:n?i:a,end:n?r:a,addReporter:n?t:a,delegateTo:n?e:a,subscribe:n?o:a}:void 0}(t,r,i,o,y,p,m),window["browser-metrics"]=w,window.define&&window.define("internal/browser-metrics",function(){return w})}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api', location = 'internal/browser-metrics-aa-beacon.js' */
!function(){var e={};e=function(e){function n(e,n){Object.keys(n).forEach(function(r){e[r]=n[r]})}Object.defineProperty(e,"__esModule",{value:!0});var r,t=[],o=[];return e.addUrlCleaner=function(e){o.push(e)},e.cleanUrl=function(e){return o.reduce(function(n,r){var t=r(e);return t.length>n.length?t:n},"")},e.addReportMarshaller=function(e){t.push(e)},e.setEventQueue=function(e){r=e},e.beacon=function(e){var o={};t.forEach(function(r){var t=r(e);"object"==typeof t&&n(o,t)});var a={name:"browser.metrics.navigation",properties:o};(r||AJS.EventQueue).push(a)},e}(e),window["browser-metrics-aa-beacon"]=e,window.define&&window.define("internal/browser-metrics-aa-beacon",function(){return e})}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.browser.metrics.browser-metrics-plugin:api', location = 'loader.js' */
!function(){var n={},r={};r=function(n,r,i){function e(){t===u&&o&&(o(),o=null)}Object.defineProperty(n,"__esModule",{value:!0});var t=0,u=0,o=null,c={install:function(n){t+=1,n(function(){u+=1,e()})}};return r["browser-metrics-plugin"]=c,i.require(["wrc!browser-metrics-plugin.contrib"],function(){r.require(["internal/browser-metrics-plugin/collector"],function(n){o=function(){n.install()},e()})}),n}(r,n=window,n.WRM)}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-browser-metrics:util', location = 'js/util/is-boolean.js' */
define("confluence-browser-metrics/util/is-boolean",[],function(){return function(a){return typeof a==="boolean"}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-browser-metrics:util', location = 'js/util/is-number.js' */
define("confluence-browser-metrics/util/is-number",[],function(){return function(a){return typeof a==="number"}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-browser-metrics:util', location = 'js/util/is-string.js' */
define("confluence-browser-metrics/util/is-string",[],function(){return function(a){return typeof a==="string"}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-browser-metrics:spa-transitions', location = '/js/reporters/spa-transitions-reporter.js' */
define("confluence-browser-metrics/reporters/spa-transitions-reporter",["jquery","ajs","confluence/storage-manager"],function(c,i,l){var d=c.Deferred();var m="page-page";var k="dashboard-page";var a=l("confluence","spa-transition");i.toInit(function(){c(document).on("click","a",g);var o=null;if(a.doesContain(m)){o=m}else{if(a.doesContain(k)){o=k}}if(o){d.resolve({"confluence-spa-transition":o});a.removeItem(o)}else{d.resolve({})}});function g(p){var o=c(this).attr("href");if(o&&e(p)&&b(o)){a.setItemQuietly(h()?k:m,true,300)}return true}function e(o){return o.which===1&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey}function b(o){return(o.indexOf("/display/")!==-1||j(o)||o.indexOf("/viewpage.action")!==-1)&&(o.indexOf("~")===-1||n(o))}function n(o){return(o.indexOf("/",o.indexOf("~")+1)!==-1)&&o.slice(-1)!=="/"}function j(o){return/spaces\/(.*)\/pages\/(.*)/.test(o)}function h(){return c("body").hasClass("dashboard")}var f=function(o){if(o.isInitial){return d.promise()}else{return{}}};return f});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-browser-metrics:spa-transitions', location = '/js/marshallers/spa-transitions-marshaller.js' */
define("confluence-browser-metrics/marshallers/spa-transitions-marshaller",["confluence-browser-metrics/util/is-string"],function(a){function c(d){return a(d["confluence-spa-transition"])}var b=function(d){if(c(d)){return{"confluence-spa-transition":d["confluence-spa-transition"]}}};return b});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-browser-metrics:dashboard', location = '/js/dashboard.js' */
require(["internal/browser-metrics","confluence-browser-metrics/reporters/spa-transitions-reporter","jquery","confluence/api/event"],function(b,f,d,c){(function e(){var g="confluence.spa.navigation.performance";c.bind(g,function(h,i){if(i.isStartEvent){b.start({key:g,isInitial:false,reporters:function(){return{transitionTo:i.transitionTo}}})}else{b.end({key:g,isInitial:false})}})}());function a(){var i=d("#confluence-ui.confluence-dashboard").length;if(i){return}var g=d("body.dashboard").length;var h=".confluence-dashboard .list-container li:not(.loading-view)";var j=!d(".confluence-dashboard").length;if(j){h=".dashboard"}if(g){b.start({key:"confluence.dashboard.view",ready:h,isInitial:true})}}d(a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-browser-metrics:legacy-browser-metrics', location = '/js/legacy/browser-metrics.js' */
(function(){var a=window.BrowserMetrics||{};a.isFunction=function(b){return !!(b&&b.constructor&&b.call&&b.apply)};a.isEnabled=function(){if(a.enabled===undefined){a.enabled=true}return a.enabled};window.BrowserMetrics=a}());(function(){var b=window.BrowserMetrics||{};if(b.isEnabled()){var f=5;var e=12000;var c=function(g){return Math.round(g)};var a=function(g){return Math.round(g*100)/100};var d=function(k){var h=(function(){var n=/^(\w+):\/\/([^\/]*)(.*)$/;return function(p){var o=p.match(n);if(!o){return{path:p}}return{scheme:o[1],host:o[2],path:o[3]}}}());var i=(function(){var n=["secureConnectionStart","requestStart","responseStart","responseEnd","domContentLoadedEventStart","domContentLoadedEventEnd","loadEventEnd"];return function(o){if(k.performance){var s=k.performance.timing;var p=s.navigationStart;if(p){for(var r=0;r<n.length;++r){var q=n[r];var t=s[q];if(t){o(q,t-p)}}}}}}());var g=(function(){var o=[{key:"LOGIN",pattern:/^\/login.*/i},{key:"J-DASH",pattern:/^\/secure\/dashboard\.jspa.*/i},{key:"J-ISSUE",pattern:/^\/browse\/\w+\-\w+.*/i},{key:"J-NAV",pattern:/^\/issues.*/i},{key:"J-RAPID",pattern:/secure\/rapidboard\.jspa/i},{key:"SD-AGENT",pattern:/^(\/\w+)?\/servicedesk\/agent\/.*/i},{key:"SD-CUSTOMER",pattern:/^(\/\w+)?\/servicedesk\/customer\/.*/i},{key:"C-DASH",pattern:/^\/wiki(\/)?(\?.*|#.*)?$/i},{key:"C-DASH",pattern:/^\/wiki\/dashboard\.action.*$/i},{key:"C-SPACE",pattern:/^\/wiki\/display\/\w+(\?.*|#.*)?$/i},{key:"C-PAGE",pattern:/^\/wiki\/display\/\w+\/.*/i},{key:"C-PAGE",pattern:/^\/wiki\/pages\/viewpage\.action.*/i},{key:"C-BLOG",pattern:/^\/wiki\/display\/~\w+\/\d+\/\d+\/\d+\/.*/i},{key:"C-EDITOR",pattern:/^\/wiki\/pages\/editpage\.action.*/i},{key:"C-CREATE",pattern:/^\/wiki\/pages\/createpage\.action.*/i}];return function n(){var r=h(k.location.href).path;for(var p=0;p<o.length;++p){var q=o[p];if(r.match(q.pattern)){return q.key}}return null}}());function j(){var n=g();if(n){i(function(p,r){var o="browser.metrics."+p,q={version:f,page:n,value:r>e?"x":Math.ceil((r)/100),rawValue:c(r)};AJS.Analytics?AJS.Analytics.triggerPrivacyPolicySafeEvent(o,q):AJS.trigger("analyticsEvent",{name:o,data:q})})}}function m(){try{j()}catch(n){if(window.console){window.console.log("Error reporting browser metrics: "+n)}}}function l(){if(k.performance.timing.loadEventEnd){m()}else{setTimeout(l,1000)}}if(k.performance&&k.performance.timing){l()}};if(!window.ATL_PERF){window.ATL_PERF={}}window.ATL_PERF.initPageLoad=d}}());
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-browser-metrics:legacy-browser-metrics', location = '/js/legacy/browser-metrics-events.js' */
(function(){var b=window.BrowserMetrics||{};if(b.isEnabled()){var e=5;var d=12000;var a=function(f){return Math.round(f*100)/100};var c=function(g){var l={};function h(){return g.performance&&g.performance.now?g.performance.now():new Date().getTime()}function n(o){return o===Object(o)}function k(o){if(n(o)){return o.eventName+"."+o.eventType}else{return o}}function m(o){if(n(o)){return o.eventName}else{return o}}function j(o){if(n(o)){return o.eventType}else{return""}}function f(o){var p=k(o);l[p]=h()}function i(r,u){var v=k(r);if(!l[v]){throw ("Error logging browser metrics event end: no start event for key '"+v+"'")}var t=h()-l[v];l[v]=null;var o=m(r),q=j(r);var p="browser.metrics.e."+o+(u?"."+u:""),s={version:e,value:t>d?"x":Math.ceil((t)/100),rawValue:a(t),eventType:q};g.AJS.Analytics?g.AJS.Analytics.triggerPrivacyPolicySafeEvent(p,s):g.AJS.trigger("analyticsEvent",{name:p,data:s})}return{start:f,end:i}};if(!window.ATL_PERF){window.ATL_PERF={}}window.ATL_PERF.initEvents=c}}());
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-browser-metrics:legacy-browser-metrics', location = '/js/legacy/browser-metrics-init.js' */
(function(){var a=window.BrowserMetrics||{};if(a.isEnabled()){if(Math.random()<0.1){window.ATL_PERF&&window.ATL_PERF.initPageLoad&&window.ATL_PERF.initPageLoad(window)}window.ATL_PERF&&window.ATL_PERF.initEvents&&(function(){window.BrowserMetrics=window.ATL_PERF.initEvents(window)}())}}());
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.macros.dashboard:old-dashboard-resource-loader', location = 'com/atlassian/confluence/plugins/macros/dashboard/js/dashboard-resource-loader.js' */
define("confluence-dashboard-macros/dashboard-resource-loader",["jquery","wrm"],function(a,c){var b=[];return function(){(a("#recent-updates .tabs-menu").length||a(".spaceList").length)&&b.push("wr!confluence.macros.dashboard:dashboard-macros-resources");a("#spaces-tab-link").length&&b.push("wr!confluence.macros.dashboard:dashboard-global-entity-resources");0!==b.length&&c.require(b).done(function(){-1<b.indexOf("wr!confluence.macros.dashboard:dashboard-macros-resources")&&require("confluence-dashboard-macros/dashboard-macros")(a);
-1<b.indexOf("wr!confluence.macros.dashboard:dashboard-global-entity-resources")&&require("confluence-dashboard-macros/entity-tabs")})}});require("confluence/module-exporter").safeRequire("confluence-dashboard-macros/dashboard-resource-loader",function(a){require("ajs").toInit(a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:fancy-box', location = '/includes/fancybox/jquery.fancybox-1.3.4.js' */
(function(a){var n,s,t,e,z,l,A,i,w,x,q=0,d={},o=[],p=0,b={},j=[],C=null,m=new Image,F=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,Q=/[^\.]\.(swf)\s*$/i,G,H=1,v=0,u="",r,g,k=!1,y=a.extend(a("<div/>")[0],{prop:0}),I=a.browser.msie&&7>a.browser.version&&!window.XMLHttpRequest,J=function(){s.hide();m.onerror=m.onload=null;C&&C.abort();n.empty()},K=function(){!1===d.onError(o,q,d)?(s.hide(),k=!1):(d.titleShow=!1,d.width="auto",d.height="auto",n.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),
B())},E=function(){var c=o[q],b,f,e,g,j,i;J();d=a.extend({},a.fn.fancybox.defaults,"undefined"==typeof a(c).data("fancybox")?d:a(c).data("fancybox"));i=d.onStart(o,q,d);if(!1===i)k=!1;else{"object"==typeof i&&(d=a.extend(d,i));e=d.title||(c.nodeName?a(c).attr("title"):c.title)||"";d.orig=a(c).is("img")&&a(c);c.nodeName&&!d.orig&&(d.orig=a(c).children("img:first").length?a(c).children("img:first"):a(c));""===e&&(d.orig&&d.titleFromAlt)&&(e=d.orig.attr("alt"));b=d.href||(c.nodeName?a(c).attr("href"):
c.href)||null;if(/^(?:javascript)/i.test(b)||"#"==b)b=null;d.type?(f=d.type,b||(b=d.content)):d.content?f="html":d.dataAttr?(f="dataAttribute",b=d.orig.attr("data-"+d.dataAttr)):b&&(f=b.match(F)?"image":b.match(Q)?"swf":a(c).hasClass("iframe")?"iframe":0===b.indexOf("#")?"inline":"ajax");if(f)switch("inline"==f&&(c=b.substr(b.indexOf("#")),f=0<a(c).length?"inline":"ajax"),d.type=f,d.href=b,d.title=e,d.autoDimensions&&("html"==d.type||"inline"==d.type||"ajax"==d.type?(d.width="auto",d.height="auto"):
d.autoDimensions=!1),d.modal&&(d.overlayShow=!0,d.hideOnOverlayClick=!1,d.hideOnContentClick=!1,d.enableEscapeButton=!1,d.showCloseButton=!1),d.padding=parseInt(d.padding,10),d.margin=parseInt(d.margin,10),n.css("padding",d.padding+d.margin),a(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){a(this).replaceWith(l.children())}),f){case "html":n.html(d.content);B();break;case "inline":if(!0===a(c).parent().is("#fancybox-content")){k=!1;break}a('<div class="fancybox-inline-tmp" />').hide().insertBefore(a(c)).bind("fancybox-cleanup",
function(){a(this).replaceWith(l.children())}).bind("fancybox-cancel",function(){a(this).replaceWith(n.children())});a(c).appendTo(n);B();break;case "image":case "dataAttribute":k=!1;a.fancybox.showActivity();m=new Image;m.onerror=function(){K()};m.onload=function(){k=true;m.onerror=m.onload=null;d.width=m.width;d.height=m.height;a("<img />").attr({id:"fancybox-img",src:m.src,alt:d.title}).appendTo(n);L()};m.src=b;break;case "swf":d.scrolling="no";g='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+
d.width+'" height="'+d.height+'"><param name="movie" value="'+b+'"></param>';j="";a.each(d.swf,function(a,c){g=g+('<param name="'+a+'" value="'+c+'"></param>');j=j+(" "+a+'="'+c+'"')});g+='<embed src="'+b+'" type="application/x-shockwave-flash" width="'+d.width+'" height="'+d.height+'"'+j+"></embed></object>";n.html(g);B();break;case "ajax":k=!1;a.fancybox.showActivity();d.ajax.win=d.ajax.success;C=a.ajax(a.extend({},d.ajax,{url:b,data:d.ajax.data||{},error:function(a){a.status>0&&K()},success:function(a,
c,f){if((typeof f=="object"?f:C).status==200){if(typeof d.ajax.win=="function"){i=d.ajax.win(b,a,c,f);if(i===false){s.hide();return}if(typeof i=="string"||typeof i=="object")a=i}n.html(a);B()}}}));break;case "iframe":L()}else K()}},B=function(){var c=d.width,b=d.height,c=-1<c.toString().indexOf("%")?parseInt((a(window).width()-2*d.margin)*parseFloat(c)/100,10)+"px":"auto"==c?"auto":c+"px",b=-1<b.toString().indexOf("%")?parseInt((a(window).height()-2*d.margin)*parseFloat(b)/100,10)+"px":"auto"==b?
"auto":b+"px";n.wrapInner('<div style="width:'+c+";height:"+b+";overflow: "+("auto"==d.scrolling?"auto":"yes"==d.scrolling?"scroll":"hidden")+';position:relative;"></div>');d.width=n.width();d.height=n.height();L()},L=function(){var c,h;s.hide();if(e.is(":visible")&&!1===b.onCleanup(j,p,b))a.event.trigger("fancybox-cancel"),k=!1;else{k=!0;a(l.add(t)).unbind();a(window).unbind("resize.fb scroll.fb");a(document).unbind("keydown.fb");e.is(":visible")&&"outside"!==b.titlePosition&&e.css("height",e.height());
j=o;p=q;b=d;if(b.overlayShow){if(t.css({"background-color":b.overlayColor,opacity:b.overlayOpacity,cursor:b.hideOnOverlayClick?"pointer":"auto",height:a(document).height()}),!t.is(":visible")){if(I)a("select:not(#fancybox-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"});t.show()}}else t.hide();c=M();var f={},D=b.autoScale,m=2*b.padding;f.width=-1<b.width.toString().indexOf("%")?parseInt(c[0]*
parseFloat(b.width)/100,10):b.width+m;f.height=-1<b.height.toString().indexOf("%")?parseInt(c[1]*parseFloat(b.height)/100,10):b.height+m;if(D&&(f.width>c[0]||f.height>c[1]))if("image"==d.type||"dataAttribute"==d.type||"swf"==d.type){if(D=b.width/b.height,f.width>c[0]&&(f.width=c[0],f.height=parseInt((f.width-m)/D+m,10)),f.height>c[1])f.height=c[1],f.width=parseInt((f.height-m)*D+m,10)}else f.width=Math.min(f.width,c[0]),f.height=Math.min(f.height,c[1]);f.top=parseInt(Math.max(c[3]-20,c[3]+0.5*(c[1]-
f.height-40)),10);f.left=parseInt(Math.max(c[2]-20,c[2]+0.5*(c[0]-f.width-40)),10);g=f;u=b.title||"";v=0;i.empty().removeAttr("style").removeClass();if(!1!==b.titleShow&&(u=a.isFunction(b.titleFormat)?b.titleFormat(u,j,p,b):u&&u.length?"float"==b.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+u+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+
b.titlePosition+'">'+u+"</div>":!1)&&""!==u)switch(i.addClass("fancybox-title-"+b.titlePosition).html(u).appendTo("body").show(),b.titlePosition){case "inside":i.css({width:g.width-2*b.padding,marginLeft:b.padding,marginRight:b.padding});v=i.outerHeight(!0);i.appendTo(z);g.height+=v;break;case "over":i.css({marginLeft:b.padding,width:g.width-2*b.padding,bottom:b.padding}).appendTo(z);break;case "float":i.css("left",-1*parseInt((i.width()-g.width-40)/2,10)).appendTo(e);break;default:i.css({width:g.width-
2*b.padding,paddingLeft:b.padding,paddingRight:b.padding}).appendTo(e)}i.hide();e.is(":visible")?(a(A.add(w).add(x)).hide(),c=e.position(),r={top:c.top,left:c.left,width:e.width(),height:e.height()},h=r.width==g.width&&r.height==g.height,l.fadeTo(b.changeFade,0.3,function(){var c=function(){l.html(n.contents()).fadeTo(b.changeFade,1,N)};a.event.trigger("fancybox-change");l.empty().removeAttr("filter").css({"border-width":b.padding,width:g.width-2*b.padding,height:d.autoDimensions?"auto":g.height-
v-2*b.padding});h?c():(y.prop=0,a(y).animate({prop:1},{duration:b.changeSpeed,easing:b.easingChange,step:O,complete:c}))})):(e.removeAttr("style"),l.css("border-width",b.padding),"elastic"==b.transitionIn?(r=P(),l.html(n.contents()),e.show(),b.opacity&&(g.opacity=0),y.prop=0,a(y).animate({prop:1},{duration:b.speedIn,easing:b.easingIn,step:O,complete:N})):("inside"==b.titlePosition&&0<v&&i.show(),l.css({width:g.width-2*b.padding,height:d.autoDimensions?"auto":g.height-v-2*b.padding}).html(n.contents()),
e.css(g).fadeIn("none"==b.transitionIn?0:b.speedIn,N)))}},N=function(){a.support.opacity||(l.get(0).style.removeAttribute("filter"),e.get(0).style.removeAttribute("filter"));d.autoDimensions&&l.css("height","auto");e.css("height","auto");u&&u.length&&i.show();b.showCloseButton&&A.show();(b.enableEscapeButton||b.enableKeyboardNav)&&a(document).bind("keydown.fb",function(c){if(c.keyCode==27&&b.enableEscapeButton){c.preventDefault();a.fancybox.close()}else if((c.keyCode==37||c.keyCode==39)&&b.enableKeyboardNav&&
c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.target.tagName!=="SELECT"){c.preventDefault();a.fancybox[c.keyCode==37?"prev":"next"]()}});b.showNavArrows?((b.cyclic&&1<j.length||0!==p)&&w.show(),(b.cyclic&&1<j.length||p!=j.length-1)&&x.show()):(w.hide(),x.hide());b.hideOnContentClick&&l.bind("click",a.fancybox.close);b.hideOnOverlayClick&&t.bind("click",a.fancybox.close);a(window).bind("resize.fb",a.fancybox.resize);b.centerOnScroll&&a(window).bind("scroll.fb",a.fancybox.center);"iframe"==
b.type&&a('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(a.browser.msie?'allowtransparency="true""':"")+' scrolling="'+d.scrolling+'" src="'+b.href+'"></iframe>').appendTo(l);e.show();k=!1;a.fancybox.center();b.onComplete(j,p,b);var c,h;j.length-1>p&&(c=j[p+1].href,"undefined"!==typeof c&&c.match(F)&&(h=new Image,h.src=c));0<p&&(c=j[p-1].href,"undefined"!==typeof c&&c.match(F)&&(h=new Image,h.src=c))},O=function(a){var d={width:parseInt(r.width+
(g.width-r.width)*a,10),height:parseInt(r.height+(g.height-r.height)*a,10),top:parseInt(r.top+(g.top-r.top)*a,10),left:parseInt(r.left+(g.left-r.left)*a,10)};"undefined"!==typeof g.opacity&&(d.opacity=0.5>a?0.5:a);e.css(d);l.css({width:d.width-2*b.padding,height:d.height-v*a-2*b.padding})},M=function(){return[a(window).width()-2*b.margin,a(window).height()-2*b.margin,a(document).scrollLeft()+b.margin,a(document).scrollTop()+b.margin]},P=function(){var c=d.orig?a(d.orig):!1,h={};c&&c.length?(h=c.offset(),
h.top+=parseInt(c.css("paddingTop"),10)||0,h.left+=parseInt(c.css("paddingLeft"),10)||0,h.top+=parseInt(c.css("border-top-width"),10)||0,h.left+=parseInt(c.css("border-left-width"),10)||0,h.width=c.width(),h.height=c.height(),h={width:h.width+2*b.padding,height:h.height+2*b.padding,top:h.top-b.padding-20,left:h.left-b.padding-20}):(c=M(),h={width:2*b.padding,height:2*b.padding,top:parseInt(c[3]+0.5*c[1],10),left:parseInt(c[2]+0.5*c[0],10)});return h},R=function(){s.is(":visible")?(a("div",s).css("top",
-40*H+"px"),H=(H+1)%12):clearInterval(G)};a.fn.fancybox=function(c){AJS&&AJS.log("fancybox is deprecated, please use the previewer instead. E.g. $imageLink.previewer({ src: srcOfImage }); ");if(!a(this).length)return this;a(this).data("fancybox",a.extend({},c,a.metadata?a(this).metadata():{})).unbind("click.fb").bind("click.fb",function(c){c.preventDefault();k||(k=!0,a(this).blur(),o=[],q=0,c=a(this).attr("rel")||"",!c||""==c||"nofollow"===c?o.push(this):(o=a("a[rel="+c+"], area[rel="+c+"]"),q=o.index(this)),
E())});return this};a.fancybox=function(c,b){var d;if(!k){k=!0;d="undefined"!==typeof b?b:{};o=[];q=parseInt(d.index,10)||0;if(a.isArray(c)){for(var e=0,g=c.length;e<g;e++)"object"==typeof c[e]?a(c[e]).data("fancybox",a.extend({},d,c[e])):c[e]=a({}).data("fancybox",a.extend({content:c[e]},d));o=jQuery.merge(o,c)}else"object"==typeof c?a(c).data("fancybox",a.extend({},d,c)):c=a({}).data("fancybox",a.extend({content:c},d)),o.push(c);if(q>o.length||0>q)q=0;E()}};a.fancybox.showActivity=function(){clearInterval(G);
s.show();G=setInterval(R,66)};a.fancybox.hideActivity=function(){s.hide()};a.fancybox.next=function(){return a.fancybox.pos(p+1)};a.fancybox.prev=function(){return a.fancybox.pos(p-1)};a.fancybox.pos=function(a){k||(a=parseInt(a,10),o=j,-1<a&&a<j.length?(q=a,E()):b.cyclic&&1<j.length&&(q=a>=j.length?0:j.length-1,E()))};a.fancybox.cancel=function(){k||(k=!0,a.event.trigger("fancybox-cancel"),J(),d.onCancel(o,q,d),k=!1)};a.fancybox.close=function(){function c(){t.fadeOut("fast");i.empty().hide();e.hide();
a.event.trigger("fancybox-cleanup");l.empty();b.onClosed(j,p,b);j=d=[];p=q=0;b=d={};k=!1}if(!k&&!e.is(":hidden"))if(k=!0,b&&!1===b.onCleanup(j,p,b))k=!1;else if(J(),a(A.add(w).add(x)).hide(),a(l.add(t)).unbind(),a(window).unbind("resize.fb scroll.fb"),a(document).unbind("keydown.fb"),l.find("iframe").attr("src",I&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),"inside"!==b.titlePosition&&i.empty(),e.stop(),"elastic"==b.transitionOut){r=P();var h=e.position();g={top:h.top,
left:h.left,width:e.width(),height:e.height()};b.opacity&&(g.opacity=1);i.empty().hide();y.prop=1;a(y).animate({prop:0},{duration:b.speedOut,easing:b.easingOut,step:O,complete:c})}else e.fadeOut("none"==b.transitionOut?0:b.speedOut,c)};a.fancybox.resize=function(){t.is(":visible")&&t.css("height",a(document).height());a.fancybox.center(!0)};a.fancybox.center=function(a){var d,f;if(!k&&(f=!0===a?1:0,d=M(),f||!(e.width()>d[0]||e.height()>d[1])))e.stop().animate({top:""+parseInt(Math.max(d[3]-20,d[3]+
0.5*(d[1]-l.height()-40)-b.padding),10),left:""+parseInt(Math.max(d[2]-20,d[2]+0.5*(d[0]-l.width()-40)-b.padding),10)},"number"==typeof a?a:200)};a.fancybox.init=function(){a("#fancybox-wrap").length||(a("body").append(n=a('<div id="fancybox-tmp"></div>'),s=a('<div id="fancybox-loading"><div></div></div>'),t=a('<div id="fancybox-overlay"></div>'),e=a('<div id="fancybox-wrap"></div>')),z=a('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(e),
z.append(l=a('<div id="fancybox-content"></div>'),A=a('<a id="fancybox-close"></a>'),i=a('<div id="fancybox-title"></div>'),w=a('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),x=a('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),A.click(a.fancybox.close),s.click(a.fancybox.cancel),w.click(function(c){c.preventDefault();a.fancybox.prev()}),x.click(function(c){c.preventDefault();a.fancybox.next()}),
a.fn.mousewheel&&e.bind("mousewheel.fb",function(c,b){if(k)c.preventDefault();else if(0==a(c.target).get(0).clientHeight||a(c.target).get(0).scrollHeight===a(c.target).get(0).clientHeight)c.preventDefault(),a.fancybox[0<b?"prev":"next"]()}),a.support.opacity||e.addClass("fancybox-ie"),I&&(s.addClass("fancybox-ie6"),e.addClass("fancybox-ie6"),a('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(z)))};
a.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:0.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,
showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}};a(document).ready(function(){a.fancybox.init()})})(jQuery);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.getting-started:getting-started-resources', location = 'com/atlassian/confluence/plugins/gettingstarted/soy/getting-started.soy' */
// This file was automatically generated from getting-started.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.GettingStarted.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.GettingStarted == 'undefined') { Confluence.Templates.GettingStarted = {}; }


Confluence.Templates.GettingStarted.popularTabEmpty = function(opt_data, opt_ignored) {
  return '<div class="gettingstarted"><div class="main-banner">' + soy.$$filterNoAutoescape('\u041f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0443\u0435\u043c! \u041f\u043e\u0445\u043e\u0436\u0435, \u0432\u044b \u0437\u0434\u0435\u0441\u044c \u0432\u043f\u0435\u0440\u0432\u044b\u0435.') + '</div><div class="sub-banner">' + soy.$$escapeHtml('\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435 \u044d\u0442\u043e\u0442 \u0440\u043e\u043b\u0438\u043a, \u043b\u0438\u0431\u043e \u0432\u0437\u0433\u043b\u044f\u043d\u0438\u0442\u0435 \u043d\u0430\u043b\u0435\u0432\u043e \u0438 \u043d\u0430\u0447\u043d\u0438\u0442\u0435 \u0440\u0430\u0431\u043e\u0442\u0443.') + '</div><div class="movie-container"><div class="movie-container-inner"><a href="' + soy.$$escapeHtml("//www.atlassian.com/software/confluence/videos/613.html") + '" class="movie-link"><span class="play" class="light"></span></a></div></div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.GettingStarted.popularTabEmpty.soyTemplateName = 'Confluence.Templates.GettingStarted.popularTabEmpty';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.getting-started:getting-started-resources', location = 'com/atlassian/confluence/plugins/gettingstarted/js/getting-started.js' */
define("confluence-getting-started/getting-started",["jquery","ajs","confluence/legacy"],function(a,b,c){return function(){b.bind("dashboard-recentupdates-popular.no-updates",function(b,d){d.container.html(c.Templates.GettingStarted.popularTabEmpty());a(".gettingstarted .movie-link").hover(function(){a(".gettingstarted .play").removeClass("light").addClass("dark")},function(){a(".gettingstarted .play").removeClass("dark").addClass("light")}).fancybox({type:"iframe",width:560,height:315,padding:0,
scrolling:"no"})})}});require("confluence/module-exporter").safeRequire("confluence-getting-started/getting-started",function(a){require("ajs").toInit(a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:shared-templates', location = '/includes/soy/user.soy' */
// This file was automatically generated from user.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.User.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.User == 'undefined') { Confluence.Templates.User = {}; }


Confluence.Templates.User.userLinkUrl = function(opt_data, opt_ignored) {
  return soy.$$escapeHtml("") + '/display/~' + soy.$$escapeUri(opt_data.username);
};
if (goog.DEBUG) {
  Confluence.Templates.User.userLinkUrl.soyTemplateName = 'Confluence.Templates.User.userLinkUrl';
}


Confluence.Templates.User.logo = function(opt_data, opt_ignored) {
  return '' + ((opt_data.profilePictureInfo['default'] && opt_data.username == opt_data.currentUsername) ? '<a ' + ((opt_data.canView) ? ' ' + ((! opt_data.disableUserHover) ? 'class="userLogoLink"' : '') + ' data-username="' + soy.$$escapeHtml(opt_data.username) + '"' : '') + ' href="' + soy.$$escapeHtml("") + '/users/profile/editmyprofilepicture.action" title="' + soy.$$escapeHtml('\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0432\u043e\u044e \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e') + '"><img class="userLogo logo defaultLogo" src="' + soy.$$escapeHtml("/s/ru_RU/7901/58be3fa11e9ad58113c0ea45e7063389a7c7d344/_") + '/images/icons/profilepics/add_profile_pic.svg" alt="' + soy.$$escapeHtml('\u0418\u043a\u043e\u043d\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f') + ': ' + soy.$$escapeHtml('\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0432\u043e\u044e \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e') + '"></a>' : (opt_data.profilePictureInfo.anonymous) ? '<img class="userLogo logo anonymous" src="' + soy.$$escapeHtml("/s/ru_RU/7901/58be3fa11e9ad58113c0ea45e7063389a7c7d344/_") + '/images/icons/profilepics/anonymous.svg" alt="' + soy.$$escapeHtml('\u0418\u043a\u043e\u043d\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f') + ': ' + soy.$$escapeHtml('\u0410\u043d\u043e\u043d\u0438\u043c\u043d\u044b\u0439') + '" title="' + soy.$$escapeHtml('\u0410\u043d\u043e\u043d\u0438\u043c\u043d\u044b\u0439') + '">' : (opt_data.canView) ? '<a ' + ((! opt_data.disableUserHover) ? 'class="userLogoLink"' : '') + ' data-username="' + soy.$$escapeHtml(opt_data.username) + '" href="' + Confluence.Templates.User.userLinkUrl(opt_data) + '"><img class="userLogo logo" src="' + soy.$$escapeHtml(opt_data.profilePictureInfo.uriReference) + '" alt="' + soy.$$escapeHtml('\u0418\u043a\u043e\u043d\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f') + ': ' + soy.$$escapeHtml(opt_data.username) + '" title="' + soy.$$escapeHtml(opt_data.username) + '"></a>' : '<img class="userLogo logo anonymous" src="' + soy.$$escapeHtml("/s/ru_RU/7901/58be3fa11e9ad58113c0ea45e7063389a7c7d344/_") + '/images/icons/profilepics/anonymous.svg" alt="' + soy.$$escapeHtml('\u0418\u043a\u043e\u043d\u043a\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f') + ': ' + soy.$$escapeHtml(opt_data.username) + '" title="' + soy.$$escapeHtml(opt_data.username) + '">');
};
if (goog.DEBUG) {
  Confluence.Templates.User.logo.soyTemplateName = 'Confluence.Templates.User.logo';
}


Confluence.Templates.User.usernameLink = function(opt_data, opt_ignored) {
  return '' + ((opt_data.username && opt_data.username != '') ? '<a href="' + Confluence.Templates.User.userLinkUrl(opt_data) + '"' + ((opt_data.canView) ? 'class="url fn confluence-userlink" data-username="' + soy.$$escapeHtml(opt_data.username) + '"' : 'class="url fn"') + '>' + ((opt_data.fullName && opt_data.fullName != '') ? soy.$$escapeHtml(opt_data.fullName) : soy.$$escapeHtml(opt_data.username)) + '</a>' : soy.$$escapeHtml('\u0410\u043d\u043e\u043d\u0438\u043c\u043d\u044b\u0439'));
};
if (goog.DEBUG) {
  Confluence.Templates.User.usernameLink.soyTemplateName = 'Confluence.Templates.User.usernameLink';
}


Confluence.Templates.User.fullNameOrAnonymous = function(opt_data, opt_ignored) {
  return '' + ((opt_data.user && opt_data.user.fullName) ? soy.$$escapeHtml(opt_data.user.fullName) : soy.$$escapeHtml('\u0410\u043d\u043e\u043d\u0438\u043c\u043d\u044b\u0439'));
};
if (goog.DEBUG) {
  Confluence.Templates.User.fullNameOrAnonymous.soyTemplateName = 'Confluence.Templates.User.fullNameOrAnonymous';
}


Confluence.Templates.User.usernameOrAnonymous = function(opt_data, opt_ignored) {
  return '' + ((opt_data.user && opt_data.user.name) ? soy.$$escapeHtml(opt_data.user.name) : soy.$$escapeHtml('\u0410\u043d\u043e\u043d\u0438\u043c\u043d\u044b\u0439'));
};
if (goog.DEBUG) {
  Confluence.Templates.User.usernameOrAnonymous.soyTemplateName = 'Confluence.Templates.User.usernameOrAnonymous';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:shared-templates', location = '/includes/soy/icons.soy' */
// This file was automatically generated from icons.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Icons.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Icons == 'undefined') { Confluence.Templates.Icons = {}; }


Confluence.Templates.Icons.contentIcon = function(opt_data, opt_ignored) {
  return '' + ((opt_data.content.type == 'trackback') ? '<a' + ((opt_data.linkColour) ? ' ' + soy.$$escapeHtml(opt_data.linkColour) : '') + ' href="' + soy.$$escapeHtml(opt_data.linkHref) + '" class="icon icon-trackback" title="' + soy.$$escapeHtml('\u041e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0448\u043b\u044b\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439') + '">' + soy.$$escapeHtml('\u041e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0448\u043b\u044b\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439') + ':</a>' : '<a' + ((opt_data.linkColour) ? ' ' + soy.$$escapeHtml(opt_data.linkColour) : '') + ' href="' + soy.$$escapeHtml(opt_data.linkHref) + '" class="icon ' + soy.$$escapeHtml(opt_data.iconCss) + '" title="' + soy.$$escapeHtml(opt_data.iconTitle) + '">' + soy.$$escapeHtml(opt_data.iconTitle) + '</a>');
};
if (goog.DEBUG) {
  Confluence.Templates.Icons.contentIcon.soyTemplateName = 'Confluence.Templates.Icons.contentIcon';
}


Confluence.Templates.Icons.contentIconFont = function(opt_data, opt_ignored) {
  return '' + ((opt_data.content.type == 'trackback') ? '<a' + ((opt_data.linkColour) ? ' ' + soy.$$escapeHtml(opt_data.linkColour) : '') + ' href="' + soy.$$escapeHtml(opt_data.linkHref) + '" class="icon icon-trackback" title="' + soy.$$escapeHtml('\u041e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0448\u043b\u044b\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439') + '">' + soy.$$escapeHtml('\u041e\u0442\u0441\u043b\u0435\u0436\u0438\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0448\u043b\u044b\u0445 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0439') + ':</a>' : '<a' + ((opt_data.linkColour) ? ' ' + soy.$$escapeHtml(opt_data.linkColour) : '') + ' href="' + soy.$$escapeHtml(opt_data.linkHref) + '" title="' + soy.$$escapeHtml(opt_data.iconTitle) + '"><span class="aui-icon ' + soy.$$escapeHtml(opt_data.iconCss) + '">' + soy.$$escapeHtml(opt_data.iconTitle) + '</span></a>');
};
if (goog.DEBUG) {
  Confluence.Templates.Icons.contentIconFont.soyTemplateName = 'Confluence.Templates.Icons.contentIconFont';
}


Confluence.Templates.Icons.iconSpan = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<span class="icon' + ((opt_data.type) ? ' aui-icon aui-icon-small aui-iconfont-' + soy.$$escapeHtml(opt_data.type) : '') + ' ' + ((opt_data.additionalClasses) ? soy.$$escapeHtml(opt_data.additionalClasses) : '') + '">' + ((opt_data.text) ? soy.$$escapeHtml(opt_data.text) : '') + '</span>';
};
if (goog.DEBUG) {
  Confluence.Templates.Icons.iconSpan.soyTemplateName = 'Confluence.Templates.Icons.iconSpan';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:shared-templates', location = '/includes/soy/captcha.soy' */
// This file was automatically generated from captcha.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Captcha.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Captcha == 'undefined') { Confluence.Templates.Captcha = {}; }


Confluence.Templates.Captcha.form = function(opt_data, opt_ignored) {
  var output = '<div class="captcha field-group"><label id="captcha-response-label" for="captcha-response"><span class="assistive">' + soy.$$escapeHtml('\u0415\u0441\u043b\u0438 \u0432\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u0442\u0443 CAPTCHA, \u0442\u043e \x3ca href\x3d\x22administrators.action\x22 tabindex\x3d\x225\x22\x3e\u0441\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441\u043e \u0441\u0432\u043e\u0438\u043c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c\x3c/a\x3e.') + '</span></label>' + Confluence.Templates.Captcha.image(opt_data) + '<input type="text" id="captcha-response" name="captchaResponse" value="" class="text" placeholder="' + soy.$$escapeHtml('\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0435 \u0441\u043b\u043e\u0432\u043e') + '">';
  if (opt_data.captchaErrors && opt_data.captchaErrors.length) {
    var errorList13 = opt_data.captchaErrors;
    var errorListLen13 = errorList13.length;
    for (var errorIndex13 = 0; errorIndex13 < errorListLen13; errorIndex13++) {
      var errorData13 = errorList13[errorIndex13];
      output += aui.message.warning({content: errorData13});
    }
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.Captcha.form.soyTemplateName = 'Confluence.Templates.Captcha.form';
}


Confluence.Templates.Captcha.image = function(opt_data, opt_ignored) {
  return '<img src="' + soy.$$escapeHtml("") + '/jcaptcha?id=' + soy.$$escapeHtml(opt_data.captchaId) + '" class="captcha-image" alt="' + soy.$$escapeHtml('CAPTCHA \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435') + '"><input type="hidden" name="captchaId" value="' + soy.$$escapeHtml(opt_data.captchaId) + '" placeholder="' + soy.$$escapeHtml('\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u043e\u0435 \u0441\u043b\u043e\u0432\u043e') + '">';
};
if (goog.DEBUG) {
  Confluence.Templates.Captcha.image.soyTemplateName = 'Confluence.Templates.Captcha.image';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:shared-templates', location = '/includes/soy/notifications.soy' */
// This file was automatically generated from notifications.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Notifications.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Notifications == 'undefined') { Confluence.Templates.Notifications = {}; }


Confluence.Templates.Notifications.notLoggedIn = function(opt_data, opt_ignored) {
  return '' + ((! opt_data.isUserAuthenticated) ? '<div id="anonymous-warning" class="aui-message aui-message-warning closeable">' + soy.$$filterNoAutoescape('\u0412\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435. \u041b\u044e\u0431\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0412\u044b \u0441\u0434\u0435\u043b\u0430\u0435\u0442\u0435, \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u043c\u0435\u0447\u0435\u043d\u044b \u043a\u0430\u043a \u0441\u0434\u0435\u043b\u0430\u043d\u043d\u044b\u0435  \x3cspan class\x3d\x22smalltext\x22\x3e\u0430\u043d\u043e\u043d\u0438\u043c\u043d\u043e\x3c/span\x3e.') + ((! opt_data.isExternalUserManagementEnabled) ? ' ' + soy.$$filterNoAutoescape(AJS.format('\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \x3ca href\x3d\x22{0}\x22\x3e\u0412\u043e\u0439\u0442\u0438\x3c/a\x3e, \u0435\u0441\u043b\u0438 \u0443 \u0412\u0430\u0441 \u0435\u0441\u0442\u044c \u0443\u0447\u0451\u0442\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c.',opt_data.loginURL)) : '') + '</div>' : '');
};
if (goog.DEBUG) {
  Confluence.Templates.Notifications.notLoggedIn.soyTemplateName = 'Confluence.Templates.Notifications.notLoggedIn';
}


Confluence.Templates.Notifications.actionErrors = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.actionErrors.length > 0) {
    output += '<div class="aui-message aui-message-error ' + ((opt_data.closeable) ? 'closeable' : '') + '"><p class="title">' + soy.$$escapeHtml('\u0414\u0430\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430 \u0432\u044b\u0437\u0432\u0430\u043d\u0430:') + '</p><span class="aui-icon icon-error"></span><ul>';
    var errorHtmlList24 = opt_data.actionErrors;
    var errorHtmlListLen24 = errorHtmlList24.length;
    for (var errorHtmlIndex24 = 0; errorHtmlIndex24 < errorHtmlListLen24; errorHtmlIndex24++) {
      var errorHtmlData24 = errorHtmlList24[errorHtmlIndex24];
      output += '<li>' + soy.$$filterNoAutoescape(errorHtmlData24) + '</li>';
    }
    output += '</ul></div>';
  }
  output += '<div id="action-messages"></div>';
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.Notifications.actionErrors.soyTemplateName = 'Confluence.Templates.Notifications.actionErrors';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:querystring', location = '/includes/js/api/querystring.js' */
define("confluence/api/querystring",[],function(){return{stringify:function(a){var b="",c;for(c in a)for(var d=0;d<a[c].length;d++)b+="&"+c,a[c][d]&&(b+="="+a[c][d]);return b.substring(1)},parse:function(a){var b={};if(a){"?"===a.substr(0,1)&&(a=a.substr(1));for(var a=a.split("&"),c=0;c<a.length;c++){var d=a[c].split("=");b[d[0]]||(b[d[0]]=[]);b[d[0]].push(a[c].substring(d[0].length+1))}}return b}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:url', location = '/includes/js/api/url.js' */
define("confluence/api/url",["confluence/api/querystring","jquery"],function(d,e){var g=/([^\?|#]+)[\?]?([^#]*)[#]?(.*)/,f=["source","urlPath","queryParams","anchor"];return{parse:function(a){var b={};if(a=g.exec(a)){for(var c=0;c<f.length;c++)b[f[c]]=a[c];b.queryParams=d.parse(b.queryParams)}return b},format:function(a){return e.isEmptyObject(a)?"":(!a.urlPath?"":a.urlPath)+(e.isEmptyObject(a.queryParams)?"":"?"+d.stringify(a.queryParams))+(!a.anchor?"":"#"+a.anchor)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:analytics-support', location = '/includes/js/analytics-support.js' */
define("confluence/analytics-support","jquery ajs confluence/meta window document confluence/api/url".split(" "),function(j,o,l,k,m,h){var b={},n;b.setAnalyticsSource=function(a,d){if(typeof n==="undefined"){var c=j._data(k,"events");n=c&&c.analytics&&c.analytics.length>0}n&&a.attr("href",function(a,c){var b=encodeURIComponent(d),g=h.parse(c);if(!j.isEmptyObject(g))g.queryParams.src=[b];return h.format(g)})};b.srcRemovedUrl=function(a){a=h.parse(a);delete a.queryParams.src;for(var d=Object.keys(a.queryParams),
c=0;c<d.length;c++){var b=d[c],f=b.split(".");f.length===3&&f[0]==="src"&&delete a.queryParams[b];b==="jwt"&&delete a.queryParams[b]}return h.format(a)};b.srcParamValues=function(a){return(a=h.parse(a).queryParams)&&a.src?a.src:[]};b.srcAttrParamValues=function(a){for(var a=h.parse(a).queryParams,b={},c=Object.keys(a),e=0;e<c.length;e++){var f=c[e],i=f.split(".");if(i.length===3&&i[0]==="src"){var g=i[1],i=i[2];b[g]=b[g]||{};b[g][i]=decodeURIComponent(a[f][0])}}return b};b.extractAnalyticsData=function(a){for(var d=
[],c=b.srcParamValues(a),a=b.srcAttrParamValues(a),e=0;e<c.length;e++){var f=c[e];d.push({src:f,attr:a[f]||{}})}return d};b.publish=function(a,b){o.trigger("analytics",{name:a,data:b||{}})};b.init=function(){var a=b.extractAnalyticsData(m.URL),d={userKey:l.get("remote-user-key"),pageID:l.get("page-id"),draftID:l.get("draft-id")};if(a.length>0){for(var c=0;c<a.length;c++){var e=a[c],f=j.extend({},d,e.attr);b.publish("confluence.viewpage.src."+e.src,f)}if(k.history&&k.history.replaceState){a=b.srcRemovedUrl(m.URL);
m.URL!==a&&k.history.replaceState(null,"",a)}}else b.publish("confluence.viewpage.src.empty",d)};return b});require("confluence/module-exporter").exportModuleAsGlobal("confluence/analytics-support","AJS.Confluence.Analytics",function(j){require("ajs").toInit(j.init)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:marionette', location = '/includes/js/third-party/marionette.js' */
(function(o,f){define("marionette",["backbone","underscore"],function(d,s){return o.Marionette=o.Mn=f(o,d,s)})})(this,function(o,f,d){var s=f.ChildViewContainer,l=d,t=function(a){this._views={};this._indexByModel={};this._indexByCustom={};this._updateLength();l.each(a,this.add,this)};l.extend(t.prototype,{add:function(a,b){var e=a.cid;this._views[e]=a;a.model&&(this._indexByModel[a.model.cid]=e);b&&(this._indexByCustom[b]=e);this._updateLength();return this},findByModel:function(a){return this.findByModelCid(a.cid)},
findByModelCid:function(a){return this.findByCid(this._indexByModel[a])},findByCustom:function(a){return this.findByCid(this._indexByCustom[a])},findByIndex:function(a){return l.values(this._views)[a]},findByCid:function(a){return this._views[a]},remove:function(a){var b=a.cid;a.model&&delete this._indexByModel[a.model.cid];l.any(this._indexByCustom,function(a,c){if(a===b)return delete this._indexByCustom[c],!0},this);delete this._views[b];this._updateLength();return this},call:function(a){this.apply(a,
l.tail(arguments))},apply:function(a,b){l.each(this._views,function(e){l.isFunction(e[a])&&e[a].apply(e,b||[])})},_updateLength:function(){this.length=l.size(this._views)}});l.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck reduce".split(" "),function(a){t.prototype[a]=function(){var b=[l.values(this._views)].concat(l.toArray(arguments));return l[a].apply(l,b)}});f.ChildViewContainer=t;f.ChildViewContainer.VERSION=
"0.1.7";f.ChildViewContainer.noConflict=function(){f.ChildViewContainer=s;return this};var j=d,y=f.Wreqr,m=f.Wreqr={};f.Wreqr.VERSION="1.3.3";f.Wreqr.noConflict=function(){f.Wreqr=y;return this};var h=function(a){this.options=a;this._wreqrHandlers={};j.isFunction(this.initialize)&&this.initialize(a)};h.extend=f.Model.extend;j.extend(h.prototype,f.Events,{setHandlers:function(a){j.each(a,function(a,e){var c=null;j.isObject(a)&&!j.isFunction(a)&&(c=a.context,a=a.callback);this.setHandler(e,a,c)},this)},
setHandler:function(a,b,e){this._wreqrHandlers[a]={callback:b,context:e};this.trigger("handler:add",a,b,e)},hasHandler:function(a){return!!this._wreqrHandlers[a]},getHandler:function(a){var b=this._wreqrHandlers[a];if(b)return function(){return b.callback.apply(b.context,arguments)}},removeHandler:function(a){delete this._wreqrHandlers[a]},removeAllHandlers:function(){this._wreqrHandlers={}}});m.Handlers=h;h=function(a){this.options=a;this._commands={};j.isFunction(this.initialize)&&this.initialize(a)};
j.extend(h.prototype,f.Events,{getCommands:function(a){var b=this._commands[a];b||(b={command:a,instances:[]},this._commands[a]=b);return b},addCommand:function(a,b){this.getCommands(a).instances.push(b)},clearCommands:function(a){this.getCommands(a).instances=[]}});m.CommandStorage=h;h=m.Handlers.extend({storageType:m.CommandStorage,constructor:function(a){this.options=a||{};this._initializeStorage(this.options);this.on("handler:add",this._executeCommands,this);m.Handlers.prototype.constructor.apply(this,
arguments)},execute:function(a){var a=arguments[0],b=j.rest(arguments);this.hasHandler(a)?this.getHandler(a).apply(this,b):this.storage.addCommand(a,b)},_executeCommands:function(a,b,e){var c=this.storage.getCommands(a);j.each(c.instances,function(a){b.apply(e,a)});this.storage.clearCommands(a)},_initializeStorage:function(a){a=a.storageType||this.storageType;this.storage=j.isFunction(a)?new a:a}});m.Commands=h;h=m.Handlers.extend({request:function(a){if(this.hasHandler(a))return this.getHandler(a).apply(this,
j.rest(arguments))}});m.RequestResponse=h;h=function(){};h.extend=f.Model.extend;j.extend(h.prototype,f.Events);m.EventAggregator=h;h=function(a){this.vent=new f.Wreqr.EventAggregator;this.reqres=new f.Wreqr.RequestResponse;this.commands=new f.Wreqr.Commands;this.channelName=a};j.extend(h.prototype,{reset:function(){this.vent.off();this.vent.stopListening();this.reqres.removeAllHandlers();this.commands.removeAllHandlers();return this},connectEvents:function(a,b){this._connect("vent",a,b);return this},
connectCommands:function(a,b){this._connect("commands",a,b);return this},connectRequests:function(a,b){this._connect("reqres",a,b);return this},_connect:function(a,b,e){if(b){var e=e||this,c="vent"===a?"on":"setHandler";j.each(b,function(b,d){this[a][c](d,j.bind(b,e))},this)}}});m.Channel=h;h=function(){this._channels={};this.vent={};this.commands={};this.reqres={};this._proxyMethods()};j.extend(h.prototype,{channel:function(a){if(!a)throw Error("Channel must receive a name");return this._getChannel(a)},
_getChannel:function(a){var b=this._channels[a];b||(b=new m.Channel(a),this._channels[a]=b);return b},_proxyMethods:function(){j.each(["vent","commands","reqres"],function(a){j.each(z[a],function(b){var e=this;this[a][b]=function(c){var d=e._getChannel(c)[a];return d[b].apply(d,j.rest(arguments))}},this)},this)}});var z={vent:"on off trigger once stopListening listenTo listenToOnce".split(" "),commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler",
"setHandlers","removeHandler","removeAllHandlers"]},h=new h;m.radio=h;var A=o.Marionette,B=o.Mn,c=f.Marionette={};c.VERSION="2.4.2";c.noConflict=function(){o.Marionette=A;o.Mn=B;return this};f.Marionette=c;c.Deferred=f.$.Deferred;c.extend=f.Model.extend;c.isNodeAttached=function(a){return f.$.contains(document.documentElement,a)};c.mergeOptions=function(a,b){a&&d.extend(this,d.pick(a,b))};c.getOption=function(a,b){if(a&&b)return a.options&&void 0!==a.options[b]?a.options[b]:a[b]};c.proxyGetOption=
function(a){return c.getOption(this,a)};c._getValue=function(a,b,e){d.isFunction(a)&&(a=e?a.apply(b,e):a.call(b));return a};c.normalizeMethods=function(a){return d.reduce(a,function(a,e,c){d.isFunction(e)||(e=this[e]);e&&(a[c]=e);return a},{},this)};c.normalizeUIString=function(a,b){return a.replace(/@ui\.[a-zA-Z_$0-9]*/g,function(a){return b[a.slice(4)]})};c.normalizeUIKeys=function(a,b){return d.reduce(a,function(a,d,g){g=c.normalizeUIString(g,b);a[g]=d;return a},{})};c.normalizeUIValues=function(a,
b,e){d.each(a,function(i,g){d.isString(i)?a[g]=c.normalizeUIString(i,b):d.isObject(i)&&d.isArray(e)&&(d.extend(i,c.normalizeUIValues(d.pick(i,e),b)),d.each(e,function(a){var e=i[a];d.isString(e)&&(i[a]=c.normalizeUIString(e,b))}))});return a};c.actAsCollection=function(a,b){d.each("forEach each map find detect filter select reject every all some any include contains invoke toArray first initial rest last without isEmpty pluck".split(" "),function(e){a[e]=function(){var a=[d.values(d.result(this,b))].concat(d.toArray(arguments));
return d[e].apply(d,a)}})};var q=c.deprecate=function(a,b){d.isObject(a)&&(a=a.prev+" is going to be removed in the future. Please use "+a.next+" instead."+(a.url?" See: "+a.url:""));if((void 0===b||!b)&&!q._cache[a])q._warn("Deprecation warning: "+a),q._cache[a]=!0};q._warn="undefined"!==typeof console&&(console.warn||console.log)||function(){};q._cache={};var C=function(a,b,e){return e.toUpperCase()},D=/(^|:)(\w)/gi;c._triggerMethod=function(a,b,e){var c=3>arguments.length;c&&(e=b,b=e[0]);var g=
"on"+b.replace(D,C),g=a[g],f;d.isFunction(g)&&(f=g.apply(a,c?d.rest(e):e));d.isFunction(a.trigger)&&(1<c+e.length?a.trigger.apply(a,c?e:[b].concat(d.drop(e,0))):a.trigger(b));return f};c.triggerMethod=function(a){return c._triggerMethod(this,arguments)};c.triggerMethodOn=function(a){return(d.isFunction(a.triggerMethod)?a.triggerMethod:c.triggerMethod).apply(a,d.rest(arguments))};c.MonitorDOMRefresh=function(a){function b(){a._isShown&&a._isRendered&&c.isNodeAttached(a.el)&&d.isFunction(a.triggerMethod)&&
a.triggerMethod("dom:refresh")}a.on({show:function(){a._isShown=!0;b()},render:function(){a._isRendered=!0;b()}})};var n=c,E=function(a,b,e,c){c=c.split(/\s+/);d.each(c,function(c){var d=a[c];if(!d)throw new n.Error('Method "'+c+'" was configured as an event handler, but does not exist.');a.listenTo(b,e,d)})},F=function(a,b,e,c){a.listenTo(b,e,c)},G=function(a,b,e,c){c=c.split(/\s+/);d.each(c,function(c){a.stopListening(b,e,a[c])})},H=function(a,b,e,c){a.stopListening(b,e,c)},u=function(a,b,e,c,g){if(b&&
e){if(!d.isObject(e))throw new n.Error({message:"Bindings must be an object or function.",url:"marionette.functions.html#marionettebindentityevents"});e=n._getValue(e,a);d.each(e,function(e,f){d.isFunction(e)?c(a,b,f,e):g(a,b,f,e)})}};n.bindEntityEvents=function(a,b,e){u(a,b,e,F,E)};n.unbindEntityEvents=function(a,b,e){u(a,b,e,H,G)};n.proxyBindEntityEvents=function(a,b){return n.bindEntityEvents(this,a,b)};n.proxyUnbindEntityEvents=function(a,b){return n.unbindEntityEvents(this,a,b)};var v="description fileName lineNumber name message number".split(" ");
c.Error=c.extend.call(Error,{urlRoot:"http://marionettejs.com/docs/v"+c.VERSION+"/",constructor:function(a,b){d.isObject(a)?(b=a,a=b.message):b||(b={});var e=Error.call(this,a);d.extend(this,d.pick(e,v),d.pick(b,v));this.captureStackTrace();b.url&&(this.url=this.urlRoot+b.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,c.Error)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}});c.Error.extend=c.extend;c.Callbacks=function(){this._deferred=
c.Deferred();this._callbacks=[]};d.extend(c.Callbacks.prototype,{add:function(a,b){var e=d.result(this._deferred,"promise");this._callbacks.push({cb:a,ctx:b});e.then(function(e){b&&(e.context=b);a.call(e.context,e.options)})},run:function(a,b){this._deferred.resolve({options:a,context:b})},reset:function(){var a=this._callbacks;this._deferred=c.Deferred();this._callbacks=[];d.each(a,function(a){this.add(a.cb,a.ctx)},this)}});c.Controller=function(a){this.options=a||{};d.isFunction(this.initialize)&&
this.initialize(this.options)};c.Controller.extend=c.extend;d.extend(c.Controller.prototype,f.Events,{destroy:function(){c._triggerMethod(this,"before:destroy",arguments);c._triggerMethod(this,"destroy",arguments);this.stopListening();this.off();return this},triggerMethod:c.triggerMethod,mergeOptions:c.mergeOptions,getOption:c.proxyGetOption});c.Object=function(a){this.options=d.extend({},d.result(this,"options"),a);this.initialize.apply(this,arguments)};c.Object.extend=c.extend;d.extend(c.Object.prototype,
f.Events,{initialize:function(){},destroy:function(){this.triggerMethod("before:destroy");this.triggerMethod("destroy");this.stopListening();return this},triggerMethod:c.triggerMethod,mergeOptions:c.mergeOptions,getOption:c.proxyGetOption,bindEntityEvents:c.proxyBindEntityEvents,unbindEntityEvents:c.proxyUnbindEntityEvents});c.Region=c.Object.extend({constructor:function(a){this.options=a||{};this.el=this.getOption("el");this.el=this.el instanceof f.$?this.el[0]:this.el;if(!this.el)throw new c.Error({name:"NoElError",
message:'An "el" must be specified for a region.'});this.$el=this.getEl(this.el);c.Object.call(this,a)},show:function(a,b){if(this._ensureElement()){this._ensureViewIsIntact(a);var e=b||{},i=a!==this.currentView,g=!!e.preventDestroy,f=!!e.forceShow,h=!!this.currentView,g=i&&!g,i=i||f;h&&this.triggerMethod("before:swapOut",this.currentView,this,b);this.currentView&&delete this.currentView._parent;g?this.empty():h&&i&&this.currentView.off("destroy",this.empty,this);i&&(a.once("destroy",this.empty,this),
a.render(),a._parent=this,h&&this.triggerMethod("before:swap",a,this,b),this.triggerMethod("before:show",a,this,b),c.triggerMethodOn(a,"before:show",a,this,b),h&&this.triggerMethod("swapOut",this.currentView,this,b),i=c.isNodeAttached(this.el),f=[],e=d.extend({triggerBeforeAttach:this.triggerBeforeAttach,triggerAttach:this.triggerAttach},e),i&&e.triggerBeforeAttach&&(f=this._displayedViews(a),this._triggerAttach(f,"before:")),this.attachHtml(a),this.currentView=a,i&&e.triggerAttach&&(f=this._displayedViews(a),
this._triggerAttach(f)),h&&this.triggerMethod("swap",a,this,b),this.triggerMethod("show",a,this,b),c.triggerMethodOn(a,"show",a,this,b));return this}},triggerBeforeAttach:!0,triggerAttach:!0,_triggerAttach:function(a,b){var e=(b||"")+"attach";d.each(a,function(a){c.triggerMethodOn(a,e,a,this)},this)},_displayedViews:function(a){return d.union([a],d.result(a,"_getNestedViews")||[])},_ensureElement:function(){d.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]);if(!this.$el||0===
this.$el.length){if(this.getOption("allowMissingEl"))return!1;throw new c.Error('An "el" '+this.$el.selector+" must exist in DOM");}return!0},_ensureViewIsIntact:function(a){if(!a)throw new c.Error({name:"ViewNotValid",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show."});if(a.isDestroyed)throw new c.Error({name:"ViewDestroyedError",message:'View (cid: "'+a.cid+'") has already been destroyed and cannot be used.'});},getEl:function(a){return f.$(a,c._getValue(this.options.parentEl,
this))},attachHtml:function(a){this.$el.contents().detach();this.el.appendChild(a.el)},empty:function(a){var b=this.currentView,a=c._getValue(a,"preventDestroy",this);if(b)return b.off("destroy",this.empty,this),this.triggerMethod("before:empty",b),a||this._destroyView(),this.triggerMethod("empty",b),delete this.currentView,a&&this.$el.contents().detach(),this},_destroyView:function(){var a=this.currentView;a.destroy&&!a.isDestroyed?a.destroy():a.remove&&(a.remove(),a.isDestroyed=!0)},attachView:function(a){this.currentView=
a;return this},hasView:function(){return!!this.currentView},reset:function(){this.empty();this.$el&&(this.el=this.$el.selector);delete this.$el;return this}},{buildRegion:function(a,b){if(d.isString(a))return this._buildRegionFromSelector(a,b);if(a.selector||a.el||a.regionClass)return this._buildRegionFromObject(a,b);if(d.isFunction(a))return this._buildRegionFromRegionClass(a);throw new c.Error({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"});
},_buildRegionFromSelector:function(a,b){return new b({el:a})},_buildRegionFromObject:function(a,b){var e=a.regionClass||b,c=d.omit(a,"selector","regionClass");a.selector&&!c.el&&(c.el=a.selector);return new e(c)},_buildRegionFromRegionClass:function(a){return new a}});c.RegionManager=c.Controller.extend({constructor:function(a){this._regions={};this.length=0;c.Controller.call(this,a);this.addRegions(this.getOption("regions"))},addRegions:function(a,b){a=c._getValue(a,this,arguments);return d.reduce(a,
function(a,c,g){d.isString(c)&&(c={selector:c});c.selector&&(c=d.defaults({},c,b));a[g]=this.addRegion(g,c);return a},{},this)},addRegion:function(a,b){var e;e=b instanceof c.Region?b:c.Region.buildRegion(b,c.Region);this.triggerMethod("before:add:region",a,e);e._parent=this;this._store(a,e);this.triggerMethod("add:region",a,e);return e},get:function(a){return this._regions[a]},getRegions:function(){return d.clone(this._regions)},removeRegion:function(a){var b=this._regions[a];this._remove(a,b);return b},
removeRegions:function(){var a=this.getRegions();d.each(this._regions,function(a,e){this._remove(e,a)},this);return a},emptyRegions:function(){var a=this.getRegions();d.invoke(a,"empty");return a},destroy:function(){this.removeRegions();return c.Controller.prototype.destroy.apply(this,arguments)},_store:function(a,b){this._regions[a]||this.length++;this._regions[a]=b},_remove:function(a,b){this.triggerMethod("before:remove:region",a,b);b.empty();b.stopListening();delete b._parent;delete this._regions[a];
this.length--;this.triggerMethod("remove:region",a,b)}});c.actAsCollection(c.RegionManager.prototype,"_regions");c.TemplateCache=function(a){this.templateId=a};d.extend(c.TemplateCache,{templateCaches:{},get:function(a,b){var e=this.templateCaches[a];e||(e=new c.TemplateCache(a),this.templateCaches[a]=e);return e.load(b)},clear:function(){var a,b=d.toArray(arguments),e=b.length;if(0<e)for(a=0;a<e;a++)delete this.templateCaches[b[a]];else this.templateCaches={}}});d.extend(c.TemplateCache.prototype,
{load:function(a){if(this.compiledTemplate)return this.compiledTemplate;var b=this.loadTemplate(this.templateId,a);return this.compiledTemplate=this.compileTemplate(b,a)},loadTemplate:function(a){var b=f.$(a).html();if(!b||0===b.length)throw new c.Error({name:"NoTemplateError",message:'Could not find template: "'+a+'"'});return b},compileTemplate:function(a,b){return d.template(a,b)}});c.Renderer={render:function(a,b){if(!a)throw new c.Error({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});
return(d.isFunction(a)?a:c.TemplateCache.get(a))(b)}};c.View=f.View.extend({isDestroyed:!1,constructor:function(a){d.bindAll(this,"render");a=c._getValue(a,this);this.options=d.extend({},d.result(this,"options"),a);this._behaviors=c.Behaviors(this);f.View.call(this,this.options);c.MonitorDOMRefresh(this)},getTemplate:function(){return this.getOption("template")},serializeModel:function(a){return a.toJSON.apply(a,d.rest(arguments))},mixinTemplateHelpers:function(a){var a=a||{},b=this.getOption("templateHelpers"),
b=c._getValue(b,this);return d.extend(a,b)},normalizeUIKeys:function(a){var b=d.result(this,"_uiBindings");return c.normalizeUIKeys(a,b||d.result(this,"ui"))},normalizeUIValues:function(a,b){var e=d.result(this,"ui"),i=d.result(this,"_uiBindings");return c.normalizeUIValues(a,i||e,b)},configureTriggers:function(){if(this.triggers){var a=this.normalizeUIKeys(d.result(this,"triggers"));return d.reduce(a,function(a,e,c){a[c]=this._buildViewTrigger(e);return a},{},this)}},delegateEvents:function(a){this._delegateDOMEvents(a);
this.bindEntityEvents(this.model,this.getOption("modelEvents"));this.bindEntityEvents(this.collection,this.getOption("collectionEvents"));d.each(this._behaviors,function(a){a.bindEntityEvents(this.model,a.getOption("modelEvents"));a.bindEntityEvents(this.collection,a.getOption("collectionEvents"))},this);return this},_delegateDOMEvents:function(a){var b=c._getValue(a||this.events,this),b=this.normalizeUIKeys(b);d.isUndefined(a)&&(this.events=b);var a={},e=d.result(this,"behaviorEvents")||{},i=this.configureTriggers(),
g=d.result(this,"behaviorTriggers")||{};d.extend(a,e,b,i,g);f.View.prototype.delegateEvents.call(this,a)},undelegateEvents:function(){f.View.prototype.undelegateEvents.apply(this,arguments);this.unbindEntityEvents(this.model,this.getOption("modelEvents"));this.unbindEntityEvents(this.collection,this.getOption("collectionEvents"));d.each(this._behaviors,function(a){a.unbindEntityEvents(this.model,a.getOption("modelEvents"));a.unbindEntityEvents(this.collection,a.getOption("collectionEvents"))},this);
return this},_ensureViewIsIntact:function(){if(this.isDestroyed)throw new c.Error({name:"ViewDestroyedError",message:'View (cid: "'+this.cid+'") has already been destroyed and cannot be used.'});},destroy:function(){if(this.isDestroyed)return this;var a=d.toArray(arguments);this.triggerMethod.apply(this,["before:destroy"].concat(a));this.isDestroyed=!0;this.triggerMethod.apply(this,["destroy"].concat(a));this.unbindUIElements();this.isRendered=!1;this.remove();d.invoke(this._behaviors,"destroy",a);
return this},bindUIElements:function(){this._bindUIElements();d.invoke(this._behaviors,this._bindUIElements)},_bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var a=d.result(this,"_uiBindings");this.ui={};d.each(a,function(a,e){this.ui[e]=this.$(a)},this)}},unbindUIElements:function(){this._unbindUIElements();d.invoke(this._behaviors,this._unbindUIElements)},_unbindUIElements:function(){this.ui&&this._uiBindings&&(d.each(this.ui,function(a,b){delete this.ui[b]},
this),this.ui=this._uiBindings,delete this._uiBindings)},_buildViewTrigger:function(a){var b=d.isObject(a),e=d.defaults({},b?a:{},{preventDefault:!0,stopPropagation:!0}),c=b?e.event:a;return function(a){a&&(a.preventDefault&&e.preventDefault&&a.preventDefault(),a.stopPropagation&&e.stopPropagation&&a.stopPropagation());this.triggerMethod(c,{view:this,model:this.model,collection:this.collection})}},setElement:function(){var a=f.View.prototype.setElement.apply(this,arguments);d.invoke(this._behaviors,
"proxyViewProperties",this);return a},triggerMethod:function(){var a=c._triggerMethod(this,arguments);this._triggerEventOnBehaviors(arguments);this._triggerEventOnParentLayout(arguments[0],d.rest(arguments));return a},_triggerEventOnBehaviors:function(a){for(var b=c._triggerMethod,e=this._behaviors,d=0,g=e&&e.length;d<g;d++)b(e[d],a)},_triggerEventOnParentLayout:function(a,b){var e=this._parentLayoutView();if(e){var i=c.getOption(e,"childViewEventPrefix")+":"+a;c._triggerMethod(e,[i,this].concat(b));
i=c.getOption(e,"childEvents");(i=e.normalizeMethods(i))&&d.isFunction(i[a])&&i[a].apply(e,[this].concat(b))}},_getImmediateChildren:function(){return[]},_getNestedViews:function(){var a=this._getImmediateChildren();return!a.length?a:d.reduce(a,function(a,e){return!e._getNestedViews?a:a.concat(e._getNestedViews())},a)},_getAncestors:function(){for(var a=[],b=this._parent;b;)a.push(b),b=b._parent;return a},_parentLayoutView:function(){var a=this._getAncestors();return d.find(a,function(a){return a instanceof
c.LayoutView})},normalizeMethods:c.normalizeMethods,mergeOptions:c.mergeOptions,getOption:c.proxyGetOption,bindEntityEvents:c.proxyBindEntityEvents,unbindEntityEvents:c.proxyUnbindEntityEvents});c.ItemView=c.View.extend({constructor:function(){c.View.apply(this,arguments)},serializeData:function(){if(!this.model&&!this.collection)return{};var a=[this.model||this.collection];arguments.length&&a.push.apply(a,arguments);return this.model?this.serializeModel.apply(this,a):{items:this.serializeCollection.apply(this,
a)}},serializeCollection:function(a){return a.toJSON.apply(a,d.rest(arguments))},render:function(){this._ensureViewIsIntact();this.triggerMethod("before:render",this);this._renderTemplate();this.isRendered=!0;this.bindUIElements();this.triggerMethod("render",this);return this},_renderTemplate:function(){var a=this.getTemplate();if(!1!==a){if(!a)throw new c.Error({name:"UndefinedTemplateError",message:"Cannot render the template since it is null or undefined."});var b=this.mixinTemplateHelpers(this.serializeData()),
a=c.Renderer.render(a,b,this);this.attachElContent(a);return this}},attachElContent:function(a){this.$el.html(a);return this}});c.CollectionView=c.View.extend({childViewEventPrefix:"childview",sort:!0,constructor:function(a){this.once("render",this._initialEvents);this._initChildViewStorage();c.View.apply(this,arguments);this.on({"before:show":this._onBeforeShowCalled,show:this._onShowCalled,"before:attach":this._onBeforeAttachCalled,attach:this._onAttachCalled});this.initRenderBuffer()},initRenderBuffer:function(){this._bufferedChildren=
[]},startBuffering:function(){this.initRenderBuffer();this.isBuffering=!0},endBuffering:function(){var a=this._isShown&&c.isNodeAttached(this.el),b;this.isBuffering=!1;this._isShown&&this._triggerMethodMany(this._bufferedChildren,this,"before:show");a&&this._triggerBeforeAttach&&(b=this._getNestedViews(),this._triggerMethodMany(b,this,"before:attach"));this.attachBuffer(this,this._createBuffer());a&&this._triggerAttach&&(b=this._getNestedViews(),this._triggerMethodMany(b,this,"attach"));this._isShown&&
this._triggerMethodMany(this._bufferedChildren,this,"show");this.initRenderBuffer()},_triggerMethodMany:function(a,b,e){var i=d.drop(arguments,3);d.each(a,function(a){c.triggerMethodOn.apply(a,[a,e,a,b].concat(i))})},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},
_onCollectionAdd:function(a,b,e){b=void 0!==e.at?e.at:d.indexOf(this._filteredSortedModels(),a);this._shouldAddChild(a,b)&&(this.destroyEmptyView(),e=this.getChildView(a),this.addChild(a,e,b))},_onCollectionRemove:function(a){a=this.children.findByModel(a);this.removeChildView(a);this.checkEmpty()},_onBeforeShowCalled:function(){this._triggerBeforeAttach=this._triggerAttach=!1;this.children.each(function(a){c.triggerMethodOn(a,"before:show",a)})},_onShowCalled:function(){this.children.each(function(a){c.triggerMethodOn(a,
"show",a)})},_onBeforeAttachCalled:function(){this._triggerBeforeAttach=!0},_onAttachCalled:function(){this._triggerAttach=!0},render:function(){this._ensureViewIsIntact();this.triggerMethod("before:render",this);this._renderChildren();this.isRendered=!0;this.triggerMethod("render",this);return this},reorder:function(){var a=this.children,b=this._filteredSortedModels();d.find(b,function(b){return!a.findByModel(b)})?this.render():(b=d.map(b,function(b,c){var d=a.findByModel(b);d._index=c;return d.el}),
this.triggerMethod("before:reorder"),this._appendReorderedChildren(b),this.triggerMethod("reorder"))},resortView:function(){c.getOption(this,"reorderOnSort")?this.reorder():this.render()},_sortViews:function(){var a=this._filteredSortedModels();d.find(a,function(a,e){var c=this.children.findByModel(a);return!c||c._index!==e},this)&&this.resortView()},_emptyViewIndex:-1,_appendReorderedChildren:function(a){this.$el.append(a)},_renderChildren:function(){this.destroyEmptyView();this.destroyChildren({checkEmpty:!1});
this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.startBuffering(),this.showCollection(),this.endBuffering(),this.triggerMethod("render:collection",this),this.children.isEmpty()&&this.showEmptyView())},showCollection:function(){var a,b=this._filteredSortedModels();d.each(b,function(b,c){a=this.getChildView(b);this.addChild(b,a,c)},this)},_filteredSortedModels:function(){var a;a=(a=this.getViewComparator())?d.isString(a)||1===a.length?this.collection.sortBy(a,
this):d.clone(this.collection.models).sort(d.bind(a,this)):this.collection.models;this.getOption("filter")&&(a=d.filter(a,function(a,c){return this._shouldAddChild(a,c)},this));return a},showEmptyView:function(){var a=this.getEmptyView();if(a&&!this._showingEmptyView){this.triggerMethod("before:render:empty");this._showingEmptyView=!0;var b=new f.Model;this.addEmptyView(b,a);this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty"),
this.destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty"))},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(a,b){var e=this._isShown&&!this.isBuffering&&c.isNodeAttached(this.el),i,g=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");d.isFunction(g)&&(g=g.call(this,a,this._emptyViewIndex));g=this.buildChildView(a,b,g);g._parent=this;this.proxyChildEvents(g);this._isShown&&c.triggerMethodOn(g,"before:show",g);this.children.add(g);
e&&this._triggerBeforeAttach&&(i=[g].concat(g._getNestedViews()),g.once("render",function(){this._triggerMethodMany(i,this,"before:attach")},this));this.renderChildView(g,this._emptyViewIndex);e&&this._triggerAttach&&(i=[g].concat(g._getNestedViews()),this._triggerMethodMany(i,this,"attach"));this._isShown&&c.triggerMethodOn(g,"show",g)},getChildView:function(){var a=this.getOption("childView");if(!a)throw new c.Error({name:"NoChildViewError",message:'A "childView" must be specified'});return a},
addChild:function(a,b,e){var d=this.getOption("childViewOptions"),d=c._getValue(d,this,[a,e]),a=this.buildChildView(a,b,d);this._updateIndices(a,!0,e);this.triggerMethod("before:add:child",a);this._addChildView(a,e);this.triggerMethod("add:child",a);a._parent=this;return a},_updateIndices:function(a,b,c){this.getOption("sort")&&(b&&(a._index=c),this.children.each(function(c){if(c._index>=a._index)c._index=c._index+(b?1:-1)}))},_addChildView:function(a,b){var e=this._isShown&&!this.isBuffering&&c.isNodeAttached(this.el),
d;this.proxyChildEvents(a);this._isShown&&!this.isBuffering&&c.triggerMethodOn(a,"before:show",a);this.children.add(a);e&&this._triggerBeforeAttach&&(d=[a].concat(a._getNestedViews()),a.once("render",function(){this._triggerMethodMany(d,this,"before:attach")},this));this.renderChildView(a,b);e&&this._triggerAttach&&(d=[a].concat(a._getNestedViews()),this._triggerMethodMany(d,this,"attach"));this._isShown&&!this.isBuffering&&c.triggerMethodOn(a,"show",a)},renderChildView:function(a,b){a.render();this.attachHtml(this,
a,b);return a},buildChildView:function(a,b,c){a=d.extend({model:a},c);return new b(a)},removeChildView:function(a){a&&(this.triggerMethod("before:remove:child",a),a.destroy?a.destroy():a.remove&&a.remove(),delete a._parent,this.stopListening(a),this.children.remove(a),this.triggerMethod("remove:child",a),this._updateIndices(a,!1));return a},isEmpty:function(){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(a,
b){a.$el.append(b)},_createBuffer:function(){var a=document.createDocumentFragment();d.each(this._bufferedChildren,function(b){a.appendChild(b.el)});return a},attachHtml:function(a,b,c){a.isBuffering?a._bufferedChildren.splice(c,0,b):a._insertBefore(b,c)||a._insertAfter(b)},_insertBefore:function(a,b){var c;this.getOption("sort")&&b<this.children.length-1&&(c=this.children.find(function(a){return a._index===b+1}));return c?(c.$el.before(a.el),!0):!1},_insertAfter:function(a){this.$el.append(a.el)},
_initChildViewStorage:function(){this.children=new f.ChildViewContainer},destroy:function(){if(this.isDestroyed)return this;this.triggerMethod("before:destroy:collection");this.destroyChildren({checkEmpty:!1});this.triggerMethod("destroy:collection");return c.View.prototype.destroy.apply(this,arguments)},destroyChildren:function(a){var a=a||{},b=!0,c=this.children.map(d.identity);d.isUndefined(a.checkEmpty)||(b=a.checkEmpty);this.children.each(this.removeChildView,this);b&&this.checkEmpty();return c},
_shouldAddChild:function(a,b){var c=this.getOption("filter");return!d.isFunction(c)||c.call(this,a,b,this.collection)},proxyChildEvents:function(a){var b=this.getOption("childViewEventPrefix");this.listenTo(a,"all",function(){var c=d.toArray(arguments),i=c[0],g=this.normalizeMethods(d.result(this,"childEvents"));c[0]=b+":"+i;c.splice(1,0,a);"undefined"!==typeof g&&d.isFunction(g[i])&&g[i].apply(this,c.slice(1));this.triggerMethod.apply(this,c)})},_getImmediateChildren:function(){return d.values(this.children._views)},
getViewComparator:function(){return this.getOption("viewComparator")}});c.CompositeView=c.CollectionView.extend({constructor:function(){c.CollectionView.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.getOption("sort")&&this.listenTo(this.collection,"sort",this._sortViews))},getChildView:function(){return this.getOption("childView")||
this.constructor},serializeData:function(){var a={};this.model&&(a=d.partial(this.serializeModel,this.model).apply(this,arguments));return a},render:function(){this._ensureViewIsIntact();this._isRendering=!0;this.resetChildViewContainer();this.triggerMethod("before:render",this);this._renderTemplate();this._renderChildren();this._isRendering=!1;this.isRendered=!0;this.triggerMethod("render",this);return this},_renderChildren:function(){(this.isRendered||this._isRendering)&&c.CollectionView.prototype._renderChildren.call(this)},
_renderTemplate:function(){var a={},a=this.serializeData(),a=this.mixinTemplateHelpers(a);this.triggerMethod("before:render:template");var b=this.getTemplate(),a=c.Renderer.render(b,a,this);this.attachElContent(a);this.bindUIElements();this.triggerMethod("render:template")},attachElContent:function(a){this.$el.html(a);return this},attachBuffer:function(a,b){this.getChildViewContainer(a).append(b)},_insertAfter:function(a){this.getChildViewContainer(this,a).append(a.el)},_appendReorderedChildren:function(a){this.getChildViewContainer(this).append(a)},
getChildViewContainer:function(a){if(a.$childViewContainer)return a.$childViewContainer;var b;if(b=c.getOption(a,"childViewContainer")){if(b=c._getValue(b,a),b="@"===b.charAt(0)&&a.ui?a.ui[b.substr(4)]:a.$(b),0>=b.length)throw new c.Error({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+a.childViewContainer});}else b=a.$el;return a.$childViewContainer=b},resetChildViewContainer:function(){this.$childViewContainer&&(this.$childViewContainer=void 0)}});
c.LayoutView=c.ItemView.extend({regionClass:c.Region,options:{destroyImmediate:!1},childViewEventPrefix:"childview",constructor:function(a){a=a||{};this._firstRender=!0;this._initializeRegions(a);c.ItemView.call(this,a)},render:function(){this._ensureViewIsIntact();this._firstRender?this._firstRender=!1:this._reInitializeRegions();return c.ItemView.prototype.render.apply(this,arguments)},destroy:function(){if(this.isDestroyed)return this;!0===this.getOption("destroyImmediate")&&this.$el.remove();
this.regionManager.destroy();return c.ItemView.prototype.destroy.apply(this,arguments)},showChildView:function(a,b){return this.getRegion(a).show(b)},getChildView:function(a){return this.getRegion(a).currentView},addRegion:function(a,b){var c={};c[a]=b;return this._buildRegions(c)[a]},addRegions:function(a){this.regions=d.extend({},this.regions,a);return this._buildRegions(a)},removeRegion:function(a){delete this.regions[a];return this.regionManager.removeRegion(a)},getRegion:function(a){return this.regionManager.get(a)},
getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(a){var b={regionClass:this.getOption("regionClass"),parentEl:d.partial(d.result,this,"el")};return this.regionManager.addRegions(a,b)},_initializeRegions:function(a){var b;this._initRegionManager();b=c._getValue(this.regions,this,[a])||{};var e=this.getOption.call(a,"regions"),e=c._getValue(e,this,[a]);d.extend(b,e);b=this.normalizeUIValues(b,["selector","el"]);this.addRegions(b)},_reInitializeRegions:function(){this.regionManager.invoke("reset")},
getRegionManager:function(){return new c.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager();this.regionManager._parent=this;this.listenTo(this.regionManager,"before:add:region",function(a){this.triggerMethod("before:add:region",a)});this.listenTo(this.regionManager,"add:region",function(a,b){this[a]=b;this.triggerMethod("add:region",a,b)});this.listenTo(this.regionManager,"before:remove:region",function(a){this.triggerMethod("before:remove:region",a)});this.listenTo(this.regionManager,
"remove:region",function(a,b){delete this[a];this.triggerMethod("remove:region",a,b)})},_getImmediateChildren:function(){return d.chain(this.regionManager.getRegions()).pluck("currentView").compact().value()}});c.Behavior=c.Object.extend({constructor:function(a,b){this.view=b;this.defaults=d.result(this,"defaults")||{};this.options=d.extend({},this.defaults,a);this.ui=d.extend({},d.result(b,"ui"),d.result(this,"ui"));c.Object.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,
arguments)},destroy:function(){this.stopListening();return this},proxyViewProperties:function(a){this.$el=a.$el;this.el=a.el}});var r=h=c,k=d,p=function(a,b){if(!k.isObject(a.behaviors))return{};b=p.parseBehaviors(a,b||k.result(a,"behaviors"));p.wrap(a,b,k.keys(w));return b},x=function(a,b){this._view=a;this._behaviors=b;this._triggers={}},I=/^(\S+)\s*(.*)$/,w={behaviorTriggers:function(a,b){return(new x(this,b)).buildBehaviorTriggers()},behaviorEvents:function(a,b){var c={};k.each(b,function(a,b){var d=
{},f=k.clone(k.result(a,"events"))||{},f=r.normalizeUIKeys(f,a._uiBindings||a.ui),h=0;k.each(f,function(c,e){var f=e.match(I),f=f[1]+"."+[this.cid,b,h++," "].join("")+f[2],j=k.isFunction(c)?c:a[c];d[f]=k.bind(j,a)},this);c=k.extend(c,d)},this);return c}};k.extend(p,{behaviorsLookup:function(){throw new r.Error({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.html#behaviorslookup"});},getBehaviorClass:function(a,b){return a.behaviorClass?a.behaviorClass:r._getValue(p.behaviorsLookup,
this,[a,b])[b]},parseBehaviors:function(a,b){return k.chain(b).map(function(b,c){var d=new (p.getBehaviorClass(b,c))(b,a),f=p.parseBehaviors(a,k.result(d,"behaviors"));return[d].concat(f)}).flatten().value()},wrap:function(a,b,c){k.each(c,function(c){a[c]=k.partial(w[c],a[c],b)})}});k.extend(x.prototype,{buildBehaviorTriggers:function(){k.each(this._behaviors,this._buildTriggerHandlersForBehavior,this);return this._triggers},_buildTriggerHandlersForBehavior:function(a,b){var c=k.clone(k.result(a,
"triggers"))||{},c=r.normalizeUIKeys(c,a._uiBindings||a.ui);k.each(c,k.bind(this._setHandlerForBehavior,this,a,b))},_setHandlerForBehavior:function(a,b,c,d){a=d.replace(/^\S+/,function(a){return a+".behaviortriggers"+b});this._triggers[a]=this._view._buildViewTrigger(c)}});h.Behaviors=p;c.AppRouter=f.Router.extend({constructor:function(a){this.options=a||{};f.Router.apply(this,arguments);var b=this.getOption("appRoutes"),c=this._getController();this.processAppRoutes(c,b);this.on("route",this._processOnRoute,
this)},appRoute:function(a,b){var c=this._getController();this._addAppRoute(c,a,b)},_processOnRoute:function(a,b){if(d.isFunction(this.onRoute)){var c=d.invert(this.getOption("appRoutes"))[a];this.onRoute(a,c,b)}},processAppRoutes:function(a,b){if(b){var c=d.keys(b).reverse();d.each(c,function(c){this._addAppRoute(a,c,b[c])},this)}},_getController:function(){return this.getOption("controller")},_addAppRoute:function(a,b,e){var f=a[e];if(!f)throw new c.Error('Method "'+e+'" was not found on the controller');
this.route(b,e,d.bind(f,a))},mergeOptions:c.mergeOptions,getOption:c.proxyGetOption,triggerMethod:c.triggerMethod,bindEntityEvents:c.proxyBindEntityEvents,unbindEntityEvents:c.proxyUnbindEntityEvents});c.Application=c.Object.extend({constructor:function(a){this._initializeRegions(a);this._initCallbacks=new c.Callbacks;this.submodules={};d.extend(this,a);this._initChannel();c.Object.call(this,a)},execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,
arguments)},addInitializer:function(a){this._initCallbacks.add(a)},start:function(a){this.triggerMethod("before:start",a);this._initCallbacks.run(a,this);this.triggerMethod("start",a)},addRegions:function(a){return this._regionManager.addRegions(a)},emptyRegions:function(){return this._regionManager.emptyRegions()},removeRegion:function(a){return this._regionManager.removeRegion(a)},getRegion:function(a){return this._regionManager.get(a)},getRegions:function(){return this._regionManager.getRegions()},
module:function(a,b){var e=c.Module.getClass(b),f=d.toArray(arguments);f.unshift(this);return e.create.apply(e,f)},getRegionManager:function(){return new c.RegionManager},_initializeRegions:function(a){var b=d.isFunction(this.regions)?this.regions(a):this.regions||{};this._initRegionManager();var e=c.getOption(a,"regions");d.isFunction(e)&&(e=e.call(this,a));d.extend(b,e);this.addRegions(b);return this},_initRegionManager:function(){this._regionManager=this.getRegionManager();this._regionManager._parent=
this;this.listenTo(this._regionManager,"before:add:region",function(){c._triggerMethod(this,"before:add:region",arguments)});this.listenTo(this._regionManager,"add:region",function(a,b){this[a]=b;c._triggerMethod(this,"add:region",arguments)});this.listenTo(this._regionManager,"before:remove:region",function(){c._triggerMethod(this,"before:remove:region",arguments)});this.listenTo(this._regionManager,"remove:region",function(a){delete this[a];c._triggerMethod(this,"remove:region",arguments)})},_initChannel:function(){this.channelName=
d.result(this,"channelName")||"global";this.channel=d.result(this,"channel")||f.Wreqr.radio.channel(this.channelName);this.vent=d.result(this,"vent")||this.channel.vent;this.commands=d.result(this,"commands")||this.channel.commands;this.reqres=d.result(this,"reqres")||this.channel.reqres}});c.Module=function(a,b,c){this.moduleName=a;this.options=d.extend({},this.options,c);this.initialize=c.initialize||this.initialize;this.submodules={};this._setupInitializersAndFinalizers();this.app=b;d.isFunction(this.initialize)&&
this.initialize(a,b,this.options)};c.Module.extend=c.extend;d.extend(c.Module.prototype,f.Events,{startWithParent:!0,initialize:function(){},addInitializer:function(a){this._initializerCallbacks.add(a)},addFinalizer:function(a){this._finalizerCallbacks.add(a)},start:function(a){this._isInitialized||(d.each(this.submodules,function(b){b.startWithParent&&b.start(a)}),this.triggerMethod("before:start",a),this._initializerCallbacks.run(a,this),this._isInitialized=!0,this.triggerMethod("start",a))},stop:function(){this._isInitialized&&
(this._isInitialized=!1,this.triggerMethod("before:stop"),d.invoke(this.submodules,"stop"),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop"))},addDefinition:function(a,b){this._runModuleDefinition(a,b)},_runModuleDefinition:function(a,b){if(a){var e=d.flatten([this,this.app,f,c,f.$,d,b]);a.apply(this,e)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new c.Callbacks;this._finalizerCallbacks=
new c.Callbacks},triggerMethod:c.triggerMethod});d.extend(c.Module,{create:function(a,b,c){var f=a,g=d.drop(arguments,3),b=b.split("."),h=[];h[b.length-1]=c;d.each(b,function(b,d){var j=f;f=this._getModule(j,b,a,c);this._addModuleDefinition(j,f,h[d],g)},this);return f},_getModule:function(a,b,c,f){var g=d.extend({},f),f=this.getClass(f),h=a[b];h||(h=new f(b,c,g),a[b]=h,a.submodules[b]=h);return h},getClass:function(a){var b=c.Module;return!a?b:a.prototype instanceof b?a:a.moduleClass||b},_addModuleDefinition:function(a,
b,c,d){var f=this._getDefine(c),c=this._getStartWithParent(c,b);f&&b.addDefinition(f,d);this._addStartWithParent(a,b,c)},_getStartWithParent:function(a,b){var e;return d.isFunction(a)&&a.prototype instanceof c.Module?(e=b.constructor.prototype.startWithParent,d.isUndefined(e)?!0:e):d.isObject(a)?(e=a.startWithParent,d.isUndefined(e)?!0:e):!0},_getDefine:function(a){return d.isFunction(a)&&!(a.prototype instanceof c.Module)?a:d.isObject(a)?a.define:null},_addStartWithParent:function(a,b,c){b.startWithParent=
b.startWithParent&&c;b.startWithParent&&!b.startWithParentIsConfigured&&(b.startWithParentIsConfigured=!0,a.addInitializer(function(a){b.startWithParent&&b.start(a)}))}});return c});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:confluence-dashboard-resources', location = '/templates/core/content/content-template.soy' */
// This file was automatically generated from content-template.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace DashboardTemplates.Content.
 */

if (typeof DashboardTemplates == 'undefined') { var DashboardTemplates = {}; }
if (typeof DashboardTemplates.Content == 'undefined') { DashboardTemplates.Content = {}; }


DashboardTemplates.Content.groupHeader = function(opt_data, opt_ignored) {
  return '<h6 data-spy="affix" data-offset-top="20">' + soy.$$escapeHtml(opt_data.groupTitle) + '</h6>';
};
if (goog.DEBUG) {
  DashboardTemplates.Content.groupHeader.soyTemplateName = 'DashboardTemplates.Content.groupHeader';
}


DashboardTemplates.Content.groupedListWithFilter = function(opt_data, opt_ignored) {
  return '<header class="content-header content-header-' + soy.$$escapeHtml(opt_data.contentType) + '"><h1 class="list-title">' + soy.$$escapeHtml(opt_data.title) + '</h1><form action="" class="aui aui-group aui-group-split content-filter"><div class="aui-item"><input type="text" class="text" name="filter" placeholder="' + soy.$$escapeHtml('\u0424\u0438\u043b\u044c\u0442\u0440') + '" maxlength="40" /></div></form></header><ul class="list-container list-container-' + soy.$$escapeHtml(opt_data.contentType) + '" data-filter-string=""></ul><div class="spinner-container"></div>';
};
if (goog.DEBUG) {
  DashboardTemplates.Content.groupedListWithFilter.soyTemplateName = 'DashboardTemplates.Content.groupedListWithFilter';
}


DashboardTemplates.Content.streamList = function(opt_data, opt_ignored) {
  return '<header class="content-header content-header-' + soy.$$escapeHtml(opt_data.contentType) + '"><h1 class="list-title">' + soy.$$escapeHtml(opt_data.title) + '</h1></header><ul class="list-container list-container-' + soy.$$escapeHtml(opt_data.contentType) + '"></ul><div class="spinner-container"></div>';
};
if (goog.DEBUG) {
  DashboardTemplates.Content.streamList.soyTemplateName = 'DashboardTemplates.Content.streamList';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:confluence-dashboard-resources', location = '/templates/core/shared/templates/default-templates.soy' */
// This file was automatically generated from default-templates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace DashboardTemplates.Default.
 */

if (typeof DashboardTemplates == 'undefined') { var DashboardTemplates = {}; }
if (typeof DashboardTemplates.Default == 'undefined') { DashboardTemplates.Default = {}; }


DashboardTemplates.Default.listItem = function(opt_data, opt_ignored) {
  return '<a class="item-title" href="' + soy.$$escapeHtml(opt_data.url) + '"><div class="item-icon"><span class="aui-icon aui-icon-large aui-iconfont-' + soy.$$escapeHtml(opt_data.icon) + '">' + ((opt_data.icon == 'page') ? soy.$$escapeHtml('\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430') : soy.$$escapeHtml('\u041d\u043e\u0432\u043e\u0441\u0442\u044c')) + '</span></div></a><div class="item-content"><p class="title-wrapper"><a class="item-title" href="' + soy.$$escapeHtml(opt_data.url) + '">' + soy.$$escapeHtml(opt_data.title) + '</a></p>' + ((opt_data.date) ? '<span class="last-modified">' + soy.$$escapeHtml(opt_data.date) + '</span>' : '') + '</div>';
};
if (goog.DEBUG) {
  DashboardTemplates.Default.listItem.soyTemplateName = 'DashboardTemplates.Default.listItem';
}


DashboardTemplates.Default.loading = function(opt_data, opt_ignored) {
  return '<div class="spinner-container empty-state-loading"></div>';
};
if (goog.DEBUG) {
  DashboardTemplates.Default.loading.soyTemplateName = 'DashboardTemplates.Default.loading';
}


DashboardTemplates.Default.noMatches = function(opt_data, opt_ignored) {
  return '' + DashboardTemplates.Default.blank({cssClass: 'no-matches', content: '<h6 class="blank-slate-title-text">' + soy.$$escapeHtml('\u041d\u0435 \u043c\u043e\u0436\u0435\u043c \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0430\u0439\u0442\u0438 \u0434\u043b\u044f') + '</h6><h6 class="blank-slate-filter-text"> \'' + soy.$$escapeHtml(opt_data.filter) + '\'</h6><p>' + soy.$$filterNoAutoescape('') + '</p>'});
};
if (goog.DEBUG) {
  DashboardTemplates.Default.noMatches.soyTemplateName = 'DashboardTemplates.Default.noMatches';
}


DashboardTemplates.Default.blank = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div class="' + ((opt_data.cssClass) ? ' ' + soy.$$escapeHtml(opt_data.cssClass) + ' ' : '') + ' blank-slate"><div class="blank-slate-content"><div class="blank-slate-image-container"><div class="blank-slate-image" id="blank-slate-image"></div></div><div class="blank-slate-text">' + ((opt_data.title) ? '<h6 class="blank-slate-title-text">' + soy.$$escapeHtml(opt_data.title) + '</h6>' : '') + soy.$$filterNoAutoescape(opt_data.content) + '</div></div></div>';
};
if (goog.DEBUG) {
  DashboardTemplates.Default.blank.soyTemplateName = 'DashboardTemplates.Default.blank';
}


DashboardTemplates.Default.empty = function(opt_data, opt_ignored) {
  return '';
};
if (goog.DEBUG) {
  DashboardTemplates.Default.empty.soyTemplateName = 'DashboardTemplates.Default.empty';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:confluence-dashboard-resources', location = '/templates/core/web-fragments/web-fragments-template.soy' */
// This file was automatically generated from web-fragments-template.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace DashboardTemplates.WebFragments.
 */

if (typeof DashboardTemplates == 'undefined') { var DashboardTemplates = {}; }
if (typeof DashboardTemplates.WebFragments == 'undefined') { DashboardTemplates.WebFragments = {}; }


DashboardTemplates.WebFragments.webItem = function(opt_data, opt_ignored) {
  return '<a href="/' + soy.$$escapeHtml(opt_data.url) + '" class="aui-nav-item nav-item-' + soy.$$escapeHtml(opt_data.key) + '" title="' + soy.$$escapeHtml(opt_data.label) + '"><span class="aui-icon aui-icon-small ' + soy.$$escapeHtml(opt_data.icon) + '"></span><span class="aui-nav-item-label">' + soy.$$escapeHtml(opt_data.label) + '</span></a>';
};
if (goog.DEBUG) {
  DashboardTemplates.WebFragments.webItem.soyTemplateName = 'DashboardTemplates.WebFragments.webItem';
}


DashboardTemplates.WebFragments.webPanel = function(opt_data, opt_ignored) {
  return '';
};
if (goog.DEBUG) {
  DashboardTemplates.WebFragments.webPanel.soyTemplateName = 'DashboardTemplates.WebFragments.webPanel';
}


DashboardTemplates.WebFragments.section = function(opt_data, opt_ignored) {
  return '';
};
if (goog.DEBUG) {
  DashboardTemplates.WebFragments.section.soyTemplateName = 'DashboardTemplates.WebFragments.section';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:confluence-dashboard-resources', location = '/templates/modules/group/group-template.soy' */
// This file was automatically generated from group-template.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace DashboardTemplates.Groups.
 */

if (typeof DashboardTemplates == 'undefined') { var DashboardTemplates = {}; }
if (typeof DashboardTemplates.Groups == 'undefined') { DashboardTemplates.Groups = {}; }


DashboardTemplates.Groups.group = function(opt_data, opt_ignored) {
  return '<h6 class="sticky-header period-' + soy.$$escapeHtml(opt_data.periodKey) + '">' + soy.$$escapeHtml(opt_data.title) + '</h6><ul class="group-container period-' + soy.$$escapeHtml(opt_data.periodKey) + '"></ul>';
};
if (goog.DEBUG) {
  DashboardTemplates.Groups.group.soyTemplateName = 'DashboardTemplates.Groups.group';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:confluence-dashboard-resources', location = '/templates/modules/list-item/list-template.soy' */
// This file was automatically generated from list-template.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace DashboardTemplates.Lists.
 */

if (typeof DashboardTemplates == 'undefined') { var DashboardTemplates = {}; }
if (typeof DashboardTemplates.Lists == 'undefined') { DashboardTemplates.Lists = {}; }


DashboardTemplates.Lists.group = function(opt_data, opt_ignored) {
  return '<h2>' + soy.$$escapeHtml(opt_data.groupTitle) + '</h2><div class="group-container"></div>';
};
if (goog.DEBUG) {
  DashboardTemplates.Lists.group.soyTemplateName = 'DashboardTemplates.Lists.group';
}


DashboardTemplates.Lists.item = function(opt_data, opt_ignored) {
  var output = '<div class="item-block"' + ((opt_data.virtuallyDeleted) ? ' class="removed" ' : '') + (((opt_data.pageStatus == 'draft' || opt_data.pageStatus == 'unpublished') && opt_data.isCollabEditingEnabled) ? ' data-contains-lozenge="true" ' : '') + '>';
  var itemTitle__soy15 = '' + ((! opt_data.title || opt_data.title == '') ? soy.$$filterNoAutoescape('\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f') : soy.$$filterNoAutoescape(opt_data.title));
  output += '<a href="' + soy.$$escapeHtml(opt_data.url) + '" class="item-clickable"><div class="item-icon" href="' + soy.$$escapeHtml(opt_data.url) + '"><span class="aui-icon content-type-' + soy.$$escapeHtml(opt_data.icon) + '">' + ((opt_data.icon == 'page') ? soy.$$escapeHtml('\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430') : soy.$$escapeHtml('\u041d\u043e\u0432\u043e\u0441\u0442\u044c')) + '</span></div><div class="item-content" ' + ((opt_data.draftDiscovery == true) ? ' aria-controls="draft-discovery-dialog" ' : '') + '>' + (((opt_data.pageStatus == 'draft' || opt_data.pageStatus == 'unpublished') && opt_data.isCollabEditingEnabled) ? '<div class="item-status ' + soy.$$escapeHtml(opt_data.pageStatus) + '"><span class="aui-lozenge ' + soy.$$escapeHtml(opt_data.pageStatus) + ' tooltip" data-type="' + soy.$$escapeHtml(opt_data.pageStatus) + '"' + ((opt_data.pageStatus == 'draft' && opt_data.contentType == 'page') ? 'title="' + soy.$$escapeHtml('\u042d\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0435\u0449\u0435 \u043d\u0435 \u0431\u044b\u043b\u0430 \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u0430') + '"' : (opt_data.pageStatus == 'draft' && opt_data.contentType == 'blogpost') ? 'title="' + soy.$$escapeHtml('\u042d\u0442\u043e\u0442 \u043f\u043e\u0441\u0442 \u0435\u0449\u0435 \u043d\u0435 \u0431\u044b\u043b \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d') + '"' : (opt_data.contentType == 'page') ? 'title="' + soy.$$escapeHtml('\u041d\u0430 \u044d\u0442\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0435\u0441\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0435\u0449\u0435 \u043d\u0435 \u0431\u044b\u043b\u0438 \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u044b') + '"' : 'title="' + soy.$$escapeHtml('\u0412 \u044d\u0442\u043e\u043c \u043f\u043e\u0441\u0442\u0435 \u0435\u0441\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0435\u0449\u0435 \u043d\u0435 \u0431\u044b\u043b\u0438 \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u044b') + '"') + '>' + ((opt_data.pageStatus == 'draft') ? soy.$$escapeHtml('\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a') : soy.$$escapeHtml('\u041d\u0435\u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f')) + '</span></div>' + ((opt_data.draftDiscovery == true) ? DashboardTemplates.Lists.draftDiscoveryDialog(null) : '') : '') + '<div class="item-text"><span class="item-title">' + soy.$$escapeHtml(itemTitle__soy15) + '</span></div></div></a>' + ((opt_data.removable) ? DashboardTemplates.Lists.actionRemove(opt_data) : '') + '</div>';
  return output;
};
if (goog.DEBUG) {
  DashboardTemplates.Lists.item.soyTemplateName = 'DashboardTemplates.Lists.item';
}


DashboardTemplates.Lists.actionRemove = function(opt_data, opt_ignored) {
  return '<div class="item-actions">' + ((opt_data.virtuallyDeleted) ? DashboardTemplates.Lists.undo(null) : DashboardTemplates.Lists.remove(null)) + '</div>';
};
if (goog.DEBUG) {
  DashboardTemplates.Lists.actionRemove.soyTemplateName = 'DashboardTemplates.Lists.actionRemove';
}


DashboardTemplates.Lists.remove = function(opt_data, opt_ignored) {
  return '<button title="Remove" class="top-tooltip remove aui-icon aui-icon-small aui-iconfont-remove-label"></button>';
};
if (goog.DEBUG) {
  DashboardTemplates.Lists.remove.soyTemplateName = 'DashboardTemplates.Lists.remove';
}


DashboardTemplates.Lists.undo = function(opt_data, opt_ignored) {
  return '<button title="Undo" class="top-tooltip undo-remove aui-icon aui-icon-small aui-iconfont-undo"></button>';
};
if (goog.DEBUG) {
  DashboardTemplates.Lists.undo.soyTemplateName = 'DashboardTemplates.Lists.undo';
}


DashboardTemplates.Lists.draftDiscoveryDialog = function(opt_data, opt_ignored) {
  return '<aui-inline-dialog id="draft-discovery-dialog" alignment="right top" open><h6>' + soy.$$escapeHtml('\u041d\u0435 \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u043d\u043e?') + '</h6><p>' + soy.$$escapeHtml('\u041c\u044b \u043f\u043e\u043c\u0435\u0441\u0442\u0438\u043b\u0438 \u0432\u0430\u0448 \u0447\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0432 \u043d\u0435\u0434\u0430\u0432\u043d\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b. \u041d\u0430\u0439\u0434\u0438\u0442\u0435, \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0438 \u043e\u043f\u0443\u0431\u043b\u0438\u043a\u0443\u0439\u0442\u0435 \u0435\u0433\u043e \u0432 \u0443\u0434\u043e\u0431\u043d\u043e\u0435 \u0432\u0430\u043c \u0432\u0440\u0435\u043c\u044f.') + '</p><p><button id="draft-discovery-button" class="aui-button">' + soy.$$escapeHtml('\u041e\u041a, \u044f\u0441\u043d\u043e!') + '</button></p></aui-inline-dialog>';
};
if (goog.DEBUG) {
  DashboardTemplates.Lists.draftDiscoveryDialog.soyTemplateName = 'DashboardTemplates.Lists.draftDiscoveryDialog';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:confluence-dashboard-resources', location = '/templates/modules/nav/nav-template.soy' */
// This file was automatically generated from nav-template.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace DashboardTemplates.Nav.
 */

if (typeof DashboardTemplates == 'undefined') { var DashboardTemplates = {}; }
if (typeof DashboardTemplates.Nav == 'undefined') { DashboardTemplates.Nav = {}; }


DashboardTemplates.Nav.item = function(opt_data, opt_ignored) {
  return '<a href="#' + soy.$$escapeHtml(opt_data.url) + '" class="aui-nav-item nav-item-' + soy.$$escapeHtml(opt_data.key) + '" title="' + soy.$$escapeHtml(opt_data.label) + '"><span class="aui-icon ' + soy.$$escapeHtml(opt_data.icon) + '"></span><span class="aui-nav-item-label">' + soy.$$escapeHtml(opt_data.label) + '</span></a>';
};
if (goog.DEBUG) {
  DashboardTemplates.Nav.item.soyTemplateName = 'DashboardTemplates.Nav.item';
}


DashboardTemplates.Nav.container = function(opt_data, opt_ignored) {
  return '<div class="aui-nav-heading"><strong class="title-nav-group">' + soy.$$escapeHtml(opt_data.title) + '</strong>' + ((opt_data.anchorName && opt_data.anchorLink && opt_data.anchorTitle) ? '<a class="all-spaces-link" href= ' + soy.$$escapeHtml(opt_data.anchorLink) + ' title="' + soy.$$escapeHtml(opt_data.anchorTitle) + '">' + soy.$$escapeHtml(opt_data.anchorName) + '</a>' : '') + '</div><ul class="aui-nav nav-items default-list-view"></ul>';
};
if (goog.DEBUG) {
  DashboardTemplates.Nav.container.soyTemplateName = 'DashboardTemplates.Nav.container';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:confluence-dashboard-resources', location = '/templates/modules/nav-spaces/nav-spaces-template.soy' */
// This file was automatically generated from nav-spaces-template.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace DashboardTemplates.NavSpaces.
 */

if (typeof DashboardTemplates == 'undefined') { var DashboardTemplates = {}; }
if (typeof DashboardTemplates.NavSpaces == 'undefined') { DashboardTemplates.NavSpaces = {}; }


DashboardTemplates.NavSpaces.space = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml(opt_data.url) + '" class="aui-nav-item" title="' + soy.$$escapeHtml(opt_data.name) + '"><span class="aui-avatar aui-avatar-small aui-avatar-project"><span class="aui-avatar-inner"><img src="' + soy.$$escapeHtml(opt_data.logo) + '" alt="' + soy.$$escapeHtml(opt_data.name) + '"></span></span><span class="aui-nav-item-label">' + soy.$$escapeHtml(opt_data.name) + '</span></a>' + ((! opt_data.isAnonymousUser) ? (opt_data.virtuallyDeleted) ? '<button title="' + soy.$$escapeHtml('\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u043c\u043e\u0438\u0445 \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432') + '" class="undo-remove toggle-favourite aui-icon aui-icon-small aui-iconfont-unstar"></button>' : '<button title="' + soy.$$escapeHtml('\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u043c\u043e\u0438\u0445 \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432') + '" class="remove toggle-favourite aui-icon aui-icon-small aui-iconfont-star"></button>' : '');
};
if (goog.DEBUG) {
  DashboardTemplates.NavSpaces.space.soyTemplateName = 'DashboardTemplates.NavSpaces.space';
}


DashboardTemplates.NavSpaces.mySpacesBlank = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml(opt_data.callToActionLink) + '" class="aui-nav-item nav-item-spaces" title="' + soy.$$escapeHtml(opt_data.callToActionText) + '"><span class="aui-icon aui-icon-small content-type-spaces"></span><span class="aui-nav-item-label">' + soy.$$escapeHtml(opt_data.callToActionText) + '</span></a><p><small>' + soy.$$escapeHtml(opt_data.text) + '</small></p><p><a href="' + soy.$$escapeHtml(opt_data.callToActionLink) + '">' + soy.$$escapeHtml(opt_data.callToActionText) + '</a></p>';
};
if (goog.DEBUG) {
  DashboardTemplates.NavSpaces.mySpacesBlank.soyTemplateName = 'DashboardTemplates.NavSpaces.mySpacesBlank';
}


DashboardTemplates.NavSpaces.allSpacesBlank = function(opt_data, opt_ignored) {
  return '<p><small>' + soy.$$escapeHtml('nav.controller.all.spaces.blank') + '</small></p>';
};
if (goog.DEBUG) {
  DashboardTemplates.NavSpaces.allSpacesBlank.soyTemplateName = 'DashboardTemplates.NavSpaces.allSpacesBlank';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:confluence-dashboard-resources', location = '/templates/modules/stream-item/stream-item-template.soy' */
// This file was automatically generated from stream-item-template.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace DashboardTemplates.Stream.
 */

if (typeof DashboardTemplates == 'undefined') { var DashboardTemplates = {}; }
if (typeof DashboardTemplates.Stream == 'undefined') { DashboardTemplates.Stream = {}; }


DashboardTemplates.Stream.item = function(opt_data, opt_ignored) {
  var output = '<div class="update-item-profile"><span class="aui-avatar aui-avatar-large"><span class="aui-avatar-inner">' + Confluence.Templates.User.logo({canView: opt_data.canViewProfile, currentUsername: opt_data.currentUsername, username: '' + ((opt_data.modifier) ? soy.$$filterNoAutoescape(opt_data.modifier.name) : ''), profilePictureInfo: opt_data.profilePictureInfo}) + '</span></span></div><div class="update-items"><h4>' + Confluence.Templates.User.usernameLink({canView: opt_data.canViewProfile, username: '' + ((opt_data.modifier) ? soy.$$filterNoAutoescape(opt_data.modifier.name) : ''), fullName: '' + ((opt_data.modifier) ? soy.$$filterNoAutoescape(opt_data.modifier.fullName) : '')}) + '</h4><ul>';
  var changeItemList27 = opt_data.recentUpdates;
  var changeItemListLen27 = changeItemList27.length;
  for (var changeItemIndex27 = 0; changeItemIndex27 < changeItemListLen27; changeItemIndex27++) {
    var changeItemData27 = changeItemList27[changeItemIndex27];
    output += '<li class="update-item">' + DashboardTemplates.Stream.updateItem({changeItem: changeItemData27, changeSetNumber: 0, changeItemNumber: changeItemIndex27}) + '</li>';
  }
  output += '</ul></div>';
  return output;
};
if (goog.DEBUG) {
  DashboardTemplates.Stream.item.soyTemplateName = 'DashboardTemplates.Stream.item';
}


DashboardTemplates.Stream.updateItem = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml(opt_data.changeItem.urlPath) + '" title="' + soy.$$escapeHtml(opt_data.changeItem.title) + '"><div class="update-item-icons">' + ((opt_data.changeItem.thumbnailable) ? '<span id="twixie-' + soy.$$escapeHtml(opt_data.changeSetNumber) + soy.$$escapeHtml(opt_data.changeItemNumber) + '" data-thumbnail-id="' + soy.$$escapeHtml(opt_data.changeSetNumber) + soy.$$escapeHtml(opt_data.changeItemNumber) + '" class="update-item-arrow icon icon-section-closed"></span>' : '<span class="update-item-arrow"></span>') + '<span class="aui-icon ' + soy.$$escapeHtml(opt_data.changeItem.iconCss) + '">' + soy.$$escapeHtml(opt_data.changeItem.friendlyContentType) + '</span></div><div class="update-item-content"><span class="update-item-title">' + soy.$$escapeHtml(opt_data.changeItem.title) + '</span>' + ((opt_data.changeItem.summary) ? '<p class="update-item-summary text-wrapped">' + soy.$$escapeHtml(opt_data.changeItem.summary) + '</p>' : '') + '<div class="update-item-date-wrapper"><time datetime="" class="update-item-date">' + soy.$$escapeHtml(opt_data.changeItem.updateDescription) + ((opt_data.changeItem.viewChangesLink) ? '&nbsp;(<a href="' + soy.$$escapeHtml(opt_data.changeItem.viewChangesLink) + '">' + soy.$$escapeHtml('\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435') + '</a>)' : '') + '</time></div>' + ((opt_data.changeItem.thumbnailable) ? '<div class="update-item-thumbnail-container"><span><img id="thumbnail-' + soy.$$escapeHtml(opt_data.changeSetNumber) + soy.$$escapeHtml(opt_data.changeItemNumber) + '" class="thumbnail" src="' + soy.$$escapeHtml(opt_data.changeItem.thumbnailUrl) + '" width="' + soy.$$escapeHtml(opt_data.changeItem.thumbnailWidth) + '" height="' + soy.$$escapeHtml(opt_data.changeItem.thumbnailHeight) + '" style="display: none" /></span></div>' : '') + '</div></a>';
};
if (goog.DEBUG) {
  DashboardTemplates.Stream.updateItem.soyTemplateName = 'DashboardTemplates.Stream.updateItem';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:confluence-dashboard-resources', location = 'js/confluence-dashboard.js' */
define("confluence-dashboard/utils/event-manager",["module","exports","backbone","marionette"],function(e,t,n,o){"use strict";var i=n.Wreqr,r=(function(e){return e&&e.__esModule?e:{default:e}}(o).default,i.radio.channel("global"));t.default={EventManager:r.vent,Commands:r.commands,ReqRes:r.reqres},e.exports=t.default}),define("confluence-dashboard/behaviors/aui-sidebar-resizable",["module","exports","marionette","../utils/event-manager","jquery","ajs","confluence/storage-manager"],function(e,t,n,o,i,r,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var l=n.Behavior,c=o.EventManager,u=s(i).default,d=s(r).default,f=s(a).default;t.default=l.extend({ui:{resizeHandle:".aui-sidebar-handle"},events:{"mousedown @ui.resizeHandle":"onResizeStart","mouseup @ui.resizeHandle":"onResizeEnd"},dragging:!1,initialize:function(){this.EXPANDED_SIZE=280,this.sidebarSettings=f("confluence","sidebar"),this.listenTo(this.view,"sidebar-attached",this.createAuiSidebar,this),this.listenTo(c,"window:resize",this.resetSidebar,this)},createAuiSidebar:function(){var e=this;this.AUISidebar=d.sidebar(this.view.$el.selector),this.AUISidebar.on("expand-start.sidebar",function(){return e.onExpand()}),this.AUISidebar.on("collapse-start.sidebar",function(){return e.onCollapse()}),this.$footer=u("#footer, #studio-footer"),this.currentWidth=parseInt(this.sidebarSettings.getItem("width")),this.setInitialState()},resetSidebar:function(){var e=u("body").hasClass("aui-sidebar-collapsed"),t=this.AUISidebar.$el.hasClass("aui-sidebar-fly-out");e&&!t?this.AUISidebar.collapse():this.isFlyOut()||this.AUISidebar.isCollapsed()||this.setPanelWidth(this.EXPANDED_SIZE,this.EXPANDED_SIZE)},setInitialState:function(){this.currentWidth?(this.currentWidth>130&&(this.EXPANDED_SIZE=this.currentWidth),this.adjustSize()):this.currentWidth=280},onBeforeDestroy:function(){this.AUISidebar.off(".sidebar")},triggerToggleSidebar:function(e){c.trigger("sidebar:"+e)},isFlyOut:function(){return 1240>window.innerWidth},onExpand:function(){this.triggerToggleSidebar("expand"),this.setPanelWidth(this.EXPANDED_SIZE,this.EXPANDED_SIZE),this.persistSidebarSize()},onCollapse:function(){this.EXPANDED_SIZE=this.currentWidth<130?280:this.currentWidth,this.triggerToggleSidebar("collapse"),this.setPanelWidth(55,"inherit"),this.persistSidebarSize()},onResizeStart:function(e){var t=this;e.preventDefault(),this.AUISidebar.$body.on("mousemove.sidebar",function(e){var n=e.pageX;t.dragging=!0,n>130&&(t.EXPANDED_SIZE=n),t.adjustSize(),n>55&&n<640&&t.setPanelWidth(n)}),this.AUISidebar.$body.one("mouseup.sidebar",function(){return t.onResizeEnd()})},onResizeEnd:function(){this.AUISidebar.$body.off(".sidebar"),this.dragging?(this.adjustSize(),this.persistSidebarSize(),this.dragging=!1):this.AUISidebar.toggle()},setPanelWidth:function(e,t){var n=e+"px",o=n;this.isFlyOut()&&(o="55px"),this.AUISidebar.$wrapper.css({width:n,maxWidth:t||n}),this.AUISidebar.$el.siblings(".aui-page-panel").css({paddingLeft:o}),this.$footer.css("padding-left",o),this.currentWidth=e},persistSidebarSize:function(){this.sidebarSettings.setItemQuietly("width",this.currentWidth)},_collapse:function(){this.AUISidebar.isCollapsed()?this.onCollapse():this.AUISidebar.collapse()},_expand:function(){this.AUISidebar.isCollapsed()?this.AUISidebar.expand():this.onExpand()},adjustSize:function(){this.currentWidth<130?this._collapse():this._expand()}}),e.exports=t.default}),define("configuration",["ajs","confluence/meta"],function(e,t){var n=e.contextPath(),o="com.atlassian.confluence.plugins.confluence-dashboard";return{apiLimit:20,visibleItemLimit:200,pluginKey:o,staticResourceUrl:t.get("static-resource-url-prefix")+"/download/resources/"+o+":confluence-dashboard-resources",backboneHistoryConfig:{pushState:!1,root:n+"/dashboard.action",silent:!1},DARK_FEATURES:{USER_DISABLED_DASHBOARD_DARK_FEATURE:"simple.dashboard.disabled",RECOMMENDED_FOR_YOU_DARK_FEATURE:"recommended.for.you"},endpoints:{ALL_UPDATES:n+"/rest/dashboardmacros/1.0/updates",POPULAR_STREAM:n+"/rest/popular/1/stream/content?days=7&pageSize=20",RECOMMENDED_STREAM:n+"/rest/recommender/1.0/stream/content",RECENTLY_VIEWED:n+"/rest/api/content/search",RECENTLY_WORKED:n+"/rest/api/content/search",STARRED:n+"/rest/api/content/search",FAVOURITE_SPACES:n+"/rest/experimental/search?cql=type=space and space.type=favourite order by favourite desc&expand=space.icon&limit=100",ALL_SPACES:n+"/rest/experimental/search?cql=type = space&expand=space.icon",TOGGLE_FAVOURITE_SPACE:function(e){return n+"/rest/experimental/relation/user/current/favourite/toSpace/"+e},WEB_ITEMS:function(e){return t.get("static-resource-url-prefix")+"/download/resources/com.atlassian.confluence.plugins.confluence-dashboard:confluence-dashboard-nav-items/api/web-items/"+e+".json"},ADD_FAVOURITE:n+"/json/addfavourite.action",REMOVE_FAVOURITE:n+"/json/removefavourite.action",FEATURE_DISCOVERY:n+"/rest/feature-discovery/latest/discovered"},sections:{webItems:{sidebar:{MY_WORK:"my-work",DISCOVER:"discover",MY_SPACES:"my-spaces",MY_TEAM:"my-team"}}},URLS:{LOGIN_PAGE:n+"/login.action"}}}),define("confluence-dashboard/utils/dark-features",["module","exports","confluence/dark-features","confluence/api/ajax","ajs","jquery"],function(e,t,n,o,i,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){var o={enable:"PUT",disable:"DELETE"};return c.ajax({type:o[e],contentType:"application/json",url:f+"/rest/feature/1/"+t+"/"+n,data:{}})}var l=a(n).default,c=a(o).default,u=a(i).default,d=a(r).default,f=u.contextPath();t.default=d.extend(l,{remotely:{user:{enable:function(e){return l.enable(e),s("enable","user",e)},disable:function(e){return l.disable(e),s("disable","user",e)}}}}),e.exports=t.default}),define("confluence-dashboard/modules/nav/nav-definitions",["module","exports","ajs","../../utils/dark-features","configuration"],function(e,t,n,o,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=r(n).default,s=r(o).default,l=i.DARK_FEATURES.RECOMMENDED_FOR_YOU_DARK_FEATURE,c=[{key:"recently-worked",url:"recently-worked",label:"\u041d\u0435\u0434\u0430\u0432\u043d\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u043b \u0441",icon:"confluence-icon-recently-worked-on",controllerModule:"confluence-dashboard/modules/recently-worked/recently-worked-controller",controllerMethod:"recentWorked",spa:!0},{key:"recently-viewed",url:"recently-viewed",label:"\u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043f\u043e\u0441\u0435\u0442\u0438\u043b",icon:"confluence-icon-recently-viewed",controllerModule:"confluence-dashboard/modules/recently-viewed/recently-viewed-controller",controllerMethod:"recentViewed",spa:!0},{key:"starred",url:"starred",label:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e \u043d\u0430 \u0431\u0443\u0434\u0443\u0449\u0435\u0435",icon:"confluence-icon-starred",controllerModule:"confluence-dashboard/modules/starred/starred-controller",controllerMethod:"starred",spa:!0}],u=[{key:"all-updates",url:"all-updates",icon:"confluence-icon-all-updates",label:"\u0412\u0441\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f",controllerModule:"confluence-dashboard/modules/all-updates/all-updates-controller",controllerMethod:"allUpdates",spa:!0},{key:"popular-stream",url:"popular",icon:"confluence-icon-popular",label:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0435",controllerModule:"confluence-dashboard/modules/popular-stream/popular-stream-controller",controllerMethod:"popularStream",spa:!0}];s.isEnabled(l)&&u.push({key:"recommended-stream",url:"recommended",icon:"confluence-icon-recommended",label:"Recommended for you",controllerModule:"confluence-dashboard/modules/recommended-stream/recommended-stream-controller",controllerMethod:"recommendedStream",spa:!0}),t.default={MY_WORK:c,DISCOVER:u},e.exports=t.default}),define("confluence-dashboard/soy-templates",["module","exports"],function(e,t){"use strict";t.default=window.DashboardTemplates,e.exports=t.default}),define("confluence-dashboard/behaviors/tooltips",["module","exports","marionette"],function(e,t,n){"use strict";var o=n.Behavior;t.default=o.extend({defaults:{selector:".tooltip",configs:{gravity:"s"}},onRender:function(){this.$(this.options.selector).tooltip(this.options.configs)},onBeforeDestroy:function(){this.$(this.options.selector).tooltip("hide")}}),e.exports=t.default}),define("confluence-dashboard/behaviors/tooltips.js",function(){}),define("confluence-dashboard/modules/nav/nav-item-view",["module","exports","marionette","confluence-dashboard/soy-templates","../../utils/event-manager","backbone","../../behaviors/tooltips"],function(e,t,n,o,i,r,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var l=n.ItemView,c=s(o).default,u=i.EventManager,d=s(r).default,f=s(a).default;t.default=l.extend({tagName:"li",template:c.Nav.item,behaviors:{tooltip:{behaviorClass:f,selector:".aui-nav-item",configs:{gravity:"w"}}},modelEvents:{"change selected":"render"},events:{"click a":"onClick"},onClick:function(){this.model.set("selected",!0)},initialize:function(){this.onChangeRoute(),this.listenTo(u,"onRoute",this.onChangeRoute)},onChangeRoute:function(){this.model.set("selected",this.model.get("url")===d.history.fragment)},onBeforeRender:function(){this.$el.attr({class:"nav-item-container-"+this.model.get("key")+" "+(this.model.get("selected")?"aui-nav-selected":"")})}}),e.exports=t.default}),define("confluence-dashboard/core/shared/base-collection",["module","exports","backbone"],function(e,t,n){"use strict";var o=n.Collection;t.default=o.extend({groupMethod:function(e){throw"groupMethod method missing - check this collection !!!"},safeFetch:function(e){return this.filterXHR&&/[1-3]/.test(this.filterXHR.readyState)&&(this.filterXHR.abort(),this.filterXHR=null),this.filterXHR=this.fetch(e),this.filterXHR},sync:function(e,t,n){return n.cache||(n.cache=!1),o.prototype.sync.apply(this,arguments)}}),e.exports=t.default}),define("confluence-dashboard/core/shared/base-collection.js",function(){}),define("confluence-dashboard/core/web-fragments/web-item/web-item-collection",["module","exports","../../shared/base-collection","backbone","configuration"],function(e,t,n,o,i){"use strict";var r=function(e){return e&&e.__esModule?e:{default:e}}(n).default,a=o.Model,s=i.endpoints,l=a.extend({defaults:{weight:1,urlWithoutContextPath:!0}});t.default=r.extend({model:l,setContainer:function(e){this.container=e},url:function(){return s.WEB_ITEMS(this.container)},extractUrls:function(){return this.invoke("pick",["url","key"])}}),e.exports=t.default}),define("confluence-dashboard/core/web-fragments/web-item/web-item-views",["module","exports","marionette","confluence-dashboard/soy-templates","./web-item-collection"],function(e,t,n,o,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n.CollectionView,s=n.CompositeView,l=n.ItemView,c=r(o).default,u=r(i).default,d=l.extend({tagName:"li",template:c.WebFragments.webItem}),f=a.extend({tagName:"ul",childView:d,initialize:function(e){if(!e.container)throw"A container should be defined for a web item";this.collection=new u}}),h=s.extend({childView:d,initialize:function(e){if(!e.container)throw"A container should be defined for a web item";this.collection=new u}});t.default={WebItemView:d,WebItemCollectionView:f,WebItemCompositeView:h},e.exports=t.default}),define("confluence-dashboard/modules/nav/nav-composite-view",["module","exports","confluence-dashboard/soy-templates","./nav-item-view","../../core/web-fragments/web-item/web-item-views"],function(e,t,n,o,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=r(n).default,s=r(o).default,l=i.WebItemCompositeView;t.default=l.extend({template:a.Nav.container,childViewContainer:".nav-items",className:"backbone-view",childView:s}),e.exports=t.default}),define("confluence-dashboard/core/shared/base-controller",["module","exports","marionette","underscore"],function(e,t,n,o){"use strict";var i=n.Object,r=function(e){return e&&e.__esModule?e:{default:e}}(o).default;t.default=i.extend({initialize:function(){this.wrapActions()},actionsToFilter:[],beforeAction:function(){},afterAction:function(){},wrapActions:function(){var e=this;this.actionsToFilter.forEach(function(t){if(!e[t]||!r.isFunction(e[t]))throw"Method '"+t+"' not found!";var n=e[t];e[t]=function(){!1!==this.beforeAction.apply(this,arguments)&&(n.apply(this,arguments),this.afterAction.apply(this,arguments))}})}}),e.exports=t.default}),define("confluence-dashboard/modules/nav/nav-controller",["module","exports","configuration","./nav-definitions","../../utils/event-manager","./nav-composite-view","../../core/shared/base-controller","ajs","jquery"],function(e,t,n,o,i,r,a,s,l){"use strict";function c(e){return e&&e.__esModule?e:{default:e}}var u=n.sections,d=o.DISCOVER,f=o.MY_WORK,h=i.Commands,p=c(r).default,m=c(a).default,v=c(s).default,g=c(l).default;t.default=m.extend({createDiscoverView:function(){var e=this.createDefaultNavContainer({container:u.webItems.sidebar.DISCOVER,templateHelpers:{title:"\u041d\u043e\u0432\u0435\u0439\u0448\u0438\u0435"}});e.collection.add(d);return e.on("dom:refresh",function(){g("body").animate({scrollTop:0})}),e},createMyWorkView:function(){var e=this.createDefaultNavContainer({container:u.webItems.sidebar.MY_WORK,templateHelpers:{title:"\u041c\u043e\u044f \u0440\u0430\u0431\u043e\u0442\u0430"}});return e.collection.add(f),e},createDefaultNavContainer:function(e){var t=new p(e);return this.listenTo(t.collection,"add",this.bootstrapWebItem,this),t.collection.setContainer(e.container),t},bootstrapWebItem:function(e){h.execute("app:setupWebItem",e.toJSON())}}),e.exports=t.default}),define("confluence-dashboard/modules/nav-spaces/nav-spaces-collection",["module","exports","../../core/shared/base-collection","backbone","configuration","ajs"],function(e,t,n,o,i,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var s=a(n).default,l=o.Model,c=(o.Collection,i.endpoints),u=a(r).default.contextPath(),d=l.extend({idAttribute:"key",url:function(){return c.TOGGLE_FAVOURITE_SPACE(this.get("key"))},parse:function(e){return e.url=u+e.url,e.logo=u+e.space.icon.path,e.name=e.title,e.key=e.space.key,e}}),f=s.extend({url:c.FAVOURITE_SPACES,model:d,parse:function(e){return e.results}}),h=f.extend({url:c.ALL_SPACES});t.default={FavouriteSpacesCollection:f,AllSpacesCollection:h},e.exports=t.default}),define("confluence-dashboard/core/shared/base-composite-view",["module","exports","marionette","configuration"],function(e,t,n,o){"use strict";var i=n.CompositeView;o.staticResourceUrl;t.default=i.extend({fetched:!1,collectionEvents:{sync:"onCollectionSync"},getOption:function(e){return"emptyViewOptions"===e?this.selectEmptyViewOptions():i.prototype.getOption.call(this,e)},isFiltered:function(){return!1},onCollectionSync:function(){var e=!this.fetched;this.fetched=!0,(e||0===this.collection.length)&&this._renderChildren()},getEmptyView:function(){var e=this.selectEmptyViewType(),t=this.getOption(e);if(!t)throw"Missing "+e;return t},selectEmptyViewType:function(){return this.fetched?this.isFiltered()?"noMatchesView":"emptyView":"loadingView"},selectEmptyViewOptions:function(){var e=this.selectEmptyViewType();return i.prototype.getOption.call(this,e+"Options")}}),e.exports=t.default}),define("confluence-dashboard/core/shared/base-composite-view.js",function(){}),define("confluence-dashboard/core/shared/loading-view",["module","exports","marionette","confluence-dashboard/soy-templates"],function(e,t,n,o){"use strict";var i=n.ItemView,r=function(e){return e&&e.__esModule?e:{default:e}}(o).default;t.default=i.extend({tagName:"li",className:"empty-view loading-view",getTemplate:function(){return r.Default.loading}}),e.exports=t.default}),define("confluence-dashboard/core/shared/loading-view.js",function(){}),define("confluence-dashboard/utils/analytics",["module","exports","ajs","backbone"],function(e,t,n,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=i(n).default,a=i(o).default;t.default={publish:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="confluence.spa."+e;t.currentSection=a.history.fragment,r.trigger("analytics",{name:n,data:t})}},e.exports=t.default}),define("confluence-dashboard/behaviors/undo-remove",["module","exports","marionette","jquery","../utils/analytics"],function(e,t,n,o,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n.Behavior,s=r(o).default,l=r(i).default,c=s(window);t.default=a.extend({defaults:{timeToDestroy:3e3},ui:{remove:".remove",undo:".undo-remove"},events:{"click @ui.remove":"virtualRemove","click @ui.undo":"undoVirtualRemove"},modelEvents:{"change:virtuallyDeleted":"onVirtualDelete"},onVirtualDelete:function(){this.view.render()},virtualRemove:function(){var e=this;this.view.model.set("virtuallyDeleted",!0),this.timeout=setTimeout(function(){e.sendRemove()},this.options.timeToDestroy),this.bindToUnload(),l.publish(this.options.eventNamespace+".remove-favourite.clicked")},undoVirtualRemove:function(){clearTimeout(this.timeout),this.unbindFromUnload(),this.view.model.set("virtuallyDeleted",!1),l.publish(this.options.eventNamespace+".remove-favourite.undo")},bindToUnload:function(){var e=this,t=this.view.model.get("id");c.on("beforeunload.remove."+t,function(){e.sendRemove()})},unbindFromUnload:function(){var e=this.view.model.get("id");c.off("beforeunload.remove."+e)},sendRemove:function(){this.view.model.destroy(),this.unbindFromUnload()}}),e.exports=t.default}),define("confluence-dashboard/utils/conditions",["module","exports","confluence/meta","ajs"],function(e,t,n,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=i(n).default,a=i(o).default;t.default={canShowDashboard:function(){var e=document.querySelector(".confluence-dashboard");return e||a.log("Simplify dashboard disabled.",{simplifyDashboardPresent:e}),e},isAnonymousUser:function(){return!r.get("remote-user")}},e.exports=t.default}),define("confluence-dashboard/modules/nav-spaces/nav-spaces-item-view",["module","exports","marionette","../../behaviors/undo-remove","../../behaviors/tooltips","confluence-dashboard/soy-templates","../../utils/conditions"],function(e,t,n,o,i,r,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var l=n.ItemView,c=s(o).default,u=s(i).default,d=s(r).default,f=s(a).default;t.default=l.extend({template:d.NavSpaces.space,tagName:"li",className:"item",templateHelpers:function(){return{isAnonymousUser:f.isAnonymousUser()}},behaviors:{undoRemove:{behaviorClass:c,eventNamespace:"global-sidebar.spaces-menu"},tooltip:{behaviorClass:u,selector:".aui-nav-item",configs:{gravity:"w"}}}}),e.exports=t.default}),define("confluence-dashboard/core/shared/no-content-view",["module","exports","marionette","confluence-dashboard/soy-templates","../../utils/analytics","confluence/legacy","confluence/meta"],function(e,t,n,o,i,r,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var l=n.ItemView,c=s(o).default,u=s(i).default,d=s(r).default,f=s(a).default;t.default=l.extend({tagName:"li",className:"empty-view no-content-view",template:c.Default.blank,templateHelpers:function(){return{userCanCreateContent:f.getBoolean("user-can-create-content")}},events:{"click a":"onActionClick","click .create-page":"openCreatePage"},openCreatePage:function(){d.Blueprint.loadDialogAndOpenTemplate({})},onActionClick:function(){u.publish("blank-experience.action.clicked")}}),e.exports=t.default}),define("confluence-dashboard/core/shared/no-content-view.js",function(){}),define("confluence-dashboard/modules/nav-spaces/nav-spaces-empty-view",["module","exports","confluence-dashboard/soy-templates","../../core/shared/no-content-view","ajs"],function(e,t,n,o,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=r(n).default,s=r(o).default,l=r(i).default;t.default=s.extend({tagName:"li",template:a.NavSpaces.mySpacesBlank,className:"nav-space-blank",templateHelpers:{text:"\u0414\u0435\u0440\u0436\u0438\u0442\u0435 \u0441\u0430\u043c\u044b\u0435 \u043f\u043e\u043b\u0435\u0437\u043d\u044b\u0435 \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u0430 \u043f\u043e\u0434 \u0440\u0443\u043a\u043e\u0439. \u0429\u0435\u043b\u043a\u043d\u0438\u0442\u0435 \u043f\u0438\u043a\u0442\u043e\u0433\u0440\u0430\u043c\u043c\u0443 \u0437\u0432\u0435\u0437\u0434\u044b \u0432\u043e\u0437\u043b\u0435 \u043b\u044e\u0431\u043e\u0433\u043e \u0438\u0437 \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432, \u0447\u0442\u043e\u0431\u044b \u043e\u043d\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0437\u0438\u043b\u043e\u0441\u044c \u0437\u0434\u0435\u0441\u044c.",callToActionText:"\u041f\u043e\u0438\u0441\u043a \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432",callToActionLink:l.contextPath()+"/spacedirectory/view.action"}}),e.exports=t.default}),define("confluence-dashboard/behaviors/analytics-tracking",["module","exports","marionette","../utils/analytics","backbone","underscore"],function(e,t,n,o,i,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var s=n.Behavior,l=a(o).default;a(i).default,a(r).default;t.default=s.extend({defaults:{prefix:""},events:{"click a":"trackItemClick"},trackItemClick:function(){var e="item.clicked";this.options.prefix&&(e=this.options.prefix+"."+e),l.publish(e)}}),e.exports=t.default}),define("confluence-dashboard/modules/nav-spaces/nav-spaces-composite-view",["module","exports","../../core/shared/base-composite-view","../../core/shared/loading-view","confluence-dashboard/soy-templates","./nav-spaces-item-view","./nav-spaces-empty-view","../../behaviors/analytics-tracking","../../utils/analytics"],function(e,t,n,o,i,r,a,s,l){"use strict";function c(e){return e&&e.__esModule?e:{default:e}}var u=c(n).default,d=c(o).default,f=c(i).default,h=c(r).default,p=c(a).default,m=c(s).default,v=c(l).default;t.default=u.extend({template:f.Nav.container,childViewContainer:".nav-items",childView:h,emptyView:p,loadingView:d,className:"aui-navgroup-inner",behaviors:{analyticsTracking:{behaviorClass:m,prefix:"global-sidebar.spaces-menu"}},events:{"click .all-spaces-link":"onSpaceDirectoryClick"},onSpaceDirectoryClick:function(){v.publish("space-directory.clicked")}}),e.exports=t.default}),define("confluence-dashboard/modules/nav-spaces/nav-spaces-controller",["module","exports","configuration","./nav-spaces-collection","./nav-spaces-composite-view","../../core/shared/base-controller","ajs"],function(e,t,n,o,i,r,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var l=n.sections,c=o.AllSpacesCollection,u=o.FavouriteSpacesCollection,d=s(i).default,f=s(r).default,h=s(a).default;t.default=f.extend({createAllSpacesView:function(){return new d({container:l.webItems.sidebar.MY_SPACES,collection:new c,templateHelpers:{title:"\u041f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u0430",anchorName:"\u0412\u0441\u0435",anchorLink:h.contextPath()+"/spacedirectory/view.action",anchorTitle:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432"}})},createMySpacesView:function(){var e=new d({container:l.webItems.sidebar.MY_SPACES,collection:new u,templateHelpers:{title:"\u041c\u043e\u0438 \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u0430",anchorName:"\u0412\u0441\u0435",anchorLink:h.contextPath()+"/spacedirectory/view.action",anchorTitle:"\u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432"}});return e.collection.fetch(),e}}),e.exports=t.default}),define("confluence-dashboard/modules/sidebar/sidebar-view",["module","exports","marionette","ajs","../../behaviors/aui-sidebar-resizable","../../modules/nav/nav-controller","../../modules/nav-spaces/nav-spaces-controller","../../utils/conditions"],function(e,t,n,o,i,r,a,s){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var c=n.LayoutView,u=l(o).default,d=l(i).default,f=l(r).default,h=l(a).default,p=l(s).default;t.default=c.extend({template:!1,el:".aui-sidebar",regions:{"sidebar-discover":"#sidebar-discover","sidebar-my-work":"#sidebar-my-work","sidebar-spaces":"#sidebar-spaces"},behaviors:{AuiSidebarResizable:{behaviorClass:d}},initialize:function(){this.setNavContent(),this.trigger("sidebar-attached")},setNavContent:function(){var e=this,t=new f,n=new h;if(this.getRegion("sidebar-discover").show(t.createDiscoverView()),p.isAnonymousUser()){var o=n.createAllSpacesView();o.collection.fetch().then(function(){o.collection.length>0&&e.getRegion("sidebar-spaces").show(o)})}else this.getRegion("sidebar-my-work").show(t.createMyWorkView()),this.getRegion("sidebar-spaces").show(n.createMySpacesView())},expand:function(){u.sidebar(this.el).expand()},collapse:function(){u.sidebar(this.el).collapse()}}),e.exports=t.default}),define("confluence-dashboard/modules/welcome-message/welcome-message-view",["module","exports","marionette","jquery","../../utils/analytics"],function(e,t,n,o,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n.ItemView,s=(r(o).default,r(i).default);t.default=a.extend({el:".welcome-message",template:!1,events:{"mouseenter a.welcome-message-edit-button":"highlightOn","mouseleave a.welcome-message-edit-button":"highlightOff","click a.welcome-message-edit-button":"onEditButtonClick"},highlightOn:function(){this.$el.addClass("welcome-message-highlight")},highlightOff:function(){this.$el.removeClass("welcome-message-highlight")},onEditButtonClick:function(){s.publish("edit-welcome-message.clicked")}}),e.exports=t.default}),define("confluence-dashboard/core/main/main-router",["module","exports","marionette","../../utils/event-manager","backbone","confluence/storage-manager","underscore","jquery","../../utils/analytics"],function(e,t,n,o,i,r,a,s,l){"use strict";function c(e){return e&&e.__esModule?e:{default:e}}var u=n.AppRouter,d=o.EventManager,f=c(i).default,h=c(r).default,p=c(a).default,m=c(s).default,v=c(l).default,g=h("dashboard","route"),b=p.debounce(function(e){v.publish("view",{previousSection:e})},100);t.default=u.extend({initialize:function(){this.listenTo(f.history,"route",this.onRoute)},onRoute:function(){b(g.getItem("last"));var e=f.history.fragment;g.setItemQuietly("last",e),d.trigger("onRoute",e)},appRoutes:{"":"index"},controller:{index:function(){var e="all-updates";g.doesContain("last")&&(e=g.getItem("last")),v.publish("root-loaded",{redirectedTo:e}),f.history.navigate(e,{trigger:!0,replace:!0})}},handleClicks:function(e){var t=m(e.currentTarget).attr("href"),n=window.location.protocol+"//";if(t.slice(n.length)!==n){var o="global-sidebar.clicked.using-meta";e.ctrlKey||e.metaKey||(e.preventDefault(),f.history.fragment===t.slice(1)?f.history.loadUrl():this.navigate(t,!0),o="global-sidebar.clicked"),v.publish(o)}}}),e.exports=t.default}),define("confluence-dashboard/core/content/content-factory",["module","exports"],function(e,t){"use strict";t.default=function(e){if(!e)throw"Missing options!";var t=e.name,n=e.scope,o=e.routes,i=e.controllerModule;if(!i)throw"Missing controller module!";if(!o)throw"Missing route definitions!";var r=require(i);if(!r)throw"Controller not found!";return new r({name:t,scope:n||"/",routes:o})},e.exports=t.default}),define("confluence-dashboard/core/main/main-controller",["module","exports","./main-router","../../utils/event-manager","backbone","../shared/base-controller","../content/content-factory"],function(e,t,n,o,i,r,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=s(n).default,u=o.Commands,d=s(i).default,f=s(r).default,h=s(a).default;t.default=f.extend({initialize:function(){this.router=new c,this.on("navigate",this.onNavigate,this),u.setHandler("app:setupWebItem",this.setupWebItem,this)},onNavigate:function(e){this.router.navigate(e,!0)},setupWebItem:function(e){if(!e)throw"No web item data";if(e.spa){if(!e.url)throw"Web Item missing an url";if(!e.controllerMethod)throw"Web Item missing its controller method";if(!e.controllerModule)throw"Web Item missing controller";var t=l({},e.url,e.controllerMethod);this.webItemController=h({name:e.key,scope:e.scope,routes:t,controllerModule:e.controllerModule}),e.url===d.history.fragment&&d.history.loadUrl()}}}),e.exports=t.default}),define("confluence-dashboard/core/content/content-region-animation",["module","exports","marionette","jquery"],function(e,t,n,o){"use strict";var i=n.Region,r=function(e){return e&&e.__esModule?e:{default:e}}(o).default;r.extend(r.easing,{def:"easeOutQuad",easeOutQuad:function(e,t,n,o,i){return-o*(t/=i)*(t-2)+n}});var a={easing:"easeOutQuad",duration:200,queue:!1},s=function(){var e=r.Deferred(),t=r("#header").height(),n=document.documentElement;if((window.pageYOffset||n.scrollTop)-(n.clientTop||0)>t){var o=r.extend({},a,{complete:function(){e.resolve()}});r("html, body").animate({scrollTop:t},o)}else e.resolve();return e.promise()};t.default=i.extend({in:function(e){e.css({position:"relative",top:"15px",opacity:0}).animate({top:0,opacity:1},a)},out:function(e){var t=r.Deferred();return e.animate({opacity:0},r.extend({},a,{complete:function(){t.resolve()}})),t.promise()},show:function(){var e=this,t=this,n=arguments;this.currentView?s().then(function(){e.out(e.$el.find(e.options.selectorToAnimate)).then(function(){i.prototype.show.apply(t,n),e.in(e.$el.find(e.options.selectorToAnimate))})}):(i.prototype.show.apply(this,arguments),this.in(this.$el.find(this.options.selectorToAnimate)))}}),e.exports=t.default}),define("confluence-dashboard/core/main/main-app",["module","exports","marionette","../../utils/event-manager","../../modules/sidebar/sidebar-view","../../modules/welcome-message/welcome-message-view","./main-controller","../content/content-region-animation","underscore","jquery"],function(e,t,n,o,i,r,a,s,l,c){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}var d=n.Application,f=o.ReqRes,h=o.EventManager,p=o.Commands,m=u(i).default,v=u(r).default,g=u(a).default,b=u(s).default,w=u(l).default,y=(0,u(c).default)(window);t.default=d.extend({el:".PageContent",isStarted:!1,regions:{page:".confluence-dashboard",content:{el:".content-body",selectorToAnimate:".list-container",regionClass:b},dialogs:".dialogs","right-sidebar":".content-sidebar","welcome-message":".welcome-message-wrapper"},initialize:function(){this.controller=new g,this.router=this.controller.router,f.setHandler("app",this.getApp,this),p.setHandler("main-app:swapContent",this.swapContent,this),p.setHandler("main-app:showDialog",this.showDialog,this),y.on("scroll.window.main-layout",this.triggerWindowScroll),y.on("resize.window.main-layout",w.debounce(this.triggerWindowResize.bind(this),16))},getApp:function(){return this},onStart:function(){this.isStarted=!0,this.attachServerRenderedViews(),this.attachWelcomeMessage()},onBeforeDestroy:function(){y.off("scroll.window.main-layout"),y.off("resize.window.main-layout")},triggerWindowScroll:function(){h.trigger("window:scroll",window)},triggerWindowResize:function(){h.trigger("window:resize",window)},expandSidebar:function(){this.sidebarView&&this.sidebarView.expand()},swapContent:function(e){this.getRegion("content").show(e)},showDialog:function(e){this.getRegion("dialogs").show(e)},attachServerRenderedViews:function(){this.sidebarView=new m,this.getRegion("page").attachView(this.sidebarView)},attachWelcomeMessage:function(){this.getRegion("welcome-message").attachView(new v)}}),e.exports=t.default}),define("confluence-dashboard/utils/single-flag",["module","exports","confluence/flag","underscore","jquery"],function(e,t,n,o,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=r(n).default,s=r(o).default,l=r(i).default,c={currentFlag:null,closePreviousFlags:function(){c.currentFlag&&(c.currentFlag.flag.close(),c.currentFlag=null)},shouldShow:function(e){if(!c.currentFlag||!c.currentFlag.flag)return!0;var t="false"===l(c.currentFlag.flag).attr("aria-hidden"),n=s.isEqual(c.currentFlag.options,e);return!t||!n},create:function(e){var t={type:"error",close:"auto",persistent:!1,stack:"dashboard"},n=s.extend(t,e);if(this.shouldShow(n)){c.closePreviousFlags();var o=a(n);c.currentFlag={flag:o,options:n},n.callback&&s.isFunction(n.callback)&&n.callback()}}};t.default=c,e.exports=t.default}),define("confluence-dashboard/utils/navigation",["module","exports","window"],function(e,t,n){"use strict";var o=function(e){return e&&e.__esModule?e:{default:e}}(n).default;t.default={redirect:function(e){o.location.href=e}},e.exports=t.default}),define("confluence-dashboard/utils/error-handlers",["module","exports","backbone","jquery","ajs","./analytics","./single-flag","./navigation","configuration"],function(e,t,n,o,i,r,a,s,l){"use strict";function c(e){return e&&e.__esModule?e:{default:e}}var u=c(n).default,d=c(o).default,f=c(i).default,h=c(r).default,p=c(a).default,m=c(s).default,v=l.URLS,g=d(window),b=f.contextPath(),w={NOT_FOUND:{type:"error",title:"\u041e \u043d\u0435\u0442, \u043c\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u043c \u043d\u0430\u0439\u0442\u0438 \u044d\u0442\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443!",close:"auto"},SERVER_ERROR:{type:"error",title:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a.",body:"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430 \u043f\u043e\u0437\u0434\u043d\u0435\u0435.",close:"auto"},SESSION_EXPIRED:{type:"error",title:"\u041f\u043e\u0445\u043e\u0436\u0435, \u0441\u0435\u0430\u043d\u0441 \u043f\u0440\u0435\u0440\u0432\u0430\u043d.",body:"\u0412 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0440\u0430\u0437 \u0431\u0443\u0434\u0435\u043c \u0434\u0435\u0440\u0436\u0430\u0442\u044c\u0441\u044f \u043a\u0440\u0435\u043f\u0447\u0435, \u0447\u0435\u0441\u0442\u043d\u043e\u0435 \u0441\u043b\u043e\u0432\u043e.",close:"never"},OFFLINE:{type:"error",title:"\u041f\u043e\u0445\u043e\u0436\u0435, \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u043f\u043e\u0442\u0435\u0440\u044f\u043d\u043e.",body:"\u0416\u0434\u0435\u043c \u0432\u0430\u0448\u0435\u0433\u043e \u043f\u0435\u0440\u0435\u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f.",close:"never"},ONLINE:{type:"success",title:"\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u043e",body:'<button class="aui-button aui-button-link btn-reload-content">'+"\u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u043e\u0435"+"</button>",close:"auto",callback:function(){d(p.currentFlag).on("click",".btn-reload-content",function(){p.closePreviousFlags(),u.history.loadUrl()})}}},y=function(){p.create(w.NOT_FOUND),h.publish("error-handler.not-found")},x=function(){p.create(w.SERVER_ERROR),h.publish("error-handler.server-error")},_=function(e){if(0===e.status)x();else if(/(401|403)/.test(e.status)){p.create(w.SESSION_EXPIRED),h.publish("error-handler.session.expired");var t=window.location.pathname.replace(b,"");m.redirect(v.LOGIN_PAGE+"?os_destination="+t)}},S=function(){p.create(w.OFFLINE),h.publish("error-handler.connection.lost"),g.one("online.dashboard-error-handler",function(){p.create(w.ONLINE),h.publish("error-handler.connection.recovered")})},k=u.ajax;t.default={interceptBackboneErrors:function(){u.ajax=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.statusCode=d.extend({401:_,403:_,404:y,400:x,500:x},e.statusCode||{}),u.$.ajax.call(u.$,e)}},interceptConnectionErrors:function(){g.on("offline.dashboard-error-handler",S)},stopIntercepting:function(){g.off(".dashboard-error-handler"),u.ajax=k}},e.exports=t.default}),define("confluence-dashboard/app",["module","exports","backbone","jquery","./core/main/main-app","./utils/error-handlers","./utils/analytics","configuration"],function(e,t,n,o,i,r,a,s){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var c=l(n).default,u=l(o).default,d=l(i).default,f=l(r).default,h=l(a).default,p=s.backboneHistoryConfig,m=new d;m.on("before:start",function(){f.interceptBackboneErrors(),f.interceptConnectionErrors(),c.history.start(p)}),m.on("start",function(){u(document).on("click",".confluence-dashboard .aui-sidebar-body .spa a",m.router.handleClicks.bind(m.router)),h.publish("rendered")}),t.default=m,e.exports=t.default}),define("confluence-dashboard/index",["./app","./utils/conditions","ajs"],function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=o(e).default,r=o(t).default;o(n).default.toInit(function(){r.canShowDashboard()&&i.start()})}),define("confluence-dashboard/core/shared/no-matches-view",["module","exports","marionette","confluence-dashboard/soy-templates"],function(e,t,n,o){"use strict";var i=n.ItemView,r=function(e){return e&&e.__esModule?e:{default:e}}(o).default;t.default=i.extend({tagName:"li",className:"empty-view no-matches-view",template:r.Default.noMatches}),e.exports=t.default}),define("confluence-dashboard/core/shared/no-matches-view.js",function(){}),define("confluence-dashboard/core/shared/cql-base-collection",["module","exports","./base-collection","jquery","ajs","underscore"],function(e,t,n,o,i,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var s=a(n).default,l=a(o).default,c=a(i).default,u=a(r).default,d=c.contextPath();t.default=s.extend({url:function(){return this.buildUrlFromParams()},buildUrlFromParams:function(e){if(!this.apiParams)throw"apiParams attribute missing";var t=this.getApiParams(e),n=t.url,o=t.params,i=t.expansions,r=t.cqlcontext,a=t.cql,s=t.cqlOrder,c=[];if(!n)throw"CqlBaseCollection:buildUrlFromParams: missing URL!";return o&&c.push(l.param(o)),i&&c.push("expand="+i.join(",")),r&&c.push("cqlcontext="+encodeURI(r)),a&&(e&&e.cqlQuery&&(a+=" "+e.cqlQuery),s&&(a+=" order by "+s),c.push("cql="+a)),c.length&&(n=n+"?"+c.join("&")),n},getApiParams:function(e){return u.isFunction(this.apiParams)?this.apiParams(e):this.apiParams},parse:function(e,t){return this.parseNext(e,t),e.results},parseNext:function(e,t){e._links&&e._links.next?(this.hasNext=!0,this.nextUrl=d+e._links.next):(this.hasNext=!1,this.nextUrl=null)},loadMore:function(){if(this.hasNext)return this.safeFetch({url:this.nextUrl,remove:!1,loadingMore:!0});var e=l.Deferred();return e.reject(),e.promise()},search:function(e){var t=this.buildUrlFromParams({cqlQuery:"and title ~ '"+e.query+"*'",isFiltered:!0});return this.safeFetch({url:t,isFiltered:!0})}}),e.exports=t.default}),define("confluence-dashboard/core/shared/cql-base-collection.js",function(){}),define("confluence-dashboard/core/shared/base-collection-with-function",["module","exports","./cql-base-collection","configuration","underscore"],function(e,t,n,o,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=r(n).default,s=o.apiLimit,l=o.visibleItemLimit,c=r(i).default;t.default=a.extend({pageOffset:0,sync:function(e,t,n){return n.loadingMore||(this.pageOffset=0),a.prototype.sync.apply(this,arguments)},parseNext:function(e,t){this.pageOffset+=e.results.length,this.hasNext=!(t&&t.isFiltered)&&e.results.length>0&&this.getPageLimit(t)>0,this.nextUrl=this.hasNext?this.buildUrlFromParams(t):null},getPageOffset:function(e){return e&&e.isFiltered?0:this.pageOffset},getPageLimit:function(e){return e&&e.isFiltered?l:c.min([s,l-this.getPageOffset(e)])}}),e.exports=t.default}),define("confluence-dashboard/core/shared/base-collection-with-function.js",function(){}),define("confluence-dashboard/core/shared/base-dialog",["module","exports","marionette","ajs"],function(e,t,n,o){"use strict";var i=n.ItemView,r=function(e){return e&&e.__esModule?e:{default:e}}(o).default;t.default=i.extend({tagName:"section",className:"aui-layer aui-dialog2 aui-dialog2-medium confluence-dialog-no-chrome confluence-dialog-centered",attributes:{"aria-hidden":!0},openDialog:function(){var e=this;this.initDialog(),this.dialog.on("show",function(){return e.delegateEvents()}),this.dialog.on("hide",function(){return e.destroy()}),this.dialog.show()},closeDialog:function(){this.dialog&&this.dialog.hide()},onRender:function(){this.initDialog()},initDialog:function(){this.dialog||(this.dialog=r.dialog2(this.el))}}),e.exports=t.default}),define("confluence-dashboard/core/shared/base-dialog.js",function(){}),define("confluence-dashboard/core/shared/scope-router",["module","exports","marionette","backbone","underscore"],function(e,t,n,o,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n.AppRouter,s=r(o).default,l=r(i).default;s.History.prototype.route=function(e,t){var n=String(e),o=l.findWhere(this.handlers,{name:n});o?o.callback=t:this.handlers.unshift({name:n,route:e,callback:t})},t.default=a.extend({initialize:function(e){var t=this.options.scope||this.scope,n=this.options.scopedRoutes||this.scopedRoutes;if(!t)throw"Scope router requires a scope!";if(!n)throw"Scope router requires a scopedRoutes object!";if(!this.controller&&!this.options.controller)throw"Scope router requires a controller!";"/"===t?t="":t+="/";var o={};l.each(n,function(e,n){o[""+t+n]=e}),this.scope=t,this.appRoutes=o}}),e.exports=t.default}),define("confluence-dashboard/core/shared/scope-router.js",function(){}),define("confluence-dashboard/core/content/content-as-grouped-list-view",["module","exports","../shared/base-composite-view","confluence-dashboard/soy-templates","../../utils/event-manager","../../behaviors/stickable/stickable","../../behaviors/infinite-loading","../../behaviors/filterable","../../behaviors/progress-indicator","../../behaviors/analytics-tracking","../shared/no-content-view","../shared/loading-view","../shared/no-matches-view","../../modules/group/group-composite-view","../../modules/group/group-collection","../../modules/list-item/list-item-view"],function(e,t,n,o,i,r,a,s,l,c,u,d,f,h,p,m){"use strict";function v(e){return e&&e.__esModule?e:{default:e}}var g=v(n).default,b=v(o).default,w=(i.EventManager,v(r).default),y=v(a).default,x=v(s).default,_=v(l).default,S=v(c).default,k=v(u).default,E=v(d).default,T=v(f).default,M=v(h).default,C=v(p).default,D=v(m).default;t.default=g.extend({template:b.Content.groupedListWithFilter,childViewContainer:".list-container",childView:M,childViewOptions:{childView:D},emptyView:k,loadingView:E,noMatchesView:T,noMatchesViewOptions:{templateHelpers:function(){return{filter:this._parent.getFilterString()}}},ui:{filter:"[name=filter]"},behaviors:{stickMainHeader:{behaviorClass:w,element:".content-header",autoRun:!0},infiniteLoading:{behaviorClass:y,target:".list-container"},progressIndicator:{behaviorClass:_,dataSource:"collection",container:".spinner-container:first",size:"medium"},filterable:{behaviorClass:x},analyticsTracking:{behaviorClass:S}},events:{"submit .content-filter":"onFilterSubmit"},initialize:function(){var e=this.collection;this.collection=new C([],{collectionToGroup:e})},isFiltered:function(){return this.getFilterString().length>0},getFilterString:function(){return this.ui.filter.val()},onFilterSubmit:function(e){e.preventDefault()}}),e.exports=t.default}),define("confluence-dashboard/core/content/content-as-grouped-list-view.js",function(){}),define("confluence-dashboard/behaviors/stickable/stickable",["module","exports","marionette","../../utils/event-manager","underscore"],function(e,t,n,o,i){"use strict";var r=n.Behavior,a=o.EventManager,s=function(e){return e&&e.__esModule?e:{default:e}}(i).default;t.default=r.extend({defaults:{offset:0,gap:0,autoRun:!1},onRender:function(){var e=this.options;if(!e.element)throw"Behavior:Stickable: Missing `element` attribute";this.$target=this.view.$el.find(e.element),this.target=this.$target[0],this.listenTo(a,"window:resize",this.onResize,this),this.listenTo(a,"window:scroll",this.stick,this),this.listenTo(a,"list:change",this.stick,this),e.autoRun&&s.defer(this.stick.bind(this)),this.view.$el.addClass("stickable")},stick:function(){var e=this.options,t=e.gap,n=e.offset,o=document.documentElement,i=(window.pageYOffset||o.scrollTop)-(o.clientTop||0),r=this.view.$el.offset().top,a=r+this.view.$el.outerHeight(),s=i+n+t;if(s>=r&&s<=a){var l=this.target.clientWidth;this.clone||(this.clone=this.$target.clone(),this.$target.before(this.clone),this.$target.addClass("stick").css({width:l+"px"})),s>=a-this.$target.outerHeight()?this.$target.removeClass("stick").addClass("stuck"):this.$target.removeClass("stuck").addClass("stick").css({top:n+"px",width:l+"px"})}else this.removeClone()},onResize:function(){if(this.clone){var e=this.clone.width();this.$target.css({width:e+"px"})}},removeClone:function(e){this.clone&&(this.$target.removeClass("stick").removeClass("stuck"),this.$target.css({width:"100%"}),this.clone.remove(),this.clone=null)},onBeforeDestroy:function(){this.removeClone()}}),e.exports=t.default}),define("confluence-dashboard/behaviors/stickable/stickable.js",function(){}),define("confluence-dashboard/behaviors/infinite-loading",["module","exports","marionette","../utils/event-manager","jquery","underscore"],function(e,t,n,o,i,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var s=n.Behavior,l=o.EventManager,c=(o.Commands,a(i).default),u=a(r).default;t.default=s.extend({defaults:{offset:50},initialize:function(){this.listenToOnce(this.view,"render:collection",this.setup)},setup:function(){var e=this;this.view.collection.loadMore&&(this.$target=c(this.options.target,this.$el),this.$window=c(window),this.loading=!1,this.listenTo(l,"window:scroll",this.checkPosition,this),this.listenTo(this.view.collection,"sync",this.checkPosition),u.defer(function(){return e.checkPosition()}))},checkPosition:function(){var e=this;if(!this.loading){var t=this.$window.scrollTop()+this.$window.height(),n=this.$target.height();t>this.$target.offset().top+n-this.options.offset&&this.loadMore().then(function(){return e.checkPosition()})}},loadMore:function(){var e=this;return this.loading=!0,this.view.collection.loadMore().always(function(){e.loading=!1})}}),e.exports=t.default}),define("confluence-dashboard/behaviors/infinite-loading.js",function(){}),define("confluence-dashboard/utils/strings",["module","exports","jquery"],function(e,t,n){"use strict";var o=function(e){return e&&e.__esModule?e:{default:e}}(n).default,i=/[\+\-&\|!\(\)\{}\[\]\^~\*\?\\\/:"']/g;t.default={normalizeForCQL:function(e){return o.trim(e.replace(i," "))}},e.exports=t.default}),define("confluence-dashboard/behaviors/filterable",["module","exports","marionette","../utils/event-manager","underscore","jquery","ajs","../utils/analytics","../utils/strings"],function(e,t,n,o,i,r,a,s,l){"use strict";function c(e){return e&&e.__esModule?e:{default:e}}var u=n.Behavior,d=(o.EventManager,c(i).default),f=(c(r).default,c(a).default),h=c(s).default,p=l.normalizeForCQL;t.default=u.extend({ui:{filter:"[name=filter]"},events:{"input @ui.filter":"doFilter"},initialize:function(){this.view.options.collection&&this.view.options.collection.search||console.warn("Behavior:Filterable: The collection is missing or not implementing a search method"),this.doFilter=d.debounce(this.doFilter,400)},onShow:function(){var e=this;this.listenTo(this.view.collection,"sync",this.updateFilterString),this.listenTo(this.view.collection,"error",function(){return e.view.collection.reset([])})},updateFilterString:function(e){this.view.$el.find(".list-container").attr("data-filter-string",this.view.getFilterString()),this.fixAuiSidebar()},fixAuiSidebar:function(){f.sidebar(".aui-sidebar").setPosition()},doFilter:function(){var e=this.ui.filter.val();e=p(e);var t=this.view;if(e.length){if(e===this.lastQuery)return;this.lastQuery=e,t.collection.search({query:e}),h.publish("filter.submit")}else t.collection.safeFetch(),h.publish("filter.clear"),this.lastQuery=null}}),e.exports=t.default}),define("confluence-dashboard/behaviors/filterable.js",function(){}),define("confluence-dashboard/behaviors/progress-indicator",["module","exports","marionette","ajs"],function(e,t,n,o){"use strict";var i=n.Behavior,r=function(e){return e&&e.__esModule?e:{default:e}}(o).default;t.default=i.extend({defaults:{size:"small",dataSource:"collection"},dataEvents:{request:"onRequest",sync:"spinStop",error:"spinStop"},initialize:function(){if(!this.options.dataSource)throw"Behavior:ProgressIndicator: A dataSource should be defined. Use 'collection' or 'model'";this[this.options.dataSource+"Events"]=this.dataEvents},onAttach:function(){this.options.autoRun&&this.spin()},onRequest:function(e,t,n){"POST"!==n.type&&"DELETE"!==n.type&&this.spin()},spin:function(){var e=this;this.view._isShown?(this.$el.addClass("loading"),this._currentSpinDelay=setTimeout(function(){r.$(e.options.container,e.view.el).spin({size:e.options.size,zIndex:2e3})},200)):this.listenToOnce(this.view,"show",this.spin,this)},spinStop:function(){this._currentSpinDelay&&(clearTimeout(this._currentSpinDelay),this._currentSpinDelay=null),this.view._isShown||this.stopListening(this.view,"show",this.spin,this),this.options.autoRun=!1,this.$el.removeClass("loading"),r.$(this.options.container,this.view.el).spinStop()}}),e.exports=t.default}),define("confluence-dashboard/behaviors/progress-indicator.js",function(){}),define("confluence-dashboard/modules/group/group-composite-view",["module","exports","marionette","confluence-dashboard/soy-templates","../../utils/event-manager","../../behaviors/stickable/stickable"],function(e,t,n,o,i,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var s=n.CompositeView,l=a(o).default,c=(i.EventManager,a(r).default);t.default=s.extend({template:l.Groups.group,childViewContainer:".group-container",tagName:"li",className:"group-wrapper",behaviors:{stickSubHeaders:{behaviorClass:c,element:".sticky-header",autoRun:!0,offset:75}},initialize:function(){this.collection=this.model.get("items")},onRenderCollection:function(){this.trigger("group:rendered")}}),e.exports=t.default}),define("confluence-dashboard/modules/group/group-composite-view.js",function(){}),define("confluence-dashboard/utils/date-utils",["module","exports","underscore","ajs"],function(e,t,n,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){return new Date}function a(e){return new Date(e).toDateString()}var s=i(n).default,l=i(o).default,c={today:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f",yesterday:"\u0412\u0447\u0435\u0440\u0430",lastSevenDays:"\u0417\u0430 \u043f\u0440\u043e\u0448\u043b\u0443\u044e \u043d\u0435\u0434\u0435\u043b\u044e",lastThirtyDays:"\u0417\u0430 \u043f\u0440\u043e\u0448\u043b\u044b\u0439 \u043c\u0435\u0441\u044f\u0446",older:"\u0411\u043e\u043b\u0435\u0435 \u043c\u0435\u0441\u044f\u0446\u0430 \u043d\u0430\u0437\u0430\u0434"},u={today:function(e){return a(e)===r().toDateString()},yesterday:function(e){var t=a(e),n=r();return n.setDate(n.getDate()-1),t===n.toDateString()},lastSevenDays:function(e){var t=r(),n=r().setDate(t.getDate()-7),o=new Date(e);return o>=n&&o<=t},lastThirtyDays:function(e){var t=r(),n=r().setDate(t.getDate()-30),o=new Date(e);return o>=n&&o<=t},getPeriod:function(e){var t=s.pick(u,"today","yesterday","lastSevenDays","lastThirtyDays"),n=s.find(t,function(t,n){return t(e)});return n?s.invert(t)[n]:"older"},getPeriodTitle:function(e){return c[e]},getPeriodOrder:function(e){return s.keys(c).indexOf(e)},compareTimestamps:function(e,t){return Math.max(-1,Math.min(1,e-t))},toISODate:function(e){var t=e.getDate();t=t<=9?"0"+t:t;var n=e.getMonth()+1;n=n<=9?"0"+n:n;var o=(new Date).getTimezoneOffset(),i=Math.abs(Math.floor(o/60));i=i<=9?"0"+i:i;var r=Math.abs(o%60);r=r<=9?"0"+r:r;var a=(o<0?"+":"-")+i+":"+r;return e.getFullYear()+"-"+n+"-"+t+"T00:00:00"+a}};t.default=u,e.exports=t.default}),define("confluence-dashboard/utils/date-utils.js",function(){}),define("confluence-dashboard/modules/group/group-collection",["module","exports","../../core/shared/base-collection","backbone","underscore","../../utils/date-utils"],function(e,t,n,o,i,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var s=a(n).default,l=(o.Model,o.Collection),c=a(i).default,u=a(r).default;t.default=s.extend({idAttribute:"periodKey",comparator:"periodOrder",methodsToProxy:["url","fetch","safeFetch","loadMore","search"],initialize:function(e,t){if(!t.collectionToGroup)throw"Grouped Collection requires a collection to group";if(!t.collectionToGroup.groupMethod)throw"The target collection should implement a groupMethod";this.collectionToGroup=t.collectionToGroup,this.proxyMethods(),this.proxyEvents()},proxyMethods:function(){var e=this;this.methodsToProxy.forEach(function(t){e[t]=function(){return e.collectionToGroup[t].apply(e.collectionToGroup,arguments)}})},proxyEvents:function(){this.listenTo(this.collectionToGroup,"request",this._request),this.listenTo(this.collectionToGroup,"sync",this._sync),this.listenTo(this.collectionToGroup,"remove",this._remove),this.listenTo(this.collectionToGroup,"add",this._add),this.listenTo(this.collectionToGroup,"error",this._error)},_request:function(e,t,n){this.trigger("request",this,t,n)},_sync:function(e,t,n){this._group(),this.trigger("sync",this,t,n)},_remove:function(e,t){var n=this.filter(function(t){return-1!==t.get("items").indexOf(e)});if(n.length){var o=n[0].get("items");o.remove(e),o.length||n[0].destroy()}},_add:function(){c.debounce(this._group,50)},_error:function(){this.trigger("error")},_group:function(){var e=this,t={},n=this.collectionToGroup.groupBy(this.collectionToGroup.groupMethod);c.each(n,function(e,n){var o=u.getPeriod(n);t[o]=t[o]||[],t[o]=t[o].concat(e)}),c.each(t,function(n,o){var i=e.findWhere({periodKey:o});i?i.get("items").set(t[o],{remove:!1}):e.add({periodKey:o,periodOrder:u.getPeriodOrder(o),title:u.getPeriodTitle(o),items:new l(t[o],{comparator:e.collectionToGroup.comparator})})})}}),e.exports=t.default}),define("confluence-dashboard/modules/group/group-collection.js",function(){}),define("confluence-dashboard/modules/list-item/list-item-view",["module","exports","marionette","../../behaviors/tooltips","confluence-dashboard/soy-templates","ajs","confluence/meta"],function(e,t,n,o,i,r,a){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var l=n.ItemView,c=s(o).default,u=s(i).default,d=s(r).default,f=s(a).default;t.default=l.extend({template:u.Lists.item,className:"item",tagName:"li",templateHelpers:function(){var e=void 0,t=this.model.get("metadata").currentuser;e=t.hasOwnProperty("lastcontributed")?t.lastcontributed.status:"current";var n=f.get("enabled-dark-features");return{isCollabEditingEnabled:void 0!==n&&-1===n.indexOf("site-wide.synchrony.disable")&&-1===n.indexOf("site-wide.shared-drafts.disable"),contentType:this.model.get("type"),pageStatus:e}},behaviors:{tooltip:{behaviorClass:c,selector:".aui-lozenge.aui-lozenge-subtle"}},events:{"click a":"onClick"},ui:{lozenge:".aui-lozenge"},onClick:function(){1===this.ui.lozenge.length&&d.trigger("analytics",{name:"confluence.drafts.referrer",data:{referrerPage:"recentlyWorkedOn",lozengeType:"unpublished"===this.ui.lozenge[0].getAttribute("data-type")?"Unpublished changes":"Draft"}})}}),e.exports=t.default}),define("confluence-dashboard/modules/list-item/list-item-view.js",function(){}),define("confluence-dashboard/utils/feature-discovery",["module","exports","confluence/legacy","confluence/storage-manager"],function(e,t,n,o){"use strict";var i=n.FeatureDiscovery,r=(0,function(e){return e&&e.__esModule?e:{default:e}}(o).default)("dashboard","feature-discovery");t.default={forPlugin:function(e){var t=i.forPlugin(e);return t.canShow=function(e){return!r.getItem(e)&&!t.listDiscovered().some(function(t){return t===e})},t.markDiscoveredSafe=function(e,n){r.setItemQuietly(e,!0,86400),t.markDiscovered(e,n)},t}},e.exports=t.default}),define("confluence-dashboard/modules/list-item/list-item-discovery-view",["module","exports","./list-item-view","configuration","../../utils/feature-discovery","jquery"],function(e,t,n,o,i,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var s=a(n).default,l=o.pluginKey,c=a(i).default,u=a(r).default,d=(document.referrer.indexOf("resumedraft.action")>-1||document.referrer.indexOf("createpage.action")>-1)&&c.forPlugin(l).canShow("recently-worked-on-drafts");t.default=s.extend({initialize:function(){this.draftDiscovery=!0===d&&this.model.collection.findWhere({status:"draft"})===this.model},templateHelpers:function(){var e=s.prototype.templateHelpers.call(this);return e.draftDiscovery=this.draftDiscovery,e},onBeforeRender:function(){!1!==this.draftDiscovery&&u(document).on("click","#draft-discovery-button",function(){c.forPlugin(l).markDiscovered("recently-worked-on-drafts"),u("#draft-discovery-dialog").remove()})},onDestroy:function(){u("#draft-discovery-dialog").remove()}}),e.exports=t.default}),define("confluence-dashboard/modules/list-item/list-item-discovery-view.js",function(){}),define("confluence-dashboard/core/content/content-as-grouped-list-discovery-view",["module","exports","./content-as-grouped-list-view","../../modules/list-item/list-item-discovery-view"],function(e,t,n,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=i(n).default,a=i(o).default;t.default=r.extend({childViewOptions:{childView:a}}),e.exports=t.default}),define("confluence-dashboard/core/content/content-as-stream-view",["module","exports","../shared/base-composite-view","confluence-dashboard/soy-templates","../../behaviors/stickable/stickable","../../behaviors/infinite-loading","../../behaviors/progress-indicator","../../behaviors/analytics-tracking","../shared/no-content-view","../shared/loading-view","../shared/no-matches-view","../../modules/stream-item/stream-item-view"],function(e,t,n,o,i,r,a,s,l,c,u,d){"use strict";function f(e){return e&&e.__esModule?e:{default:e}}var h=f(n).default,p=f(o).default,m=f(i).default,v=f(r).default,g=f(a).default,b=f(s).default,w=f(l).default,y=f(c).default,x=f(u).default,_=f(d).default;t.default=h.extend({template:p.Content.streamList,childViewContainer:".list-container",emptyView:w,loadingView:y,noMatchesView:x,childView:_,behaviors:{stickMainHeader:{behaviorClass:m,element:".content-header",autoRun:!0},progressIndicator:{behaviorClass:g,dataSource:"collection",container:".spinner-container:first",size:"medium"},infiniteLoading:{behaviorClass:v,target:".list-container"},analyticsTracking:{behaviorClass:b}}}),e.exports=t.default}),define("confluence-dashboard/core/content/content-as-stream-view.js",function(){}),define("confluence-dashboard/core/content/content-controller",["module","exports","../../utils/event-manager","../shared/scope-router","../shared/base-controller"],function(e,t,n,o,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n.Commands,s=r(o).default,l=r(i).default;t.default=l.extend({beforeAction:function(){},afterAction:function(){a.execute("main-app:swapContent",this.view)},initialize:function(e){if(!e||!e.routes)throw"ContentController is missing its route";this.wrapActions(),this.router=new s({scopedRoutes:e.routes,scope:e.scope||"/",controller:this})}}),e.exports=t.default}),define("confluence-dashboard/core/content/content-controller.js",function(){}),define("confluence-dashboard/behaviors/list-item-animated",["module","exports","marionette","../utils/event-manager","jquery"],function(e,t,n,o,i){"use strict";var r=n.View,a=n.Behavior,s=o.EventManager,l=function(e){return e&&e.__esModule?e:{default:e}}(i).default;t.default=a.extend({initialize:function(){this.overrideViewDestroyMethod()},onRender:function(){this.$el.addClass("animated show")},overrideViewDestroyMethod:function(){var e=this;this.view.destroy=function(){var t=this,n=arguments;if(this.isDestroyed)return this;var o=r.prototype.destroy;e.onBeforeDestroyWithAnimation().then(function(){return o.apply(t,n)}).fail(function(){return o.apply(t,n)})},this.view.destroy.bind(this.view)},onBeforeDestroyWithAnimation:function(){var e=this,t=l.Deferred();return this.view.$el.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){t.resolve(),s.trigger("list:change",e.view)}),this.view.$el.removeClass("show").addClass("removing"),setTimeout(function(){t.isResolved||t.reject("time-out")},1e4),t.promise()}}),e.exports=t.default}),define("confluence-dashboard/behaviors/list-item-animated.js",function(){}),define("confluence-dashboard/modules/stream-item/stream-item-view",["module","exports","marionette","confluence-dashboard/soy-templates","confluence/hover-user"],function(e,t,n,o,i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n.ItemView,s=r(o).default,l=r(i).default;t.default=a.extend({template:s.Stream.item,tagName:"li",className:"grouping",onDomRefresh:function(){l()}}),e.exports=t.default}),define("confluence-dashboard/modules/stream-item/stream-item-view.js",function(){}),define("confluence-dashboard/utils/ensure-component",["module","exports","jquery"],function(e,t,n){"use strict";var o=function(e){return e&&e.__esModule?e:{default:e}}(n).default,i=function e(t){t.condition()?t.callback():setTimeout(function(){e(t)},t.interval)},r=function(e){return o(e).hasClass("__skate")||e.hasAttribute("resolved")};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=o.Deferred();return r(e)?n.resolve():i({interval:t,condition:function(){return r(e)},callback:function(){n.resolve()}}),n.promise()},e.exports=t.default}),define("confluence-dashboard/utils/module-starter",["module","exports","./event-manager"],function(e,t,n){"use strict";var o=n.ReqRes;t.default={register:function(e){var t=o.request("app");if(!e||"function"!=typeof e)throw"ModuleStarter.register needs a function as callback";if(!t)throw"ModuleStarter is being called before the app is available, please review your dependencies";t.isStarted?e():t.on("start",e)}},e.exports=t.default}),define("confluence-dashboard",function(){}),require(["confluence-dashboard/index"]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:navigation-webitems-resources', location = '/templates/modules/all-updates/all-updates-template.soy' */
// This file was automatically generated from all-updates-template.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace DashboardTemplates.AllUpdates.
 */

if (typeof DashboardTemplates == 'undefined') { var DashboardTemplates = {}; }
if (typeof DashboardTemplates.AllUpdates == 'undefined') { DashboardTemplates.AllUpdates = {}; }


DashboardTemplates.AllUpdates.blank = function(opt_data, opt_ignored) {
  return '' + DashboardTemplates.Default.blank({cssClass: 'all-updates', title: '\u041f\u043e\u043a\u0430 \u0447\u0442\u043e \u0437\u0434\u0435\u0441\u044c \u0442\u0438\u0445\u043e...', content: '<p>' + soy.$$filterNoAutoescape('\u041e\u0441\u0442\u0430\u0432\u0430\u0439\u0442\u0435\u0441\u044c \u0432 \u043a\u0443\u0440\u0441\u0435 \u0432\u0441\u0435\u0433\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u044f\u0449\u0435\u0433\u043e \u0437\u0434\u0435\u0441\u044c. \u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u044f\u0432\u043b\u044f\u0442\u044c\u0441\u044f \u043d\u043e\u0432\u044b\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b, \u0444\u0430\u0439\u043b\u044b, \u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438.') + '</p><p>' + soy.$$filterNoAutoescape('\u041f\u043e\u0440\u0430 \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0435\u0449\u0435 \u0447\u0442\u043e-\u043d\u0438\u0431\u0443\u0434\u044c \u0433\u0440\u0430\u043d\u0434\u0438\u043e\u0437\u043d\u043e\u0435.') + '</p>'});
};
if (goog.DEBUG) {
  DashboardTemplates.AllUpdates.blank.soyTemplateName = 'DashboardTemplates.AllUpdates.blank';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:navigation-webitems-resources', location = '/templates/modules/popular-stream/popular-stream-template.soy' */
// This file was automatically generated from popular-stream-template.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace DashboardTemplates.PopularStream.
 */

if (typeof DashboardTemplates == 'undefined') { var DashboardTemplates = {}; }
if (typeof DashboardTemplates.PopularStream == 'undefined') { DashboardTemplates.PopularStream = {}; }


DashboardTemplates.PopularStream.compactStreamItem = function(opt_data, opt_ignored) {
  var output = '<a href="' + soy.$$escapeHtml(opt_data.url) + '" title="' + soy.$$escapeHtml(opt_data.title) + '"><div class="avatar-container"><span class="aui-avatar aui-avatar-large"><span class="aui-avatar-inner"><img src="' + soy.$$escapeHtml(opt_data.author.avatarUrl) + '" alt="' + soy.$$escapeHtml(opt_data.author.fullName) + '" /></span></span><div class="stream-icon-container"><span class="' + soy.$$escapeHtml(opt_data.iconCssClass) + '"></span></div></div><div class="stream-item-body-container"><div class="compact-stream-item-layout"><div class="stream-heading-container"><span class="stream-item-heading">' + soy.$$escapeHtml(opt_data.title) + '</span></div>';
  var countItemList16 = opt_data.counts;
  var countItemListLen16 = countItemList16.length;
  for (var countItemIndex16 = 0; countItemIndex16 < countItemListLen16; countItemIndex16++) {
    var countItemData16 = countItemList16[countItemIndex16];
    output += '<div class="count-container valign-middle-container"><span class="count-icon ' + soy.$$escapeHtml(countItemData16.cssClass) + '"></span><span class="count">' + soy.$$escapeHtml(countItemData16.count) + '</span></div>';
  }
  output += '</div><div class="flush-with-heading-container"><div class="stream-item-meta"><ol class="middot-list user-info"><li>' + ((opt_data.author.anonymous) ? '<span class="anonymous-user">' + soy.$$escapeHtml(opt_data.author.fullName) + '</span>' : (opt_data.author.unknownUser) ? '<span class="unknown-user">' + soy.$$escapeHtml(opt_data.author.fullName) + '</span>' : '<span data-username="' + soy.$$escapeHtml(opt_data.author.userName) + '">' + soy.$$escapeHtml(opt_data.author.fullName) + '</span>') + '</li></ol><time datetime="" class="stream-item-date">' + soy.$$escapeHtml(opt_data.friendlyDate) + '</span></div>' + ((opt_data.imageUris && opt_data.imageUris.length > 0) ? '<div class="thumbnails thumbnail-layout"><div><img src="' + soy.$$escapeHtml(opt_data.imageUris[0]) + '"></div></div>' : '') + ((opt_data.excerpt) ? '<div class="excerpt">' + soy.$$filterNoAutoescape(opt_data.excerpt) + '</div>' : '') + '</div></div></a>';
  return output;
};
if (goog.DEBUG) {
  DashboardTemplates.PopularStream.compactStreamItem.soyTemplateName = 'DashboardTemplates.PopularStream.compactStreamItem';
}


DashboardTemplates.PopularStream.blank = function(opt_data, opt_ignored) {
  return '' + DashboardTemplates.Default.blank({cssClass: 'popular-stream', image: opt_data.image, title: '\u041f\u043e\u043a\u0430 \u0447\u0442\u043e \u0437\u0434\u0435\u0441\u044c \u0442\u0438\u0445\u043e...', content: '<p>' + soy.$$filterNoAutoescape('\u0422\u0443\u0442 \u043f\u043e\u043a\u0430 \u0442\u0438\u0448\u044c \u0434\u0430 \u0433\u043b\u0430\u0434\u044c, \u043d\u043e \u043a\u0430\u043a \u0442\u043e\u043b\u044c\u043a\u043e \u0432\u0430\u0448\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u043f\u0440\u0438\u0441\u0442\u0443\u043f\u0438\u0442 \u043a \u043d\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e \u0441\u0430\u0439\u0442\u0430, \u0437\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u044b \u0441\u0430\u043c\u044b\u0435 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0438 \u0444\u0430\u0439\u043b\u044b.') + '</p><p>' + soy.$$filterNoAutoescape('\u041d\u0443 \u0447\u0442\u043e, \u043f\u043e\u0435\u0445\u0430\u043b\u0438?') + '</p>' + ((opt_data.userCanCreateContent) ? '<a class="aui-style aui-button aui-button-primary create-page">' + soy.$$escapeHtml('\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0443') + '</a>' : '')});
};
if (goog.DEBUG) {
  DashboardTemplates.PopularStream.blank.soyTemplateName = 'DashboardTemplates.PopularStream.blank';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:navigation-webitems-resources', location = '/templates/modules/recently-viewed/recently-viewed-template.soy' */
// This file was automatically generated from recently-viewed-template.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace DashboardTemplates.RecentViewed.
 */

if (typeof DashboardTemplates == 'undefined') { var DashboardTemplates = {}; }
if (typeof DashboardTemplates.RecentViewed == 'undefined') { DashboardTemplates.RecentViewed = {}; }


DashboardTemplates.RecentViewed.blank = function(opt_data, opt_ignored) {
  return '' + DashboardTemplates.Default.blank({cssClass: 'recently-viewed', title: '\u041f\u043e\u0440\u0430 \u0442\u0432\u043e\u0440\u0438\u0442\u044c \u0438\u0441\u0442\u043e\u0440\u0438\u044e', content: '<p>' + soy.$$filterNoAutoescape('\u0412\u044b \u0435\u0449\u0435 \u043d\u0435 \u043f\u043e\u0441\u0435\u0442\u0438\u043b\u0438 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b; \u043a\u0430\u043a \u0442\u043e\u043b\u044c\u043a\u043e \u044d\u0442\u043e \u043f\u0440\u043e\u0438\u0437\u043e\u0439\u0434\u0435\u0442, \u043e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u044b \u0441\u044e\u0434\u0430, \u0447\u0442\u043e\u0431\u044b \u043c\u043e\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0431\u044b\u0441\u0442\u0440\u043e \u0432\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043d\u0438\u043c \u043f\u043e\u0437\u0434\u043d\u0435\u0435.') + '</p><p>' + soy.$$filterNoAutoescape('\u041f\u0435\u0440\u0435\u0439\u0434\u0438\u0442\u0435 \u0432 \x3cb\x3e\u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u043e\x3c/b\x3e \u043f\u0440\u044f\u043c\u043e \u0441\u0435\u0439\u0447\u0430\u0441 \u0438 \u043e\u0441\u043c\u043e\u0442\u0440\u0438\u0442\u0435\u0441\u044c.') + '</p>'});
};
if (goog.DEBUG) {
  DashboardTemplates.RecentViewed.blank.soyTemplateName = 'DashboardTemplates.RecentViewed.blank';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:navigation-webitems-resources', location = '/templates/modules/recently-worked/recently-worked-template.soy' */
// This file was automatically generated from recently-worked-template.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace DashboardTemplates.RecentWorked.
 */

if (typeof DashboardTemplates == 'undefined') { var DashboardTemplates = {}; }
if (typeof DashboardTemplates.RecentWorked == 'undefined') { DashboardTemplates.RecentWorked = {}; }


DashboardTemplates.RecentWorked.blank = function(opt_data, opt_ignored) {
  return '' + DashboardTemplates.Default.blank({cssClass: 'recently-worked', title: '\u0414\u043e\u0432\u0435\u0434\u0438\u0442\u0435 \u0448\u0435\u0434\u0435\u0432\u0440 \u0434\u043e \u0443\u043c\u0430', content: '<p>' + soy.$$filterNoAutoescape('\u0412\u044b \u0435\u0449\u0435 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u043b\u0438 \u0438 \u043d\u0435 \u043e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043b\u0438; \u043a\u0430\u043a \u0442\u043e\u043b\u044c\u043a\u043e \u044d\u0442\u043e \u043f\u0440\u043e\u0438\u0437\u043e\u0439\u0434\u0435\u0442, \u043e\u0431\u044a\u0435\u043a\u0442 \u0431\u0443\u0434\u0435\u0442 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d \u0441\u044e\u0434\u0430, \u0447\u0442\u043e\u0431\u044b \u043c\u043e\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0431\u044b\u0441\u0442\u0440\u043e \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u044c \u0441 \u0442\u043e\u0433\u043e \u043c\u0435\u0441\u0442\u0430, \u0433\u0434\u0435 \u0431\u044b\u043b\u0430 \u043f\u0440\u0435\u0440\u0432\u0430\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430.') + '</p><p>' + soy.$$filterNoAutoescape('\u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0441\u0432\u043e\u0435 \u043b\u0443\u0447\u0448\u0435\u0435 \u0442\u0432\u043e\u0440\u0435\u043d\u0438\u0435.') + '</p>' + ((opt_data.userCanCreateContent) ? '<a class="aui-style aui-button aui-button-primary create-page">' + soy.$$escapeHtml('\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0443') + '</a>' : '')});
};
if (goog.DEBUG) {
  DashboardTemplates.RecentWorked.blank.soyTemplateName = 'DashboardTemplates.RecentWorked.blank';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:navigation-webitems-resources', location = '/templates/modules/starred/starred-template.soy' */
// This file was automatically generated from starred-template.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace DashboardTemplates.Starred.
 */

if (typeof DashboardTemplates == 'undefined') { var DashboardTemplates = {}; }
if (typeof DashboardTemplates.Starred == 'undefined') { DashboardTemplates.Starred = {}; }


DashboardTemplates.Starred.blank = function(opt_data, opt_ignored) {
  return '' + DashboardTemplates.Default.blank({cssClass: 'starred', title: '\u0417\u0434\u0435\u0441\u044c \u043d\u0435 \u043d\u0430 \u0447\u0442\u043e \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c... \u041f\u043e\u043a\u0430', content: '<p>' + soy.$$filterNoAutoescape('\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \x3cb\x3e\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430 \u0431\u0443\u0434\u0443\u0449\u0435\u0435\x3c/b\x3e \u043d\u0430 \u043b\u044e\u0431\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435, \u0438 \u043e\u043d\u0430 \u0431\u0443\u0434\u0435\u0442 \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0430 \u0441\u044e\u0434\u0430, \u0447\u0442\u043e\u0431\u044b \u043a \u043d\u0435\u0439 \u043c\u043e\u0436\u043d\u043e \u0431\u044b\u043b\u043e \u0431\u044b\u0441\u0442\u0440\u043e \u0432\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043f\u043e\u0437\u0434\u043d\u0435\u0435.') + '</p><p>' + soy.$$filterNoAutoescape('\u0422\u0430\u043a \u043f\u0440\u043e\u0441\u0442\u043e!') + '</p>'});
};
if (goog.DEBUG) {
  DashboardTemplates.Starred.blank.soyTemplateName = 'DashboardTemplates.Starred.blank';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:navigation-webitems-resources', location = '/js/confluence-dashboard/modules/all-updates/all-updates-controller.js' */
define("confluence-dashboard/modules/all-updates/all-updates-collection",["module","exports","backbone","../../core/shared/base-collection","configuration"],function(e,t,l,a,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var s=n(l).default,c=n(a).default,u=o.endpoints;t.default=c.extend({url:u.ALL_UPDATES,sync:function(e,t,l){if("read"===e)return l.data={maxResults:40,tab:"all",showProfilePic:!0,labels:"",spaces:"",users:"",types:"",category:"",spaceKey:""},s.sync.call(this,e,t,l);console.log("Method not implemented for all updates",e)},parse:function(e){return e.changeSets}}),e.exports=t.default}),define("confluence-dashboard/modules/all-updates/all-updates-controller",["module","exports","./all-updates-collection","confluence-dashboard/core/content/content-controller","confluence-dashboard/core/content/content-as-stream-view","confluence-dashboard/soy-templates","configuration","ajs"],function(e,t,l,a,o,n,s,c){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}var d=u(l).default,r=u(a).default,i=u(o).default,f=u(n).default,p=(s.staticResourceUrl,u(c).default);t.default=r.extend({actionsToFilter:["allUpdates"],allUpdates:function(){this.view=new i({collection:new d,templateHelpers:{title:"\u0412\u0441\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f",contentType:this.options.name},emptyViewOptions:{template:f.AllUpdates.blank}}),this.view.collection.fetch()}}),e.exports=t.default});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:navigation-webitems-resources', location = '/js/confluence-dashboard/modules/popular-stream/popular-stream-controller.js' */
define("confluence-dashboard/modules/popular-stream/popular-stream-collection",["module","exports","../../core/shared/cql-base-collection","backbone","configuration"],function(e,t,o,a,n){"use strict";var l=function(e){return e&&e.__esModule?e:{default:e}}(o).default,r=(a.Collection,n.endpoints);t.default=l.extend({url:r.POPULAR_STREAM,parse:function(e,t){return this.parseNext(e,t),e.streamItems},parseNext:function(e,t){e.nextPageOffset?(this.hasNext=!0,this.nextUrl=r.POPULAR_STREAM+"&nextPageOffset="+e.nextPageOffset):(this.hasNext=!1,this.nextUrl=null)}}),e.exports=t.default}),define("confluence-dashboard/modules/popular-stream/popular-stream-view",["module","exports","marionette","confluence-dashboard/soy-templates","confluence/hover-user"],function(e,t,o,a,n){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var r=o.ItemView,s=l(a).default,u=l(n).default;t.default=r.extend({template:s.PopularStream.compactStreamItem,tagName:"li",className:function(){return"stream-item stream-item-layout "+this.model.get("contentCssClass")},onDomRefresh:function(){u()}}),e.exports=t.default}),define("confluence-dashboard/modules/popular-stream/popular-stream-controller",["module","exports","./popular-stream-collection","./popular-stream-view","confluence-dashboard/core/content/content-as-stream-view","confluence-dashboard/core/content/content-controller","confluence-dashboard/soy-templates","ajs"],function(e,t,o,a,n,l,r,s){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}var c=u(o).default,i=u(a).default,d=u(n).default,f=u(l).default,p=u(r).default,m=u(s).default;t.default=f.extend({actionsToFilter:["popularStream"],popularStream:function(){this.view=new d({collection:new c,templateHelpers:{title:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0435",contentType:this.options.name},childView:i,emptyViewOptions:{template:p.PopularStream.blank}}),this.view.collection.fetch()}}),e.exports=t.default});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:navigation-webitems-resources', location = '/js/confluence-dashboard/modules/recently-viewed/recently-viewed-controller.js' */
define("confluence-dashboard/modules/recently-viewed/recently-viewed-collection",["module","exports","backbone","configuration","confluence-dashboard/utils/date-utils","../../core/shared/base-collection-with-function","underscore","ajs"],function(e,t,n,o,a,c,r,l){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var d=n.Model,s=o.endpoints,u=i(a).default,f=i(c).default,p=i(r).default,m=i(l).default.contextPath(),w=d.extend({parse:function(e,t){var n=e.metadata.currentuser.viewed.lastSeen,o=new Date(n),a=o.getTime();return p.extend(e,{url:m+e._links.webui,date:n,timestamp:a,lastSeenISO:u.toISODate(o),icon:"page"===e.type?"page":"blogpost"}),e}});t.default=f.extend({model:w,comparator:function(e,t){return-u.compareTimestamps(e.get("timestamp"),t.get("timestamp"))},apiParams:function(e){return{url:s.RECENTLY_VIEWED,expansions:["container","metadata.currentuser.viewed","metadata.currentuser.lastcontributed"],cql:"id in recentlyViewedContent("+this.getPageLimit(e)+", "+this.getPageOffset(e)+")",cqlcontext:'{"contentStatuses":["current","draft"]}'}},groupMethod:function(e){return e.get("lastSeenISO")}}),e.exports=t.default}),define("confluence-dashboard/modules/recently-viewed/recently-viewed-controller",["module","exports","./recently-viewed-collection","confluence-dashboard/core/content/content-as-grouped-list-view","confluence-dashboard/core/content/content-controller","confluence-dashboard/soy-templates","configuration","ajs"],function(e,t,n,o,a,c,r,l){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var d=i(n).default,s=i(o).default,u=i(a).default,f=i(c).default,p=(r.staticResourceUrl,i(l).default);t.default=u.extend({actionsToFilter:["recentViewed"],recentViewed:function(){this.view=new s({collection:new d,templateHelpers:{title:"\u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043f\u043e\u0441\u0435\u0442\u0438\u043b",contentType:this.options.name},emptyViewOptions:{template:f.RecentViewed.blank},className:"default-list-view starred-list"}),this.view.collection.fetch()}}),e.exports=t.default});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:navigation-webitems-resources', location = '/js/confluence-dashboard/modules/recently-worked/recently-worked-controller.js' */
define("confluence-dashboard/modules/recently-worked/recently-worked-collection",["module","exports","backbone","configuration","confluence-dashboard/utils/date-utils","../../core/shared/base-collection-with-function","underscore","ajs"],function(e,t,n,a,r,o,d,l){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var i=n.Model,c=(a.apiLimit,a.endpoints),u=s(r).default,f=s(o).default,m=s(d).default,p=s(l).default.contextPath(),g=i.extend({parse:function(e,t){var n=e.metadata.currentuser.lastcontributed&&e.metadata.currentuser.lastcontributed.when||null,a=e.metadata.currentuser.lastmodified&&e.metadata.currentuser.lastmodified.version&&e.metadata.currentuser.lastmodified.version.when||null,r=new Date(n||0),o=new Date(a||0),d=r>o?r:o,l=r>o?n:a,s=d.getTime();return m.extend(e,{url:"draft"===e.status?p+e._links.edit:p+e._links.webui,date:l,timestamp:s,lastContributedISO:u.toISODate(d),friendlyDate:"Updated "+l,updated:l,icon:"page"===e.type?"page":"blogpost"}),e}});t.default=f.extend({model:g,comparator:function(e,t){return-u.compareTimestamps(e.get("timestamp"),t.get("timestamp"))},apiParams:function(e){var t={url:c.RECENTLY_WORKED,expansions:["container","metadata.currentuser.lastcontributed","metadata.currentuser.lastmodified"],cql:"type in (page,blogpost) and id in recentlyModifiedPagesAndBlogPostsByUser(currentUser(), "+this.getPageOffset(e)+", "+this.getPageLimit(e)+")"};return t.cqlcontext='{"contentStatuses":["current","draft"]}',t},groupMethod:function(e){return e.get("lastContributedISO")}}),e.exports=t.default}),define("confluence-dashboard/modules/recently-worked/recently-worked-controller",["module","exports","./recently-worked-collection","../../core/content/content-as-grouped-list-discovery-view","confluence-dashboard/core/content/content-controller","confluence-dashboard/soy-templates","ajs"],function(e,t,n,a,r,o,d){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}var s=l(n).default,i=l(a).default,c=l(r).default,u=l(o).default,f=l(d).default;t.default=c.extend({actionsToFilter:["recentWorked"],recentWorked:function(){this.view=new i({collection:new s,templateHelpers:{title:"\u041d\u0435\u0434\u0430\u0432\u043d\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u043b \u0441",contentType:this.options.name},emptyViewOptions:{template:u.RecentWorked.blank},className:"default-list-view starred-list"}),this.view.collection.fetch()}}),e.exports=t.default});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:navigation-webitems-resources', location = '/js/confluence-dashboard/modules/starred/starred-controller.js' */
define("confluence-dashboard/modules/starred/starred-collection",["module","exports","backbone","configuration","confluence-dashboard/utils/date-utils","../../core/shared/cql-base-collection","ajs","confluence/meta","jquery","underscore"],function(e,t,a,r,o,l,n,s,d,u){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var c=a.Model,f=r.endpoints,p=r.apiLimit,m=i(o).default,v=i(l).default,h=i(n).default,b=i(s).default,y=i(d).default,x=i(u).default,w=h.contextPath(),_=c.extend({url:f.ADD_FAVOURITE,url_destroy:f.REMOVE_FAVOURITE,defaults:{virtuallyDeleted:!1},parse:function(e){e.entityId=e.id,e.url=w+e._links.webui,e.icon="page"===e.type?"page":"blogpost";var t=e.metadata.currentuser.favourited.favouritedDate;return e.favouritedDateISO=m.toISODate(new Date(t)),e},destroy:function(){return c.prototype.destroy.call(this,{dataType:"json",data:y.param({entityId:this.get("entityId"),atl_token:b.get("atl-token")}),url:this.url_destroy,type:"POST"})}});t.default=v.extend({apiParams:{url:f.STARRED,params:{limit:p},expansions:["metadata.currentuser.favourited","metadata.currentuser.lastcontributed"],cql:"favourite=currentUser()",cqlOrder:"favourite desc",cqlcontext:'{"contentStatuses":["current","draft"]}'},model:_,groupMethod:function(e){return e.get("favouritedDateISO")},parse:function(e,t){return e.results=x.reject(e.results,function(e){return!e.metadata.currentuser.favourited}),v.prototype.parse.apply(this,arguments)}}),e.exports=t.default}),define("confluence-dashboard/modules/starred/starred-item-view",["module","exports","underscore","../list-item/list-item-view","../../behaviors/undo-remove","../../behaviors/list-item-animated","../../behaviors/tooltips"],function(e,t,a,r,o,l,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var d=s(a).default,u=s(r).default,i=s(o).default,c=s(l).default,f=s(n).default;t.default=u.extend({templateHelpers:d.extend({removable:!0},u.prototype.templateHelpers),ui:{tooltips:".top-tooltip"},behaviors:{undoRemove:{behaviorClass:i,eventNamespace:"favourites"},tooltip:{behaviorClass:f,selector:".top-tooltip"},animated:{behaviorClass:c}}}),e.exports=t.default}),define("confluence-dashboard/modules/starred/starred-controller",["module","exports","confluence-dashboard/core/content/content-as-grouped-list-view","confluence-dashboard/core/content/content-controller","./starred-collection","./starred-item-view","confluence-dashboard/soy-templates","configuration","ajs"],function(e,t,a,r,o,l,n,s,d){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}var i=u(a).default,c=u(r).default,f=u(o).default,p=u(l).default,m=u(n).default,v=(s.staticResourceUrl,u(d).default);t.default=c.extend({actionsToFilter:["starred"],starred:function(){this.view=new i({collection:new f,templateHelpers:{title:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e \u043d\u0430 \u0431\u0443\u0434\u0443\u0449\u0435\u0435",contentType:this.options.name},childViewOptions:{childView:p},emptyViewOptions:{template:m.Starred.blank},className:"default-list-view starred-list"}),this.view.collection.fetch()}}),e.exports=t.default});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:navigation-webitems-resources', location = '/templates/modules/recommended-stream/recommended-stream-template.soy' */
// This file was automatically generated from recommended-stream-template.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace DashboardTemplates.RecommendedStream.
 */

if (typeof DashboardTemplates == 'undefined') { var DashboardTemplates = {}; }
if (typeof DashboardTemplates.RecommendedStream == 'undefined') { DashboardTemplates.RecommendedStream = {}; }


DashboardTemplates.RecommendedStream.compactStreamItem = function(opt_data, opt_ignored) {
  var output = '<div class="avatar-container">' + ((! opt_data.author.anonymous) ? '<a class="confluence-userlink" data-username="' + soy.$$escapeHtml(opt_data.author.userName) + '" href="' + soy.$$escapeHtml(opt_data.author.url) + '">' : '') + '<img class="avatar userLogo logo" src="' + soy.$$escapeHtml(opt_data.author.avatarUrl) + '"><div class="stream-icon-container"><span class="aui-icon aui-icon-small content-type-page"></span></div>' + ((! opt_data.author.anonymous) ? '</a>' : '') + '</div><div class="stream-item-body-container"><div class="compact-stream-item-layout"><div class="stream-heading-container"><span class="stream-item-heading"><a class="stream-item-heading-link visitable" href="' + soy.$$escapeHtml(opt_data.url) + '">' + soy.$$escapeHtml(opt_data.title) + '</a></span></div><div class="count-container valign-middle-container"><a href="" class="delete-button"><span class="aui-icon aui-icon-small aui-iconfont-delete">ignore</span></a></div>';
  var countItemList22 = opt_data.counts;
  var countItemListLen22 = countItemList22.length;
  for (var countItemIndex22 = 0; countItemIndex22 < countItemListLen22; countItemIndex22++) {
    var countItemData22 = countItemList22[countItemIndex22];
    output += '<div class="count-container valign-middle-container"><span class="' + soy.$$escapeHtml(countItemData22.cssClass) + '"></span><span class="count">' + soy.$$escapeHtml(countItemData22.count) + '</span></div>';
  }
  output += '</div><div class="flush-with-heading-container"><div class="stream-item-meta">';
  var viewerList30 = opt_data.viewers;
  var viewerListLen30 = viewerList30.length;
  for (var viewerIndex30 = 0; viewerIndex30 < viewerListLen30; viewerIndex30++) {
    var viewerData30 = viewerList30[viewerIndex30];
    output += '<span class="viewer-image"><a class="confluence-userlink" data-username="' + soy.$$escapeHtml(viewerData30.userName) + '" href="' + soy.$$escapeHtml(viewerData30.url) + '"><img class="avatar userLogo logo smaller" src="' + soy.$$escapeHtml(viewerData30.avatarUrl) + '" alt="' + soy.$$escapeHtml(viewerData30.fullName) + '"/></a></span>';
  }
  output += '<ol class="middot-list"><li>' + ((opt_data.author.anonymous) ? '<span class="anonymous-user">' + soy.$$escapeHtml(opt_data.author.fullName) + '</span>' : (opt_data.author.unknownUser) ? '<span class="unknown-user">' + soy.$$escapeHtml(opt_data.author.fullName) + '</span>' : '<a class="confluence-userlink" data-username="' + soy.$$escapeHtml(opt_data.author.userName) + '" href="' + soy.$$escapeHtml(opt_data.author.url) + '">' + soy.$$escapeHtml(opt_data.author.fullName) + '</a>') + '</li></ol><time datetime="" class="stream-item-date">' + soy.$$escapeHtml(opt_data.friendlyDate) + '</time></div></div></div>';
  return output;
};
if (goog.DEBUG) {
  DashboardTemplates.RecommendedStream.compactStreamItem.soyTemplateName = 'DashboardTemplates.RecommendedStream.compactStreamItem';
}


DashboardTemplates.RecommendedStream.blank = function(opt_data, opt_ignored) {
  return '' + DashboardTemplates.Default.blank({cssClass: 'popular-stream', image: opt_data.image, title: '\u041f\u043e\u043a\u0430 \u0447\u0442\u043e \u0437\u0434\u0435\u0441\u044c \u0442\u0438\u0445\u043e...', content: '<p>' + soy.$$filterNoAutoescape('\u0422\u0443\u0442 \u043f\u043e\u043a\u0430 \u0442\u0438\u0448\u044c \u0434\u0430 \u0433\u043b\u0430\u0434\u044c, \u043d\u043e \u043a\u0430\u043a \u0442\u043e\u043b\u044c\u043a\u043e \u0432\u0430\u0448\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u043f\u0440\u0438\u0441\u0442\u0443\u043f\u0438\u0442 \u043a \u043d\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e \u0441\u0430\u0439\u0442\u0430, \u0437\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u044b \u0441\u0430\u043c\u044b\u0435 \u043f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0438 \u0444\u0430\u0439\u043b\u044b.') + '</p><p>' + soy.$$filterNoAutoescape('\u041d\u0443 \u0447\u0442\u043e, \u043f\u043e\u0435\u0445\u0430\u043b\u0438?') + '</p>' + ((opt_data.userCanCreateContent) ? '<a class="aui-style aui-button aui-button-primary create-page">' + soy.$$escapeHtml('\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0443') + '</a>' : '')});
};
if (goog.DEBUG) {
  DashboardTemplates.RecommendedStream.blank.soyTemplateName = 'DashboardTemplates.RecommendedStream.blank';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:navigation-webitems-resources', location = '/js/confluence-dashboard/modules/recommended-stream/recommended-stream-controller.js' */
define("confluence-dashboard/modules/recommended-stream/recommended-stream-collection",["module","exports","underscore","../../core/shared/cql-base-collection","backbone","configuration"],function(e,t,o,n,d,l){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var m=a(o).default,s=a(n).default,r=(d.Collection,d.Model),c=l.endpoints,i=r.extend({destroy:function(){return r.prototype.destroy.call(this,{dataType:"json",url:c.RECOMMENDED_STREAM+"/"+this.get("id"),type:"DELETE"})}});t.default=s.extend({url:c.RECOMMENDED_STREAM,model:i,parse:function(e,t){return this.parseNext(e,t),m.map(e.streamItems,function(t){return t.model=e.model,t})},parseNext:function(e,t){e.nextPageOffset?(this.hasNext=!0,this.nextUrl=c.RECOMMENDED_STREAM+"?nextPageOffset="+e.nextPageOffset):(this.hasNext=!1,this.nextUrl=null)}}),e.exports=t.default}),define("confluence-dashboard/modules/recommended-stream/recommended-stream-view",["module","exports","marionette","confluence-dashboard/soy-templates","confluence/hover-user","../../utils/analytics","configuration"],function(e,t,o,n,d,l,a){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var s=o.ItemView,r=m(n).default,c=m(d).default,i=m(l).default;a.endpoints;t.default=s.extend({template:r.RecommendedStream.compactStreamItem,tagName:"li",events:{"click a.stream-item-heading-link":"onItemClick","mousedown a.stream-item-heading-link":"onItemClick","click a.delete-button":"onItemDelete"},className:function(){return"stream-item stream-item-layout "+this.model.get("contentCssClass")},onDomRefresh:function(){c()},onItemClick:function(e){i.publish("recommended.item.clicked",{model:this.model.get("model")||"",id:this.model.get("id")})},onItemDelete:function(e){this.model.destroy(),i.publish("recommended.item.deleted",{model:this.model.get("model")||"",id:this.model.get("id")}),e.preventDefault()}}),e.exports=t.default}),define("confluence-dashboard/modules/recommended-stream/recommended-stream-controller",["module","exports","./recommended-stream-collection","./recommended-stream-view","confluence-dashboard/core/content/content-as-stream-view","confluence-dashboard/core/content/content-controller","confluence-dashboard/soy-templates"],function(e,t,o,n,d,l,a){"use strict";function m(e){return e&&e.__esModule?e:{default:e}}var s=m(o).default,r=m(n).default,c=m(d).default,i=m(l).default,u=m(a).default;t.default=i.extend({actionsToFilter:["recommendedStream"],recommendedStream:function(){this.view=new c({collection:new s,templateHelpers:{title:"Recommended for you",contentType:this.options.name},childView:r,emptyViewOptions:{template:u.RecommendedStream.blank}}),this.view.collection.fetch()}}),e.exports=t.default});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:onboarding-dialog', location = '/templates/modules/onboarding/onboarding-template.soy' */
// This file was automatically generated from onboarding-template.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace DashboardTemplates.Onboarding.
 */

if (typeof DashboardTemplates == 'undefined') { var DashboardTemplates = {}; }
if (typeof DashboardTemplates.Onboarding == 'undefined') { DashboardTemplates.Onboarding = {}; }


DashboardTemplates.Onboarding.newUser = function(opt_data, opt_ignored) {
  return '' + DashboardTemplates.Onboarding.chromelessDialog(soy.$$augmentMap(opt_data, {id: 'onboarding', content: '<h3>' + soy.$$escapeHtml('\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u043f\u0430\u043d\u0435\u043b\u044c \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432!') + '</h3><p>' + soy.$$filterNoAutoescape('\u041f\u0430\u043d\u0435\u043b\u044c \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u2014 \u044d\u0442\u043e \u0441\u0442\u0430\u0440\u0442\u043e\u0432\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043f\u043e\u043c\u043e\u0433\u0430\u044e\u0449\u0430\u044f \u043e\u0441\u0432\u043e\u0438\u0442\u044c\u0441\u044f \u0432 Confluence.\x3cbr/\x3e\u0414\u043b\u044f \u043e\u0431\u043b\u0435\u0433\u0447\u0435\u043d\u0438\u044f \u0437\u043d\u0430\u043a\u043e\u043c\u0441\u0442\u0432\u0430 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u044b \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438') + '</p>', actions: '<button class="aui-button show-onboarding">' + soy.$$escapeHtml('\u0412\u043f\u0435\u0440\u0435\u0434') + '</button><button class="aui-button aui-button-link skip-onboarding">' + soy.$$escapeHtml('\u041d\u0435 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438') + '</button>'}));
};
if (goog.DEBUG) {
  DashboardTemplates.Onboarding.newUser.soyTemplateName = 'DashboardTemplates.Onboarding.newUser';
}


DashboardTemplates.Onboarding.existingUser = function(opt_data, opt_ignored) {
  return '' + DashboardTemplates.Onboarding.chromelessDialog(soy.$$augmentMap(opt_data, {id: 'onboarding', content: '<h3>' + soy.$$escapeHtml('\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u043d\u043e\u0432\u0443\u044e \u043f\u0430\u043d\u0435\u043b\u044c \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432!') + '</h3><p>' + soy.$$filterNoAutoescape('\u041c\u044b \u043f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u043b\u0438 \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u044b \u0440\u0430\u0434\u0438 \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0430\u043d\u0435\u043b\u0438 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442\u043e\u0432, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0432\u043a\u043b\u044e\u0447\u0438\u043b\u0438 \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043f\u043e\u043c\u043e\u0433\u0443\u0442 \u0432\u0430\u043c \u043e\u0441\u0432\u043e\u0438\u0442\u044c\u0441\u044f.') + '</p>', actions: '<button class="aui-button show-onboarding">' + soy.$$escapeHtml('\u0412\u043f\u0435\u0440\u0435\u0434') + '</button><button class="aui-button aui-button-link skip-onboarding">' + soy.$$escapeHtml('\u041d\u0435 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438') + '</button>'}));
};
if (goog.DEBUG) {
  DashboardTemplates.Onboarding.existingUser.soyTemplateName = 'DashboardTemplates.Onboarding.existingUser';
}


DashboardTemplates.Onboarding.chromelessDialog = function(opt_data, opt_ignored) {
  return '<header class="aui-dialog2-header"><a class="aui-dialog2-header-close"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">' + soy.$$escapeHtml('\u0417\u0430\u043a\u0440\u044b\u0442\u044c') + '</span></a></header><!-- Main dialog content --><div class="aui-dialog2-content"><div class="dialog-image-container"><div class="onboarding-image"></div></div>' + soy.$$filterNoAutoescape(opt_data.content) + '</div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions">' + soy.$$filterNoAutoescape(opt_data.actions) + '</div></footer>';
};
if (goog.DEBUG) {
  DashboardTemplates.Onboarding.chromelessDialog.soyTemplateName = 'DashboardTemplates.Onboarding.chromelessDialog';
}


DashboardTemplates.Onboarding.tooltipBaseContent = function(opt_data, opt_ignored) {
  return '<h6>' + soy.$$escapeHtml(opt_data.title) + '</h6><p>' + soy.$$escapeHtml(opt_data.content) + '</p><footer class="tip-footer">' + soy.$$filterNoAutoescape(opt_data.actions) + ((opt_data.page) ? '<span class="onboarding-page-info">' + soy.$$escapeHtml(opt_data.page) + '</span>' : '') + '</footer>';
};
if (goog.DEBUG) {
  DashboardTemplates.Onboarding.tooltipBaseContent.soyTemplateName = 'DashboardTemplates.Onboarding.tooltipBaseContent';
}


DashboardTemplates.Onboarding.tooltipBase = function(opt_data, opt_ignored) {
  return '<button aria-controls="' + soy.$$escapeHtml(opt_data.id) + '" data-aui-trigger class="onboarding-hotspot"></button><aui-inline-dialog id="' + soy.$$escapeHtml(opt_data.id) + '" class="onboarding-tooltips aui-help onboarding-inline-dialog" alignment="left top" responds-to="toggle" aria-hidden="true">' + DashboardTemplates.Onboarding.tooltipBaseContent(opt_data) + '</aui-inline-dialog>';
};
if (goog.DEBUG) {
  DashboardTemplates.Onboarding.tooltipBase.soyTemplateName = 'DashboardTemplates.Onboarding.tooltipBase';
}


DashboardTemplates.Onboarding.tooltipStep1 = function(opt_data, opt_ignored) {
  return '' + DashboardTemplates.Onboarding.tooltipBase(soy.$$augmentMap(opt_data, {actions: '<button class="aui-button btn-next">' + soy.$$escapeHtml('\u0414\u0430\u043b\u0435\u0435') + '</button><button class="aui-button aui-button-link btn-skip">' + soy.$$escapeHtml('\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0438') + '</button>', page: '1/2'}));
};
if (goog.DEBUG) {
  DashboardTemplates.Onboarding.tooltipStep1.soyTemplateName = 'DashboardTemplates.Onboarding.tooltipStep1';
}


DashboardTemplates.Onboarding.tooltipStep2 = function(opt_data, opt_ignored) {
  return '' + DashboardTemplates.Onboarding.tooltipBase(soy.$$augmentMap(opt_data, {actions: '<button class="aui-button btn-skip">' + soy.$$escapeHtml('\u041f\u043e\u043d\u044f\u0442\u043d\u043e!') + '</button>', page: '2/2'}));
};
if (goog.DEBUG) {
  DashboardTemplates.Onboarding.tooltipStep2.soyTemplateName = 'DashboardTemplates.Onboarding.tooltipStep2';
}


DashboardTemplates.Onboarding.existingUserStep1 = function(opt_data, opt_ignored) {
  return '' + DashboardTemplates.Onboarding.tooltipStep1(soy.$$augmentMap(opt_data, {title: '\u0411\u043e\u043b\u044c\u0448\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u0441 \u0431\u043e\u043a\u043e\u0432\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u044c\u044e', content: '\u041d\u0430\u0445\u043e\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439\u0442\u0435\u0441\u044c \u043a \u043d\u0435\u0434\u0430\u0432\u043d\u0438\u043c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f\u043c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043d\u043e\u0432\u043e\u0439 \u0443\u0434\u043e\u0431\u043d\u043e\u0439 \u0431\u043e\u043a\u043e\u0432\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438.'}));
};
if (goog.DEBUG) {
  DashboardTemplates.Onboarding.existingUserStep1.soyTemplateName = 'DashboardTemplates.Onboarding.existingUserStep1';
}


DashboardTemplates.Onboarding.existingUserStep2 = function(opt_data, opt_ignored) {
  return '' + DashboardTemplates.Onboarding.tooltipStep2(soy.$$augmentMap(opt_data, {title: '\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u0430 \u043f\u043e\u0434 \u0440\u0443\u043a\u043e\u0439', content: '\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u0442\u0435 \u043d\u0435\u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u043a \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u043c \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u0430\u043c \u0438\u043b\u0438 \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0432\u0441\u0435\u0445 \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432.'}));
};
if (goog.DEBUG) {
  DashboardTemplates.Onboarding.existingUserStep2.soyTemplateName = 'DashboardTemplates.Onboarding.existingUserStep2';
}


DashboardTemplates.Onboarding.newUserStep1 = function(opt_data, opt_ignored) {
  return '' + DashboardTemplates.Onboarding.tooltipStep1(soy.$$augmentMap(opt_data, {title: '\u0411\u043e\u043b\u044c\u0448\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0435\u0439 \u0441 \u0431\u043e\u043a\u043e\u0432\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u044c\u044e', content: '\u041d\u0430\u0445\u043e\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439\u0442\u0435\u0441\u044c \u043a \u043d\u0435\u0434\u0430\u0432\u043d\u0438\u043c \u043e\u043f\u0435\u0440\u0430\u0446\u0438\u044f\u043c \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u0431\u043e\u043a\u043e\u0432\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438.'}));
};
if (goog.DEBUG) {
  DashboardTemplates.Onboarding.newUserStep1.soyTemplateName = 'DashboardTemplates.Onboarding.newUserStep1';
}


DashboardTemplates.Onboarding.newUserStep2 = function(opt_data, opt_ignored) {
  return '' + DashboardTemplates.Onboarding.tooltipStep2(soy.$$augmentMap(opt_data, {title: '\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u0430 \u043f\u043e\u0434 \u0440\u0443\u043a\u043e\u0439', content: '\u041f\u0435\u0440\u0435\u0445\u043e\u0434\u0438\u0442\u0435 \u043d\u0435\u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u043a \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u043c \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u0430\u043c \u0438\u043b\u0438 \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0432\u0441\u0435\u0445 \u043f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432.'}));
};
if (goog.DEBUG) {
  DashboardTemplates.Onboarding.newUserStep2.soyTemplateName = 'DashboardTemplates.Onboarding.newUserStep2';
}


DashboardTemplates.Onboarding.transitionSavedForLater = function(opt_data, opt_ignored) {
  return '' + DashboardTemplates.Onboarding.tooltipBase(soy.$$augmentMap(opt_data, {actions: '<button class="aui-button btn-skip">' + soy.$$escapeHtml('\u041f\u043e\u043d\u044f\u0442\u043d\u043e!') + '</button>', title: '\u041f\u0440\u043e\u0449\u0430\u0439, \xab\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435\xbb! \u0414\u0430 \u0437\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0435\u0442 \xab\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e \u043d\u0430 \u0431\u0443\u0434\u0443\u0449\u0435\u0435\xbb!', content: '' + soy.$$filterNoAutoescape('\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0442\u0435\u043f\u0435\u0440\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0442\u0441\u044f \u043f\u043e\u0434 \u043d\u043e\u0432\u044b\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u2014 \xab\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e \u043d\u0430 \u0431\u0443\u0434\u0443\u0449\u0435\u0435\xbb.')}));
};
if (goog.DEBUG) {
  DashboardTemplates.Onboarding.transitionSavedForLater.soyTemplateName = 'DashboardTemplates.Onboarding.transitionSavedForLater';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:onboarding-dialog', location = '/js/confluence-dashboard/modules/onboarding/onboarding-controller.js' */
define("confluence-dashboard/modules/onboarding/onboarding-view",["module","exports","../../core/shared/base-dialog","confluence-dashboard/soy-templates","configuration","../../utils/feature-discovery","underscore"],function(e,i,t,o,n,s,r){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var d=a(t).default,l=a(o).default,u=n.pluginKey,c=(n.staticResourceUrl,a(s).default),f=a(r).default;i.default=d.extend({attributes:{id:"dashboard-onboarding-dialog","aria-hidden":!0},ui:{btnShow:".show-onboarding",btnSkip:".skip-onboarding"},events:{"click @ui.btnShow":"showOnboarding","click @ui.btnSkip":"skipOnboarding"},initialize:function(){this.featureDiscovery=c.forPlugin(u),this.featureDiscovery.canShow("dialog")?this.openDialog():this.remove()},onDestroy:function(){this.featureDiscovery=null},getTemplate:function(){return this.options.isNewUser?l.Onboarding.newUser:l.Onboarding.existingUser},showOnboarding:function(){this.featureDiscovery.markDiscoveredSafe("dialog"),this.closeDialog(),this.options.onConfirm&&f.isFunction(this.options.onConfirm)&&this.options.onConfirm()},skipOnboarding:function(){this.featureDiscovery.markDiscoveredSafe("dialog"),this.featureDiscovery.markDiscoveredSafe("tips"),this.closeDialog()}}),e.exports=i.default}),define("confluence-dashboard/modules/onboarding/onboarding-tooltip-view",["module","exports","marionette","configuration","jquery","../../utils/feature-discovery","../../utils/ensure-component","../../utils/event-manager"],function(e,i,t,o,n,s,r,a){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}var l=t.ItemView,u=o.pluginKey,c=d(n).default,f=d(s).default,p=d(r).default,h=a.EventManager;i.default=l.extend({className:"onboarding-tooltip-wrapper",initialize:function(){this.featureDiscovery=f.forPlugin(u),this.target=this.options.placedNextTo,this.tipId=this.options.tipId,this.addToScreen()},addToScreen:function(){var e=this;if(this.featureDiscovery.canShow(this.tipId)){c(this.target).append(this.render().el);var i=this.$(".onboarding-tooltips");p(i[0]).then(function(){i.find(".btn-next").on("click",e.showNext.bind(e)),i.find(".btn-skip").on("click",e.skipTooltips.bind(e))}),this.listenTo(h,"sidebar:collapse",this.close.bind(this)),this.listenTo(h,"window:scroll",this.close.bind(this)),this.inlineDialog=i[0]}else this.destroy()},open:function(){var e=this;p(this.inlineDialog).then(function(){e.inlineDialog.open=!0})},close:function(){var e=this;p(this.inlineDialog).then(function(){e.inlineDialog.open=!1})},showNext:function(){this.featureDiscovery.markDiscovered(this.tipId),this.close(),this.trigger("next",this),this.destroy()},skipTooltips:function(){this.trigger("skip",this)},onDestroy:function(){var e=this;this.inlineDialog&&p(this.inlineDialog).then(function(){return e.inlineDialog.remove()})}}),e.exports=i.default}),define("confluence-dashboard/modules/onboarding/onboarding-tooltips-manager",["module","exports","marionette","confluence-dashboard/soy-templates","./onboarding-tooltip-view","underscore","configuration","../../utils/feature-discovery","../../utils/event-manager","window"],function(e,i,t,o,n,s,r,a,d,l){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}var c=t.Object,f=u(o).default,p=u(n).default,h=u(s).default,g=r.pluginKey,v=u(a).default,b=d.ReqRes,m=u(l).default;i.default=c.extend({initialize:function(){m.require(["aui/inline-dialog2"]),b.request("app").expandSidebar(),this.featureDiscovery=v.forPlugin(g)},getTooltipDefinitions:function(e){return[{element:".sidebar-discover",tipId:"tour-step-sidebar",template:f.Onboarding[e.isNew?"newUserStep1":"existingUserStep1"]},{element:".sidebar-spaces",tipId:"tour-step-favourite-spaces",template:f.Onboarding[e.isNew?"newUserStep2":"existingUserStep2"]}]},showTips:function(e){var i=this.getTooltipDefinitions(e);this.createSteps(i)},createSteps:function(e){var i=this;return!!e&&(!!this.featureDiscovery.canShow("tips")&&(this.steps=[],h.each(e,function(e){i.featureDiscovery.canShow(e.tipId)&&i.steps.push(i.createTooltip(e))}),void this.openFirst()))},createTooltip:function(e){var i=new p({tipId:e.tipId,placedNextTo:e.element,template:e.template,templateHelpers:{id:e.tipId}});return this.listenTo(i,"skip",this.onSkip),this.listenTo(i,"next",this.onNext),i},openFirst:function(){this.steps.length>0&&this.steps[0].open()},onSkip:function(){this.featureDiscovery.markDiscovered("tips"),h.invoke(this.steps,"destroy"),this.destroy()},onNext:function(e){var i=this.steps.indexOf(e);this.steps.splice(i,1),this.openFirst()}}),e.exports=i.default}),define("confluence-dashboard/modules/onboarding/onboarding-saved-for-later-view",["module","exports","./onboarding-tooltip-view"],function(e,i,t){"use strict";var o=function(e){return e&&e.__esModule?e:{default:e}}(t).default;i.default=o.extend({showNext:function(){},skipTooltips:function(){this.featureDiscovery.markDiscovered(this.tipId),this.close(),this.destroy()}}),e.exports=i.default}),define("confluence-dashboard/modules/onboarding/onboarding-controller",["../../utils/event-manager","./onboarding-view","./onboarding-tooltips-manager","../../utils/module-starter","confluence/meta","../../utils/conditions","ajs","confluence-dashboard/soy-templates","./onboarding-saved-for-later-view","configuration","../../utils/feature-discovery"],function(e,i,t,o,n,s,r,a,d,l,u){"use strict";function c(e){return e&&e.__esModule?e:{default:e}}function f(e){(new g).showTips(e)}var p=e.Commands,h=c(i).default,g=c(t).default,v=c(o).default,b=c(n).default,m=c(s).default,w=c(r).default,D=c(a).default,y=c(d).default,x=l.pluginKey,k=c(u).default,S=function(){var e=b.getBoolean("is-new-user"),i=b.getBoolean("show-dashboard-onboarding-dialog"),t=b.getBoolean("show-dashboard-onboarding-tips"),o={isNew:e};if(i){var n=new h({isNewUser:e,onConfirm:function(){f(o)}});p.execute("main-app:showDialog",n)}else if(t)f(o);else if(!e)new y({tipId:"transition-saved-for-later",placedNextTo:".nav-item-container-starred",template:D.Onboarding.transitionSavedForLater,templateHelpers:{id:"transition-saved-for-later"}});e&&k.forPlugin(x).markDiscovered("transition-saved-for-later")};w.toInit(function(){m.canShowDashboard()&&v.register(S)})}),require(["confluence-dashboard/modules/onboarding/onboarding-controller"]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:opt-out', location = '/templates/modules/opt-out/opt-out-template.soy' */
// This file was automatically generated from opt-out-template.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace DashboardTemplates.OptOut.
 */

if (typeof DashboardTemplates == 'undefined') { var DashboardTemplates = {}; }
if (typeof DashboardTemplates.OptOut == 'undefined') { DashboardTemplates.OptOut = {}; }


DashboardTemplates.OptOut.sidebarButtonContent = function(opt_data, opt_ignored) {
  return '<p>' + soy.$$escapeHtml('\u041d\u0435 \u043d\u0440\u0430\u0432\u0438\u0442\u0441\u044f \u043d\u043e\u0432\u0430\u044f \u043f\u0430\u043d\u0435\u043b\u044c? \u041f\u043e\u043c\u043e\u0433\u0438\u0442\u0435 \u043d\u0430\u043c \u043f\u043e\u043d\u044f\u0442\u044c, \u043f\u043e\u0447\u0435\u043c\u0443.') + '</p><div class="field-group"><textarea class="textarea" rows="6" name="feedback" placeholder="' + soy.$$escapeHtml('\u041e\u0442\u0437\u044b\u0432') + '"></textarea></div><footer class="tip-footer"><button class="aui-button btn-send-feedback">' + soy.$$escapeHtml('\u041f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043f\u0430\u043d\u0435\u043b\u044c') + '</button></footer>';
};
if (goog.DEBUG) {
  DashboardTemplates.OptOut.sidebarButtonContent.soyTemplateName = 'DashboardTemplates.OptOut.sidebarButtonContent';
}


DashboardTemplates.OptOut.sidebarButton = function(opt_data, opt_ignored) {
  return '<button class="aui-button aui-button-subtle" data-aui-trigger aria-controls="opt-out-dialog">' + soy.$$escapeHtml('\u0414\u0430\u0439\u0442\u0435 \u043c\u043d\u0435 \u0441\u0442\u0430\u0440\u0443\u044e \u043f\u0430\u043d\u0435\u043b\u044c') + '</button><aui-inline-dialog id="opt-out-dialog" class="opt-out-dialog onboarding-inline-dialog"  alignment="top left" responds-to="toggle" aria-hidden="true"><form class="aui">' + DashboardTemplates.OptOut.sidebarButtonContent(null) + '</form></aui-inline-dialog>';
};
if (goog.DEBUG) {
  DashboardTemplates.OptOut.sidebarButton.soyTemplateName = 'DashboardTemplates.OptOut.sidebarButton';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:opt-out', location = '/js/confluence-dashboard/modules/opt-out/opt-out-controller.js' */
define("confluence-dashboard/modules/opt-out/opt-out-action-view",["module","exports","../../utils/event-manager","marionette","configuration","confluence-dashboard/soy-templates","../../utils/dark-features","ajs","jquery","window","../../utils/ensure-component","../../utils/analytics"],function(e,t,n,o,i,a,l,u,s,d,r,c){"use strict";function f(e){return e&&e.__esModule?e:{default:e}}var h=n.EventManager,b=o.ItemView,p=i.DARK_FEATURES,D=f(a).default,g=f(l).default,m=f(u).default,v=f(s).default,w=f(d).default,_=f(r).default,A=f(c).default,E=p.USER_DISABLED_DASHBOARD_DARK_FEATURE;t.default=b.extend({template:D.OptOut.sidebarButton,className:"sidebar-opt-out",initialize:function(){w.require(["aui/inline-dialog2"])},shouldShow:function(){return!1},addTo:function(e){var t=this;v(e).append(this.render().el);var n=this.$(".opt-out-dialog");_(n[0]).then(function(){n.find(".btn-send-feedback").on("click",t.sendFeedback.bind(t))}),this.listenTo(h,"sidebar:collapse",this.closeInlineDialog.bind(this)),this.listenTo(h,"window:scroll",this.closeInlineDialog.bind(this)),this.inlineDialog=n},closeInlineDialog:function(){var e=this;this.inlineDialog.length&&_(this.inlineDialog[0]).then(function(){e.inlineDialog.open=!1})},sendFeedback:function(e){var t=this;e.preventDefault(),g.remotely.user.enable(E).then(function(){return t.onDisableDashboard()})},onDisableDashboard:function(){var e=this.inlineDialog.find("[name=feedback]").val();A.publish("opt-out.confirm",{message:e}),w.location=m.contextPath()}}),e.exports=t.default}),define("confluence-dashboard/modules/opt-out/opt-out-controller",["./opt-out-action-view","../../utils/module-starter","../../utils/conditions","ajs"],function(e,t,n,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var a=i(e).default,l=i(t).default,u=i(n).default,s=function(){var e=new a({});e.shouldShow()&&e.addTo(".aui-sidebar-footer")};i(o).default.toInit(function(){u.canShowDashboard()&&l.register(s)})}),require(["confluence-dashboard/modules/opt-out/opt-out-controller"]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-dashboard:buttons-web-items', location = '/js/confluence-dashboard/modules/buttons-web-items/buttons-web-items-controller.js' */
define("confluence-dashboard/modules/buttons-web-items/buttons-web-items-view",["module","exports","backbone","jquery","ajs","aui/templates"],function(t,e,o,n,i,s){"use strict";function u(t){return t&&t.__esModule?t:{default:t}}var r=o.View,d=u(n).default,a=u(i).default,h=u(s).default;e.default=r.extend({el:".aui-buttons",initialize:function(t){var e=this;this.$buttonGroup=t.target,this.buttons=this.getButtons(!!t.hideLastElementsFirst&&t.hideLastElementsFirst),this.totalButtonWidth=0,this.buttons.forEach(function(t){return e.totalButtonWidth+=t.outerWidth}),this.moreMenuWidth=0,this.lastButtonVisibleIndex=this.buttons.length-1,this.handleResize(),d(window).on("resize.aui-responsive-header",a.debounce(function(){e.handleResize()},100))},getAvailableWidth:function(){return this.$buttonGroup.parent().width()},getButtons:function(t){var e=[];return this.$buttonGroup.find(".aui-button").each(function(o,n){var i=d(n),s={$element:i,outerWidth:i.outerWidth(!0)};t?e.unshift(s):e.push(s)}),e},showResponsiveDropdown:function(){void 0===this.$moreMenu?this.$moreMenu=this.createResponsiveDropdownTrigger():this.$moreMenu.appendTo(this.$buttonGroup)},createResponsiveDropdownTrigger:function(){var t=this.$buttonGroup[0].id,e=d(h.dropdown2.trigger({menu:{id:"aui-responsive-button-group-dropdown-content-"+t},content:'<span class="aui-icon aui-icon-small aui-iconfont-more"></span>',extraAttributes:{href:"#"},extraClasses:"aui-button aui-dropdown2-trigger-arrowless",id:"aui-responsive-button-group-dropdown-trigger-"+t}));return e.append(h.dropdown2.contents({id:"aui-responsive-button-group-dropdown-content-"+t,extraClasses:"aui-style-default",content:h.dropdown2.section({content:'<ul id="aui-responsive-button-group-dropdown-list-'+t+'"></ul>'})})),e.appendTo(this.$buttonGroup),this.moreMenuWidth=e.outerWidth(!0),e},handleResize:function(){if(this.buttons.length){var t=this.getAvailableWidth();if(t>this.totalButtonWidth)this.showAllButtons();else{this.showResponsiveDropdown();for(var e=t-this.moreMenuWidth,o=-1;e-this.buttons[o+1].outerWidth>=0;)e-=this.buttons[o+1].outerWidth,o++;o<this.lastButtonVisibleIndex?this.moveToResponsiveDropdown(this.lastButtonVisibleIndex-o):o>this.lastButtonVisibleIndex&&this.moveOutOfResponsiveDropdown(o-this.lastButtonVisibleIndex)}}},moveOutOfResponsiveDropdown:function(t){if(!(t<=0)){this.$buttonGroup[0].id;var e=this.$moreMenu.children(".aui-dropdown2-trigger");e.hasClass("active")&&e.trigger("aui-button-invoke");for(var o=this.lastButtonVisibleIndex+1,n=this.lastButtonVisibleIndex+t,i=o;i<=n;i++){var s=this.buttons[i].$element;s.addClass("aui-button"),s.appendTo(this.$buttonGroup)}this.lastButtonVisibleIndex+=t}},moveToResponsiveDropdown:function(t){if(!(t<=0)){for(var e=this.$buttonGroup[0].id,o=document.querySelector("#aui-responsive-button-group-dropdown-list-"+e),n=this.lastButtonVisibleIndex,i=this.lastButtonVisibleIndex-t+1,s=n;s>=i;s--){var u=this.buttons[s].$element;u.removeClass("aui-button"),o.insertBefore(u[0],o.firstChild)}this.lastButtonVisibleIndex-=t}},hideResponsiveDropdown:function(){void 0!==this.$moreMenu&&this.$moreMenu.detach()},showAllButtons:function(){this.hideResponsiveDropdown(),this.moveOutOfResponsiveDropdown(this.buttons.length-1-this.lastButtonVisibleIndex)}}),t.exports=e.default}),define("confluence-dashboard/modules/buttons-web-items/buttons-web-items-controller",["./buttons-web-items-view","jquery","../../utils/module-starter"],function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var i=n(t).default,s=n(e).default;n(o).default.register(function(){new i({target:s(".dashboard-buttons .aui-buttons")})})}),require(["confluence-dashboard/modules/buttons-web-items/buttons-web-items-controller"]);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/store-1.3.1.js' */
(function(){var l={},h=window,k=h.document,c="localStorage",n="globalStorage",d="__storejs__",g;l.disabled=false;l.set=function(e,o){};l.get=function(e){};l.remove=function(e){};l.clear=function(){};l.transact=function(e,o){var p=l.get(e);if(typeof p=="undefined"){p={}}o(p);l.set(e,p)};l.serialize=function(e){return JSON.stringify(e)};l.deserialize=function(e){if(typeof e!="string"){return undefined}return JSON.parse(e)};function b(){try{return(c in h&&h[c])}catch(e){return false}}function m(){try{return(n in h&&h[n]&&h[n][h.location.hostname])}catch(e){return false}}if(b()){g=h[c];l.set=function(e,o){if(o===undefined){return l.remove(e)}g.setItem(e,l.serialize(o))};l.get=function(e){return l.deserialize(g.getItem(e))};l.remove=function(e){g.removeItem(e)};l.clear=function(){g.clear()}}else{if(m()){g=h[n][h.location.hostname];l.set=function(e,o){if(o===undefined){return l.remove(e)}g[e]=l.serialize(o)};l.get=function(e){return l.deserialize(g[e]&&g[e].value)};l.remove=function(e){delete g[e]};l.clear=function(){for(var e in g){delete g[e]}}}else{if(k.documentElement.addBehavior){var j,f;try{f=new ActiveXObject("htmlfile");f.open();f.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></frame>');f.close();j=f.w.frames[0].document;g=j.createElement("div")}catch(i){g=k.createElement("div");j=k.body}function a(e){return function(){var p=Array.prototype.slice.call(arguments,0);p.unshift(g);j.appendChild(g);g.addBehavior("#default#userData");g.load(c);var o=e.apply(l,p);j.removeChild(g);return o}}l.set=a(function(p,e,o){if(o===undefined){return l.remove(e)}p.setAttribute(e,l.serialize(o));p.save(c)});l.get=a(function(o,e){return l.deserialize(o.getAttribute(e))});l.remove=a(function(o,e){o.removeAttribute(e);o.save(c)});l.clear=a(function(q){var o=q.XMLDocument.documentElement.attributes;q.load(c);for(var p=0,e;e=o[p];p++){q.removeAttribute(e.name)}q.save(c)})}}}try{l.set(d,d);if(l.get(d)!=d){l.disabled=true}l.remove(d)}catch(i){l.disabled=true}if(typeof module!="undefined"){module.exports=l}else{if(typeof define==="function"&&define.amd){define(l)}else{this.store=l}}})();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/page-visibility.js' */
define("atlassian/analytics/page-visibility",function(){var a=(document.hidden!==undefined);var b={supported:a,isHidden:function(){return a?document.hidden:false}};return b});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/user-activity-xhr-header.js' */
define("atlassian/analytics/user-activity-xhr-header",["atlassian/analytics/page-visibility"],function(c){var e="x-atlassian-mau-ignore";var d=XMLHttpRequest.prototype.send;var a=window.fetch;var b=false;return{install:function(){if(!b&&c.supported){XMLHttpRequest.prototype.send=function(){if(c.isHidden()){this.setRequestHeader(e,c.isHidden())}d.apply(this,arguments)};if(a){window.fetch=function(f,i){var g=i||{};var h=g.headers;if(c.isHidden()){g.headers=(h)?new Headers(h):new Headers();g.headers.append(e,c.isHidden())}return a.call(this,f,g)}}b=true}},uninstall:function(){if(b){XMLHttpRequest.prototype.send=d;if(a){window.fetch=a}}b=false}}});require("atlassian/analytics/user-activity-xhr-header").install();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.analytics.analytics-client:js-events', location = 'js/atlassian-analytics.js' */
(function(d){var q=AJS.$.ajax;var l="atlassian-analytics";var j=typeof AJS.contextPath==="function"?AJS.contextPath():"";var p=null;var m=null;var g=null;var r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(z){var y=Math.random()*16|0,x=z=="x"?y:(y&3|8);return x.toString(16)});var t=function(){var x="unknown";if(document.body.id=="jira"){x="jira"}else{if(document.body.id=="com-atlassian-confluence"){x="confluence"}}m=l+"."+x;g=m+".lock"};var f=function(){if(store.get(g)){return false}store.set(g,r);return(store.get(g)===r)};var u=function(){store.set(g,null)};var i=function(){var y=[],A,B,x,z;if(AJS.EventQueue.length==0){return}y=store.get(m)||y;for(x=0,z=AJS.EventQueue.length;x<z;++x){B=AJS.EventQueue[x];if(B.name){A={name:B.name,properties:B.properties,time:B.time||0};y.push(A)}}AJS.EventQueue.length=0;store.set(m,y)};var v=0;var a=function(x){return Math.min(5000*Math.pow(2,x),5*60*1000)};var e=0;var h=function(){var A;function y(){setTimeout(h,a(v=0))}function x(){setTimeout(h,a(++v))}if(!f()){++e;if(e<20){return y()}}else{e=0}try{i();A=store.get(m);if(!A||!A.length){return y()}store.remove(m);if(!o(A)){return y()}var B=new Date().getTime();for(var z=0;z<A.length;z++){if(A[z].time>0){A[z].timeDelta=A[z].time-B}else{A[z].timeDelta=z-A.length}delete A[z].time}p=q({type:"POST",url:j+"/rest/analytics/1.0/publish/bulk",data:JSON.stringify(A),contentType:"application/json",dataType:"json"});p.fail(function(){AJS.EventQueue.concat(A);i();x()});p.done(function(){y()})}finally{u()}};var o=function(z){for(var y=z.length-1;y>=0;y--){var B="";var A=z[y];var x=A.properties;if(typeof A.name==="undefined"){B="you must provide a name for the event."}else{if(typeof x!=="undefined"&&x!==null){if(x.constructor!==Object){B="properties must be an object with key value pairs."}else{b(x)}}}if(B!==""){AJS.log("WARN: Invalid analytics event detected and ignored, "+B+"\nEvent: "+JSON.stringify(A));z.splice(y,1)}}return z.length};var b=function(z){for(var y in z){if(z.hasOwnProperty(y)){var x=z[y];if(c(x)&&k(x)){}else{if(c(x)&&x.toString){z[y]=x.toString()}else{z[y]=""}}}}};function c(x){return typeof x!=="undefined"&&x!==null}function k(x){return typeof x==="number"||typeof x==="string"||typeof x==="boolean"}var n=function(){if(p&&!(p.state()==="resolved"||p.state()==="rejected")){p.abort()}};AJS.EventQueue=AJS.EventQueue||[];var s=Array.prototype.push;AJS.EventQueue.push=function(x){x.time=new Date().getTime();s.call(AJS.EventQueue,x)};AJS.toInit(function(){t();setTimeout(h,500);w()});d(window).unload(function(){n();i()});AJS.Analytics={triggerPrivacyPolicySafeEvent:function(x,y){AJS.log("WARN: 'triggerPrivacyPolicySafeEvent' has been deprecated");AJS.EventQueue.push({name:x,properties:y})}};AJS.bind("analytics",function(x,y){AJS.EventQueue.push({name:y.name,properties:y.data})});AJS.bind("analyticsEvent",function(x,y){AJS.EventQueue.push({name:y.name,properties:y.data})});var w=function(){if(window.location.pathname.indexOf("/secure/admin/ViewApplicationProperties")>-1){AJS.$("[data-property-id='analytics-enabled']").remove()}else{if(window.location.pathname.indexOf("/secure/admin/EditApplicationProperties")>-1){var y=AJS.$(":contains(Enable Atlassian analytics)");if(y.size()>0){var x=y[y.size()-2];if(x){x.remove()}}}}}}(AJS.$));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.analytics.analytics-client:policy-update-init', location = 'js/policy-update-init.js' */
AJS.toInit(function(){var a=WRM.data.claim("com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider");if(a){WRM.require("wrc!com.atlassian.analytics.analytics-client:policy-update")}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.analytics.analytics-client:programmatic-analytics-init', location = 'js/programmatic-analytics-init.js' */
(function(){var a=WRM.data.claim("com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider");if(a){WRM.require("wrc!com.atlassian.analytics.analytics-client:programmatic-analytics")}}());
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:application-header-administration-cog-resource', location = 'header/cog.js' */
var NavLinks=(function(a){a.ApplicationHeader=function(b){b.Cog=(function(){var c=function(){var d=AJS.$("#system-admin-menu-content");if(d.length>0){return d}var e=AJS.$("#admin-menu-link-content");if(e.length>0){return e}return AJS.$("#bamboo\\.global\\.header-admin\\.menu")};return{getDropdown:c}}());return b}(a.ApplicationHeader||{});return a}(NavLinks||{}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:administration-shortcuts-resources', location = 'adminshortcuts/adminshortcuts.soy' */
// This file was automatically generated from adminshortcuts.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.adminshortcuts.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.adminshortcuts == 'undefined') { navlinks.templates.adminshortcuts = {}; }


navlinks.templates.adminshortcuts.section = function(opt_data, opt_ignored) {
  var param5 = '<ul class="aui-list-truncate">';
  var linkList7 = opt_data.links;
  var linkListLen7 = linkList7.length;
  for (var linkIndex7 = 0; linkIndex7 < linkListLen7; linkIndex7++) {
    var linkData7 = linkList7[linkIndex7];
    param5 += '<li><a href="' + soy.$$escapeHtml(linkData7.link) + '">' + soy.$$escapeHtml(linkData7.label) + '</a></li>';
  }
  param5 += '</ul>';
  var output = '' + aui.dropdown2.section({id: 'nl-remote-admin-section', label: '\u041f\u0440\u043e\u0447\u0438\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f', content: param5});
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.adminshortcuts.section.soyTemplateName = 'navlinks.templates.adminshortcuts.section';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:administration-shortcuts-resources', location = 'adminshortcuts/adminnavlinks.js' */
var NavLinks=(function(a){a.AdminShortcuts=(function(){var c=function(){return AJS.$.ajax({url:AJS.contextPath()+"/rest/menu/latest/admin",cache:false,dataType:"json"})};var b=function(){AJS.$("#nl-remote-admin-section").on("click","a",function(){NL.trackEvent("remoteAdminItemSelected",NL.getCurrentApplication(),$(this).attr("href"))})};return{render:function(){c().done(function(e){e=_.reject(e,function(f){return f.local===true});if(e.length){var d=navlinks.templates.adminshortcuts.section({links:e});a.ApplicationHeader.Cog.getDropdown().append(d);b()}})}}}());return a}(NavLinks||{}));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:administration-shortcuts', location = 'adminshortcuts/adminshortcuts-cdn.js' */
AJS.toInit(function(){if(AJS.DarkFeatures&&AJS.DarkFeatures.isEnabled("rotp.admin.shortcuts")){NavLinks.AdminShortcuts.render()}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-projectshortcuts', location = 'projectshortcuts/projectshortcuts.soy' */
// This file was automatically generated from projectshortcuts.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.projectshortcuts.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.projectshortcuts == 'undefined') { navlinks.templates.projectshortcuts = {}; }


navlinks.templates.projectshortcuts.dialogContent = function(opt_data, opt_ignored) {
  return '' + ((opt_data.localShortcuts && opt_data.localShortcuts.length > 0) ? navlinks.templates.projectshortcuts.dialogContentShortcuts({shortcuts: opt_data.localShortcuts, listClass: 'projectshortcut-links'}) : '') + ((opt_data.remoteShortcuts != null) ? (opt_data.remoteShortcuts.length > 0) ? '<h2 class="projectshortcuts-heading">Related Links</h2>' + navlinks.templates.projectshortcuts.dialogContentShortcuts(soy.$$augmentMap(opt_data.remoteShortcuts, {shortcuts: opt_data.remoteShortcuts, listClass: 'projectshortcut-links'})) : '' : navlinks.templates.projectshortcuts.dialogLoading(null));
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.dialogContent.soyTemplateName = 'navlinks.templates.projectshortcuts.dialogContent';
}


navlinks.templates.projectshortcuts.headingWrapper = function(opt_data, opt_ignored) {
  return '<div class="project-dialog-header-wrapper"><div class="project-header"><img class="project-img" src="' + soy.$$escapeHtml(opt_data.logoUrl) + '"><h2 class="dialog-title">' + soy.$$escapeHtml(opt_data.title) + '</h2></div><div class="project-content-wrapper">' + soy.$$filterNoAutoescape(opt_data.contentHtml) + '</div></div>';
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.headingWrapper.soyTemplateName = 'navlinks.templates.projectshortcuts.headingWrapper';
}


navlinks.templates.projectshortcuts.dialogContentShortcuts = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '<ul' + ((opt_data.listClass) ? ' class="' + soy.$$escapeHtml(opt_data.listClass) + '"' : '') + '>';
  var shortcutList35 = opt_data.shortcuts;
  var shortcutListLen35 = shortcutList35.length;
  for (var shortcutIndex35 = 0; shortcutIndex35 < shortcutListLen35; shortcutIndex35++) {
    var shortcutData35 = shortcutList35[shortcutIndex35];
    output += '<li' + ((shortcutIndex35 == shortcutListLen35 - 1) ? ' class="last"' : '') + '>' + navlinks.templates.projectshortcuts.dialogContentShortcut(shortcutData35) + '</li>';
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.dialogContentShortcuts.soyTemplateName = 'navlinks.templates.projectshortcuts.dialogContentShortcuts';
}


navlinks.templates.projectshortcuts.dialogContentShortcut = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml(opt_data.link) + '"' + ((opt_data.tooltip) ? ' title="' + soy.$$escapeHtml(opt_data.tooltip) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.label) + '</a>';
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.dialogContentShortcut.soyTemplateName = 'navlinks.templates.projectshortcuts.dialogContentShortcut';
}


navlinks.templates.projectshortcuts.dialogLoading = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div class="projectshortcuts-loading">' + ((opt_data.text) ? soy.$$escapeHtml(opt_data.text) : '') + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.projectshortcuts.dialogLoading.soyTemplateName = 'navlinks.templates.projectshortcuts.dialogLoading';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-projectshortcuts', location = 'projectshortcuts/projectshortcuts.js' */
(function(e,g){var i,k={},m="key",b="name",j="entity-type";function f(s){var n=e(this),o=n.data(m),q=n.data(b),p=n.data(j);if(typeof o==="undefined"){return}s.preventDefault();i=new AJS.Dialog({width:600,keypressListener:function(u){if(u.which==jQuery.ui.keyCode.ESCAPE){i.remove()}},id:"project-shortcuts-dialog"}).addCancel("Close",function(){i.remove()}).addPanel("",navlinks.templates.projectshortcuts.headingWrapper({title:q,logoUrl:h(),contentHtml:navlinks.templates.projectshortcuts.dialogLoading({text:"Retrieving links…"})})).show();c(i);if(!k[o]){k[o]={entity:{title:q},localShortcuts:null,remoteShortcuts:null};d(AJS.contextPath()+"/rest/project-shortcuts/1.0/local/"+o,{entityType:p}).done(t);d(AJS.contextPath()+"/rest/project-shortcuts/1.0/remote/"+o,{entityType:p}).done(r).fail(function(){var u=i.getCurrentPanel().body.find(".project-content-wrapper");u.find(".projectshortcuts-loading").remove();AJS.messages.error(u,{body:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0438\u0437\u0432\u043b\u0435\u0447 \u0441\u0441\u044b\u043b\u043a\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430",closeable:false});c(i)})}else{l(k[o])}function t(u){k[o].localShortcuts=u.shortcuts;l(k[o])}function r(u){k[o].remoteShortcuts=u.shortcuts;l(k[o])}}function h(){return e(".project-shortcut-dialog-trigger img").attr("src")}function l(n){if(n.localShortcuts){i.getCurrentPanel().html(navlinks.templates.projectshortcuts.headingWrapper({title:n.entity.title,logoUrl:h(),contentHtml:navlinks.templates.projectshortcuts.dialogContent(n)}));c(i)}}function a(p){var o=210;if(!p||p.length<=o){return p}var n=o;while(n>0&&p.charAt(n)!=" "){n--}if(n==0){n=o}p=p.substring(0,n);if(p.length>=n){p=p+"..."}return p}function c(n){var q=n.popup.element,p=q.find(".dialog-panel-body"),o=q.find(".dialog-components");p.height("auto");q.height(o.outerHeight()-1);e(".aui-shadow").remove()}function d(n,o){return e.ajax({url:n,cache:false,data:o,dataType:"json"})}e(document).on("click",".project-shortcut-dialog-trigger",f)}(jQuery,window.NL=(window.NL||{})));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:atlassian-ui-popup-display-controller', location = 'popups/DisplayController.js' */
AJS.Popups=AJS.Popups||{};AJS.Popups.DisplayController=function(){var c=[];var a=false;var b=false;AJS.toInit(function(){setTimeout(function(){AJS.Popups.DisplayController.render()},0)});return{request:function(d){c.push(d);if(a&&b===false){this.render()}},render:function(){c.sort(function(e,d){return e.weight-d.weight});a=true;if(c.length!==0){b=true;c[0].show()}}}}();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:jira-issues-view-mode-resources', location = 'jira/jira-issues-view-mode/main.js' */
require(["ajs","jquery"],function(b,d){var a="wr!confluence.extra.jira:jira-issues-view-mode-async-resource";var c=function(){var e=d(".wiki-content [data-jira-key][data-client-id]");if(e.length==0){return false}WRM.require(a,function(){require(["confluence/jim/jira/jira-issues-view-mode/lazy-loading","confluence/jim/jira/jira-issues-view-mode/fix-ui"],function(g,f){g.init(e).done(function(){f.fixBreakIconInOldConf()})})})};b.toInit(c);b.bind("ic-jim-async-supported",c)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:amd-support', location = 'amd/confluence-shim.js' */
define("confluence/jim/confluence-shim",function(){return window.Confluence});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:amd-support', location = 'amd/amd-exporter.js' */
define("confluence/jim/amd/module-exporter",[],function(){var a={};a.namespace=function(e,f,d){var g=e.split(".");d=d||window;for(var c=0,h=g.length-1;c<h;c++){var b=d[g[c]];d=(b!=null)?b:d[g[c]]={}}if(d[g[c]]){if(window.console&&window.console.warn){window.console.warn('Value of "'+e+'" was overridden')}}d[g[c]]=f||d[g[c]]||{};return d[g[c]]};a.safeRequire=function(c,b){if(define&&define.amd===undefined){var d=require(c);if(b){b(d)}}};a.exportModuleAsGlobal=function(c,d,b){a.safeRequire(c,function(e){a.namespace(d,e);if(b){b(e)}})};return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:lodash-amd', location = 'applinks/internal/lib/lodash-amd-global.js' */
define("applinks/lib/lodash",function(){if(!window._){throw"lodash not found"}return window._});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/lib-version.js' */
define("applinks/lib/version",["applinks/lib/lodash"],function(c){function d(f,g){if(c.isUndefined(f)){return 0}else{if(typeof f!=="number"||isNaN(f)){throw new Error(g+": expected a number, was: <"+f+">")}else{return Math.floor(f)}}}function a(f,g){if(!f||!(f instanceof e)){throw new Error(g+": expected a Version object, was: <"+f+">")}return f}function b(f,g){return f>g?1:f==g?0:-1}function e(g,h,f){this.major=d(g,"major");this.minor=d(h,"minor");this.bugfix=d(f,"bugfix")}e.parse=function(g,h){h=h||"versionString";if(!g){throw new Error(h+": expected a non-empty string")}var f=g.split(".");if(f.length!==3){throw new Error(h+": expected <major>.<minor>.<bugfix> string, was: <"+g+">")}return new e(parseInt(f[0]),parseInt(f[1]),parseInt(f[2]))};e.comparator=function(g,f){return a(g,"versionOne").compareTo(a(f,"versionTwo"))};e.prototype.compareTo=function(h){a(h,"that");var f=b(this.major,h.major);if(f!=0){return f}var g=b(this.minor,h.minor);if(g!=0){return g}return b(this.bugfix,h.bugfix)};e.prototype.greaterThan=function(f){return this.compareTo(f)>0};e.prototype.greaterThanOrEqual=function(f){return this.compareTo(f)>=0};e.prototype.lessThan=function(f){return this.compareTo(f)<0};e.prototype.lessThanOrEqual=function(f){return this.compareTo(f)<=0};e.prototype.equals=function(f){return this.compareTo(f)==0};e.prototype.toMinor=function(){return new e(this.major,this.minor)};e.prototype.toMajor=function(){return new e(this.major)};e.prototype.toString=function(){return this.major+"."+this.minor+"."+this.bugfix};return e});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/aui-version-details.js' */
define("applinks/lib/aui-version-details",["applinks/lib/version"],function(g){var d=new g(5,8,15);var f=new g(5,9,13);var e=new g(5,8);var c=new g(5,9);function a(h){if(h.lessThan(d)){throw new Error("AUI version "+h+" is too low, you need to upgrade AUI to "+d+" or "+f+" for Applinks to work")}if(h.greaterThanOrEqual(c)&&h.lessThan(f)){throw new Error("AUI version "+h+" is too low, you need to upgrade AUI to "+f+" for Applinks to work")}}function b(h){var i=g.parse(h.version,"AUI version");a(i);h.versionDetails=i;h.versionDetails.is58=i.toMinor().equals(e);h.versionDetails.is59=i.toMinor().equals(c);return h}return{addVersionDetails:b}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/console-amd.js' */
define("applinks/lib/console",function(){return window.console});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/jquery-amd.js' */
define("applinks/lib/jquery",function(){return window.jQuery});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/aui-amd.js' */
define("applinks/lib/aui",["applinks/lib/window","applinks/lib/aui-version-details"],function(b,c){var a=b.AJS;if(!a){throw new Error("window.AJS not defined, cannot load AUI")}return c.addVersionDetails(a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/wrm-amd.js' */
define("applinks/lib/wrm",function(){return window.WRM});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/skate-amd.js' */
define("applinks/lib/skate",function(){return window.skate});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/window-amd.js' */
define("applinks/lib/window",function(){return window});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/spi-amd.js' */
define("applinks/lib/spi",function(){return{get:function(){return AppLinks.SPI}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-lib', location = 'applinks/internal/lib/applinks-creation-amd.js' */
define("applinks/lib/creation",function(){return{get:function(){return AppLinks.Creation}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/docs.js' */
define("applinks/common/docs",["applinks/lib/jquery","applinks/lib/aui","applinks/common/help-paths"],function(c,b,a){return{createDocLink:function(d,f,e){if(!e){e=""}else{e=" "+e}return c("<a/>",{"class":"ual-help-link help-link"+e,href:this.getDocHref(d,f),target:"_blank","data-help-link-key":d,text:"\u041f\u043e\u043c\u043e\u0449\u044c",title:"\u041f\u043e\u043c\u043e\u0449\u044c"})},getDocHref:function(e,f){var d=a.getFullPath(e);if(f){d+="#"+a.getPath(f)}return d}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/help-paths.js' */
define("applinks/common/help-paths",["applinks/lib/console","applinks/lib/wrm","applinks/lib/lodash","applinks/common/modules","applinks/common/preconditions"],function(b,a,g,e,d){var f=g.memoize(function(){var j=a.data.claim(e.dataFqn(e.COMMON_EXPORTED,"applinks-help-paths"));if(!j.entries){b.warn("Help paths not found, all help links are likely to be broken.")}return j.entries||{}});var i=function(j,m){d.nonEmptyString(j,"key");var l=f()[j]||j;if(m){d.nonEmptyString(m,"sectionKey");var k=l.replace(/\+/g,"");l+="#"+k+"-"+m}return l};function c(j,k){return j.indexOf(k,j.length-k.length)!==-1}function h(j,k){return c(j,k)?j:j+k}return{getPath:i,getFullPath:function(j,l){var k=this.baseUrl();return h(k,"/")+this.getPath(j,l)},baseUrl:g.partial(i,"applinks.docs.root")}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/events.js' */
define("applinks/common/events",["applinks/lib/jquery","applinks/lib/lodash","applinks/lib/window","applinks/common/preconditions"],function(e,b,d,f){var c="applinks.event.";function a(g){return c+f.nonEmptyString(g,"eventId")}return{PREREADY:a("preready"),READY:a("ready"),APPLINKS_LOADED:a("loaded"),APPLINKS_UPDATED:a("updated"),NEW_APPLINK_CREATED:a("created"),ORPHANED_UPGRADE:a("orphaned.upgrade"),V3_ONBOARDING_FINISHED:a("v3-onboarding-finished"),Legacy:{MESSAGE_BOX_DISPLAYED:a("message-box-displayed")},applinksEvent:a,on:function(h,i,g){var j=g?b.bind(i,g):i;e(d.document).on(h,j)},off:function(g,h){e(d.document).off(g,h)},trigger:function(g,h){e(d.document).trigger(g,h)}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/i18n.js' */
define("applinks/common/i18n",["applinks/lib/lodash","applinks/lib/jquery","applinks/lib/wrm","applinks/common/modules","applinks/common/preconditions","applinks/common/products"],function(e,g,c,f,h,b){var a=e.memoize(function(){var i=c.data.claim(f.dataFqn(f.COMMON_EXPORTED,"entity-types"));return h.hasValue(i,"entity-types","Entity Types data not found")});var d=e.memoize(function(){var i=c.data.claim(f.dataFqn(f.COMMON_EXPORTED,"authentication-types"));return h.hasValue(i,"authentication-types","Authentication Types data not found")});return{getApplicationTypeName:function(i){return b.getTypeName(i)},getEntityTypeName:function(i){return a().singular[i]||i},getPluralizedEntityTypeName:function(i){return a().plural[i]||i},getAuthenticationTypeName:function(i){return d()[i]||i}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/modules.js' */
define("applinks/common/modules",function(){return{PLUGIN_KEY:"com.atlassian.applinks.applinks-plugin",COMMON_EXPORTED:"applinks-common-exported",COMMON:"applinks-common",fqn:function(a){return this.PLUGIN_KEY+":"+a},dataFqn:function(a,b){return this.fqn(a)+"."+b}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/preconditions.js' */
define("applinks/common/preconditions",["applinks/lib/lodash"],function(c){function f(i,j,h){return d(c.isString(i)&&!c.isEmpty(i),h,b(j,": expected a non-empty string, was: <"+i+">"),i)}function g(i,j,h){return d(c.isFunction(i),h,b(j,": expected a function, was: "+i),i)}function a(i,j,h){return d(c.isArray(i),h,b(j,": expected an array, was: "+i),i)}function e(i,j,h){return d(i,h,b(j,": expected a value"),i)}function d(l,i,h,k){var j=i?i:h;if(!l){throw new Error(j)}return k||l}function b(i,h){return(i||"[unspecified]")+h}return{checkArgument:c.partial(d,c,c,"",c),nonEmptyString:f,isArray:a,isFunction:g,hasValue:e}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-common-exported', location = 'applinks/internal/common/products.js' */
define("applinks/common/products",["applinks/lib/lodash","applinks/lib/wrm","applinks/common/modules","applinks/common/preconditions"],function(c,b,d,f){var a=c.memoize(function(){var g=b.data.claim(d.dataFqn(d.COMMON_EXPORTED,"applinks-types"));return f.hasValue(g,"types","Application Types data not found")});function e(g){return a()[g]||g}return{BAMBOO:"bamboo",BITBUCKET:"stash",CONFLUENCE:"confluence",FECRU:"fecru",JIRA:"jira",REFAPP:"refapp",STASH:"stash",getTypeName:e}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-util-js', location = 'applinks/internal/non-amd/rest-service.js' */
(function(a,c,b){AppLinks=AJS.$.extend(window.AppLinks||{},{Event:{NAMESPACE:"applinks"},I18n:a,Docs:c});AppLinks.Event=AJS.$.extend(window.AppLinks.Event,b);if(AJS.AppLinksInitialisationBinder){AppLinks.initialisationBinder=AJS.AppLinksInitialisationBinder}else{AppLinks.initialisationBinder=function(d){AJS.toInit(d)}}AppLinks.initialisationBinder(function(){var d=AJS.$;AppLinks=d.extend(window.AppLinks||{},{failure:function(g){if(g.status==401){window.location.reload()}else{var e=AppLinks.parseError(g);var f=d(".page-error");if(f.length>0){f.html(e).fadeIn("slow")}else{alert("REST request failed: "+e)}}},jsonRequest:function(f,g,h,i,e){if(h){h=JSON.stringify(h)}d(".page-error").fadeOut("fast");if(!e){e=AppLinks.failure}return jQuery.ajax({url:f,type:g,data:h,dataType:"json",contentType:"application/json; charset=utf-8",cache:false,success:i,error:e})},xmlRequest:function(f,g,h,i,e){if(h){h=JSON.stringify(h)}d(".page-error").fadeOut("fast");if(!e){e=AppLinks.failure}return jQuery.ajax({url:f,type:g,data:h,dataType:"xml",contentType:"application/xml; charset=utf-8",cache:false,success:i,error:e})},parseError:function(h){var f;try{f=JSON.parse(h.responseText)}catch(g){if(h.statusText){return f=h.statusText}else{return h}}if(f.message){if(d.isArray(f.message)){return f.message.join(" ")}return f.message}else{return h.statusText}},put:function(f,g,h,e){return AppLinks.jsonRequest(f,"PUT",g,h,e)},post:function(f,g,h,e){return AppLinks.jsonRequest(f,"POST",g,h,e)},update:function(f,g,e){AppLinks.put(AppLinks.self_link(f),f,g,e)},get:function(f,g,e){return AppLinks.jsonRequest(f,"GET",null,g,e)},getXml:function(f,g,e){return AppLinks.xmlRequest(f,"GET",null,g,e)},self_link:function(g){for(var e=0,h=g.link.length;e<h;e++){var f=g.link[e];if(f.rel=="self"){return f.href}}throw"No self-link found"},del:function(h,g,f){var e;if(typeof(h)=="string"){e=h}else{e=AppLinks.self_link(h)}return AppLinks.jsonRequest(e,"DELETE",null,g,f)},SPI:d.extend({},{API_VERSION:"1.0",REST_RESOURCE_URL:AJS.contextPath()+"/rest/applinks/",BASE_URL:AJS.contextPath()+"/rest/applinks/1.0",OAUTH_REST_RESOURCE_URL:AJS.contextPath()+"/rest/applinks-oauth/",OAUTH_BASE_URL:AJS.contextPath()+"/rest/applinks-oauth/1.0",setApiVersion:function(e){AppLinks.SPI.API_VERSION=e;AppLinks.SPI.setBaseUrl(AppLinks.SPI.REST_RESOURCE_URL+AppLinks.SPI.API_VERSION)},setBaseUrl:function(e){AppLinks.SPI.BASE_URL=e},setOAuthBaseUrl:function(e){AppLinks.SPI.OAUTH_BASE_URL=e},getRemoteRestBaseUrl:function(e){return e+"/rest/applinks/"+AppLinks.SPI.API_VERSION},getRemotePluginServletBaseUrl:function(e){return e+"/plugins/servlet"},getAllLinks:function(g,f){var e=AppLinks.SPI.BASE_URL+"/applicationlink";return AppLinks.get(e,g,f)},getAllLinksWithAuthInfo:function(g,f){var e=AppLinks.SPI.BASE_URL+"/listApplicationlinks";return AppLinks.get(e,g,f)},getApplicationLinkState:function(h,g,f){var e=AppLinks.SPI.BASE_URL+"/listApplicationlinkstates/id/"+h;return AppLinks.get(e,g,f)},getLinksOfType:function(g,h,f){var e=AppLinks.SPI.BASE_URL+"/applicationlink/type/"+g;return AppLinks.get(e,h,f)},tryToFetchManifest:function(g,h,f){var e=AppLinks.SPI.BASE_URL+"/applicationlinkForm/manifest.json?url="+encodeURIComponent(g);return AppLinks.get(e,h,f)},getManifestFor:function(h,g,f){var e=AppLinks.SPI.BASE_URL+"/manifest/"+h+".json";return AppLinks.get(e,g,f)},getLocalManifest:function(g,f){var e=AppLinks.SPI.BASE_URL+"/manifest.json";return AppLinks.get(e,g,f)},getRemoteManifest:function(g,h,f){var e=AppLinks.SPI.getRemoteRestBaseUrl(g)+"/manifest.json";return AppLinks.get(e,h,f)},getRemoteOAuthConsumerInfo:function(g,h,f){var e=AppLinks.SPI.getRemotePluginServletBaseUrl(g)+"/oauth/consumer-info";return AppLinks.getXml(e,h,f)},getApplinkStatus:function(h,g,f){var e=AppLinks.SPI.BASE_URL+"/status/"+h;return AppLinks.get(e,g,f)},createStaticUrlAppLink:function(h,g,f){var e=AppLinks.SPI.BASE_URL+"/applicationlinkForm/createStaticUrlAppLink?typeId="+h;return AppLinks.post(e,null,g,f)},createLink:function(l,j,n,f,k,m,h,o,g){var e=AppLinks.SPI.BASE_URL+"/applicationlinkForm/createAppLink";var i={applicationLink:l,username:j,password:n,createTwoWayLink:f,customRpcURL:k,rpcUrl:m,configFormValues:h};return AppLinks.post(e,i,o,g)},createLinkWithOrphanedTrust:function(l,j,o,f,k,m,h,n,p,g){var e=AppLinks.SPI.BASE_URL+"/applicationlinkForm/createAppLink";var i={applicationLink:l,username:j,password:o,createTwoWayLink:f,customRpcURL:k,rpcUrl:m,configFormValues:h,orphanedTrust:n};return AppLinks.post(e,i,p,g)},verifyTwoWayLinkDetails:function(e,k,l,h,j,g){var f=AppLinks.SPI.BASE_URL+"/applicationlinkForm/details";var i={username:l,password:h,remoteUrl:e,rpcUrl:k};return AppLinks.post(f,i,j,g)},getApplicationLinkInfo:function(g,h,f){var e=AppLinks.SPI.BASE_URL+"/applicationlinkInfo/id/"+g;return AppLinks.get(e,h,f)},deleteLink:function(i,e,h,g){var f=AppLinks.SPI.BASE_URL+"/applicationlink/"+i.id;if(e){f+="?reciprocate=true"}return AppLinks.del(f,h,g)},makePrimary:function(g,f){var e=AppLinks.SPI.BASE_URL+"/applicationlink/primary/"+g.id;return AppLinks.post(e,null,f)},relocate:function(j,h,e,i,g){var f=AppLinks.SPI.BASE_URL+"/relocateApplicationlink/"+j.id+"?newUrl="+encodeURIComponent(h)+"&nowarning="+(e?"true":"false");return AppLinks.post(f,null,i,g)},legacyUpgrade:function(h,g,f){var e=AppLinks.SPI.BASE_URL+"/upgrade/legacy/"+h.id;return AppLinks.post(e,null,g,f)},ualUpgrade:function(i,e,h,g){var f=AppLinks.SPI.BASE_URL+"/upgrade/ual/"+i.id;return AppLinks.post(f,e,h,g)},getEntityTypesForApplicationType:function(h,g,f){var e=AppLinks.SPI.BASE_URL+"/type/entity/"+h;return AppLinks.get(e,g,f)},getLocalEntitiesWithLinksToApplication:function(e,h,g){var f=AppLinks.SPI.BASE_URL+"/entitylink/localEntitiesWithLinksTo/"+e+".json";return AppLinks.get(f,h,g)},getEntityLinksForApplication:function(e,h,g){var f=AppLinks.SPI.BASE_URL+"/entities/"+e+".json";AppLinks.get(f,h,g)},getEntityLinksForApplicationUsingAnonymousAccess:function(e,h,g){var f=AppLinks.SPI.BASE_URL+"/entities/anonymous/"+e+".json";return AppLinks.get(f,h,g)},createNonUalEntityLink:function(n,i,f,h,l,g,m,k){var e=AppLinks.SPI.BASE_URL+"/entitylink/"+n+"/"+i+"?reciprocate=false";var j={applicationId:f,typeId:h,key:l,name:g,isPrimary:false};return AppLinks.put(e,j,m,k)},createEntityLink:function(j,i,f,e,k,h){var g=AppLinks.SPI.BASE_URL+"/entitylink/"+j+"/"+i+"?reciprocate=";g+=(e?"true":"false");return AppLinks.put(g,f,k,h)},getConfiguredEntityLinks:function(h,g,i,f){var e=AppLinks.SPI.BASE_URL+"/entitylink/primaryLinks/"+h+"/"+g+".json";return AppLinks.get(e,i,f)},deleteEntityLink:function(j,i,f,e,k,h){var g=AppLinks.SPI.BASE_URL+"/entitylink/"+j+"/"+i+"?typeId="+f.typeId+"&key="+f.key+"&applicationId="+f.applicationId+"&reciprocate="+e;return AppLinks.del(g,k,h)},makePrimaryEntityLink:function(i,h,e,j,g){var f=AppLinks.SPI.BASE_URL+"/entitylink/primary/"+i+"/"+h+"?typeId="+e.typeId+"&key="+e.key+"&applicationId="+e.applicationId;return AppLinks.post(f,null,j,g)},canDeleteAppLink:function(h,g,f){var e=AppLinks.SPI.BASE_URL+"/permission/reciprocate-application-delete/"+h;return AppLinks.get(e,g,f)},canDeleteEntityLink:function(i,h,e,j,g){var f=AppLinks.SPI.BASE_URL+"/permission/reciprocate-entity-delete/"+e.applicationId+"/"+i+"/"+h+"/"+e.typeId+"/"+e.key;return AppLinks.get(f,j,g)},canCreateReciprocateEntityLink:function(h,g,f){var e=AppLinks.SPI.BASE_URL+"/permission/reciprocate-entity-create/"+h;return AppLinks.get(e,g,f)},processPermissionCode:function(f){var e={noPermission:function(){},missing:function(){},credentialsRequired:function(g){},authenticationFailed:function(g){},noAuthentication:function(g){},noAuthenticationConfigured:function(){},noConnection:function(){},allowed:function(){},unrecognisedCode:function(g){},updateView:function(i,h,g){}};if(!f){f={}}f=d.extend(e,f);return function(h){var g=h.code;if(g=="NO_PERMISSION"){f.noPermission()}else{if(g=="MISSING"){f.missing()}else{if(g=="CREDENTIALS_REQUIRED"){f.credentialsRequired(h.url)}else{if(g=="AUTHENTICATION_FAILED"){f.authenticationFailed(h.url)}else{if(g=="NO_AUTHENTICATION"){f.noAuthentication(h.url)}else{if(g=="NO_AUTHENTICATION_CONFIGURED"){f.noAuthenticationConfigured()}else{if(g=="NO_CONNECTION"){f.noConnection()}else{if(g=="ALLOWED"){f.allowed()}else{f.unrecognisedCode(h.code)}}}}}}}}}},addAuthenticationTrigger:function(g,e,f){if(!f){f={}}if(typeof f.onSuccess=="undefined"){f.onSuccess=function(){location.reload()}}if(typeof f.onFailure=="undefined"){f.onFailure=function(){return true}}d(g).unbind("click");d(g).click(function(){if(f.before){f.before()}AppLinks.authenticateRemoteCredentials(e,f.onSuccess,f.onFailure)})},deleteOrphanedTrust:function(i,g,h,f){var e=AppLinks.SPI.BASE_URL+"/orphaned-trust/"+g+"/"+i;return AppLinks.del(e,h,f)},getOrphanedTrust:function(g,f){var e=AppLinks.SPI.BASE_URL+"/orphaned-trust/";return AppLinks.get(e,g,f)},showCreateEntityLinkSuggestion:function(){return true},getApplicationLink:function(h,g,f){var e=AppLinks.SPI.BASE_URL+"/applicationlink/"+h;return AppLinks.get(e,g,f)},createApplicationLink:function(h,f,k,l,e,m,i){var g=AppLinks.SPI.BASE_URL+"/applicationlink";var j={id:h,name:f,rpcUrl:k,displayUrl:l,typeId:e};return AppLinks.put(g,j,m,i)},createConsumer:function(g,p,f,o,k,n,i,r,j,m,q,h){var e=AppLinks.SPI.OAUTH_BASE_URL+"/applicationlink/"+g+"/authentication/consumer";var l={key:p,name:f,description:o,sharedSecret:k,publicKey:n,outgoing:m,twoLOAllowed:i,executingTwoLOUser:r,twoLOImpersonationAllowed:j};return AppLinks.put(e,l,q,h)},createConsumerAutoConfigure:function(l,k,h,e,j,g){var f=AppLinks.SPI.OAUTH_BASE_URL+"/applicationlink/"+l+"/authentication/consumer?autoConfigure=true";var i={twoLOAllowed:k,executingTwoLOUser:h,twoLOImpersonationAllowed:e};return AppLinks.put(f,i,j,g)},registerProvider:function(k,j,g,i,f){var e=AppLinks.SPI.BASE_URL+"/applicationlink/"+k+"/authentication/provider";var h={config:g,provider:j};return AppLinks.put(e,h,i,f)},enableFeature:function(g,h,f){var e=AppLinks.SPI.BASE_URL+"/features/"+g;return AppLinks.put(e,{},h,f)},disableFeature:function(g,h,f){var e=AppLinks.SPI.BASE_URL+"/features/"+g;return AppLinks.del(e,h,f)}},(window.AppLinks&&window.AppLinks.SPI)||{})});AppLinks.UI={showInfoBox:function(e){d(".aui-message.success").remove();AppLinks.UI.createMessage("success",e,"page-info")},hideInfoBox:function(){d(".aui-message.success").remove()},showErrorBox:function(e){AppLinks.UI.createMessage("error",e,"page-error")},hideErrorBox:function(){d(".aui-message.error").remove()},showWarningBox:function(f){if(d.isArray(f)&&f.length>0){var e=d("<ul></ul>");d(f).each(function(h){e.append(d("<li/>",{text:f[h]}))});var g=d('<div class="page-warning"></div>').append(e);AppLinks.UI.createMessage("warning",g.html(),"page-warning")}else{AppLinks.UI.createMessage("warning",f,"page-warning")}},hideWarningBox:function(){d(".aui-message.warning").remove()},shortenString:function(f,e){if(f.length>e){f=f.substring(0,e)+"..."}return f},createMessage:function(f,g,e){var h=d('<div class="'+e+'">');h.html(g);AJS.messages[f](".applinks-message-bar",{title:"",body:h.wrap("<div></div>").parent().html(),closeable:true});d(document).trigger(AppLinks.Event.Legacy.MESSAGE_BOX_DISPLAYED)},displayValidationErrorMessages:function(e,g,f){if(d.isArray(f)){d(f).each(function(k,j){var l=d('<div class="error applinks-error">');l.text(j);d(g).find("."+e).append(l)})}else{if(typeof f!="undefined"){var h=d('<div class="error applinks-error">');h.text(f.toString());d(g).find("."+e).append(h)}}},displayValidationError:function(e,f,g){return function(l){if(l.status==401){window.location.reload();return}d(".applinks-error").remove();d(".loading").remove();var j=l.responseText;var k=d.parseJSON(j);var i=k.message;if(typeof k.fields=="undefined"){AppLinks.UI.displayValidationErrorMessages(e,f,i)}else{var h=k.fields;d(h).each(function(m){var n=d('<div class="error applinks-error" id="'+h[m]+'-error">');n.text(i[m]);if(d(f).find("."+h[m]).length>0){n.insertAfter(d(f).find("."+h[m]))}else{n.insertAfter(d(f).find("."+e).append(n))}})}d(f).find("."+e).addClass("fully-populated-errors");if(g){g()}}},addProtocolToURL:function(e){var h=d.trim(e);var g=h.toLowerCase();var f=false;if(g.length>=7){if(g.substring(0,7).indexOf("http")!=-1){f=true}}if(!f){h="http://"+h}return h},prettyJoin:function(f,i,h){if(!h){h="\u0438"}var e=f.length;var g="";d.each(f,function(j,k){if(j==(e-1)&&e>1){g+=" "+h+"  "+i(k)}else{g+=i(k);if(j+2<e){g+=", "}}});return g},showLoadingIcon:function(e){d('<span class="loading">&nbsp;</span>').insertAfter(e)},hideLoadingIcon:function(e){d(e).next(".loading").remove()},findUrl:function(h){var g=undefined;var i=h.toLowerCase();var f=i.indexOf("http:");if(f==-1){f=i.indexOf("https:")}if(f>-1){var e=i.indexOf(" ",f);if(e==-1){e=i.length}g=h.substring(f,e)}return g},findApplicationType:function(e){e=e.toLowerCase();if(e.indexOf("jira")!=-1){return"jira"}else{if(e.indexOf("fisheye")!=-1){return"fecru"}else{if(e.indexOf("confluence")!=-1){return"confluence"}else{if(e.indexOf("refapp")!=-1){return"refapp"}else{return undefined}}}}},escapeSelector:function(e){return e.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},sanitiseHTML:function(e){var f={"<":"&lt;",'"':"&quot;","&":"&amp;"};return e.replace(/[<"&]/g,function(g){return f[g]})},refreshOrphanedTrust:function(){var e=function(f){d("tr.orphaned-trust-row").each(function(){var l=d(this);var m=l.attr("data-id");var j=l.attr("data-type");var h=false;for(var g=0;g<f.orphanedTrust.length;g++){var k=f.orphanedTrust[g];if(m==k.id&&j==k.type){h=true;break}}if(!h){l.remove();if(f.orphanedTrust.length==0){d(".orphaned-trust-warning").hide()}}})};AppLinks.SPI.getOrphanedTrust(e)},removeCssClass:function(e,f){d(e).removeClass(function(h,j){var i=j.split(" ");var g="";d.each(i,function(k,l){if(l.indexOf(f)!=-1){g=l}});return g})}};(function(){var e=d({});d.each(["bind","unbind","trigger"],function(f,g){AppLinks.UI[g]=function(){return e[g].apply(e,arguments)}})})();d(document).trigger(AppLinks.Event.PREREADY);d(document).trigger(AppLinks.Event.READY)})})(require("applinks/common/i18n"),require("applinks/common/docs"),require("applinks/common/events"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-util-js', location = 'applinks/internal/non-amd/autocomplete.js' */
AJS.$(document).bind(AppLinks.Event.READY,function(){AppLinks.autoComplete={cacheManager:function(c){var a={},b=[],c=c||30;return{get:function(d){return a[d]},put:function(d,e){a[d]=e;b.push(d);if(b.length>c){delete a[b.shift()]}},clear:function(){a={};b=[]}}}};(function(d){var c=function(f){AJS.log("InputDrivenDropDown: truncating text");var h=f.$.closest(".aui-dropdown").width(),g=20;d("a span:not(.icon)",f.$).each(function(){var j=d(this),i=AJS("var","&#8230;"),l=i.width(),k=false;j.wrapInner(d("<em>"));d("em",j).each(function(){var m=d(this);m.show();if(this.offsetLeft+this.offsetWidth>h){var t=this.childNodes,s=false;for(var o=t.length-1;o>=0;o--){var p=t[o],n=1,r=(p.nodeType==3)?"nodeValue":"innerHTML",q=p[r];do{if(n<=q.length){p[r]=q.substr(0,q.length-n++)}else{break}}while(this.offsetLeft+this.offsetWidth+l>h-g);if(n<=q.length){s=true;break}}if(s){k=true}else{m.hide()}}});if(k){j.append(i);this.elpss=i}})};var b=function(f,l){if(!l.length||!l[0]){return}AJS.log("InputDrivenDropDown: highlighting tokens");for(var h=0,j=l.length;h<j;h++){var g=l[h];l[h]=g?g.replace(/[\.\*\+\?\|\(\)\[\]{}\\]/g,"\\$"):""}var k=new RegExp("("+l.join("|")+")","gi");d("li a:not(.dropdown-prevent-highlight) span",f.$).each(function(){var m=d(this),i=m.html().replace(k,"<strong>$1</strong>");m.html(i)})};var e=function(j,g){var i=j.options,h=j.dd;if(h){h.hide();h.$.remove()}i.ajsDropDownOptions=i.ajsDropDownOptions||{};if(i.ajsDropDownOptions&&!i.ajsDropDownOptions.alignment){i.ajsDropDownOptions.alignment="left"}i.ajsDropDownOptions.selectionHandler=i.ajsDropDownOptions.selectionHandler||function(l,k){if(l.type!="click"){l.preventDefault();d("a",k).click();document.location=d("a",k).attr("href")}};i.ajsDropDownOptions.displayHandler=function(k){return AJS.escapeHtml(k.name)};var f=j.dd=new AJS.dropDown(g.matrix,i.ajsDropDownOptions)[0];if(i.ajsDropDownOptions&&i.ajsDropDownOptions.className){f.$.addClass(i.ajsDropDownOptions.className)}if(i.dropdownPlacement){i.dropdownPlacement(f.$)}else{AJS.log("No dropdownPlacement function specified. Appending dropdown to the body.");d("body").append(f.$)}b(f,g.queryTokens||[g.query]);c(f);if(i.dropdownPostprocess){i.dropdownPostprocess(f.$)}f.show(j._effect);if(typeof i.onShow=="function"){i.onShow.call(f,f.$)}return f};function a(g,f){this._effect="appear";this._timer=null;this.id=g;this.options=f;this.inactive=false;this.busy=false;this.cacheManager=AppLinks.autoComplete.cacheManager()}a.prototype.clearCache=function(){this.cacheManager.clear()};a.prototype.change=function(h,g){var f=this;if(h!=f._value||g){f._value=h;f.busy=false;clearTimeout(f._timer);if(g||(/\S{0,}/).test(h)){var i=f.cacheManager.get(h);if(i){e(f,i)}else{f.busy=true;f._timer=setTimeout(function(){f.options.getDataAndRunCallback.call(f,h,f.show)},200)}}else{f.dd&&f.dd.hide()}}};a.prototype.dropDownLength=function(){return this.dd.links?this.dd.links.length:0};a.prototype.dropDownItem=function(f){return this.dropDownLength()>f?this.dd.links[f]:null};a.prototype.hide=function(){this.dd&&this.dd.hide()};a.prototype.remove=function(){var f=this.dd;if(f){this.hide();f.$.remove()}this.inactive=true;this.options.onDeath&&this.options.onDeath()};a.prototype.show=function(g,i,h){if(this.inactive){AJS.log("Quick search abandoned before server response received, ignoring. "+this);return}var f={matrix:g,query:i,queryTokens:h};this.cacheManager.put(i,f);e(this,f);this.busy=false};AppLinks.inputDrivenDropdown=function(f){return new a("inputdriven-dropdown",f)}})(jQuery)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-util-js', location = 'js/fecru-compatibility.js' */
if(jQuery!=undefined&&AJS!=undefined){jQuery=AJS.$};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:feature-oauth-dance', location = 'applinks/internal/feature/oauth/oauth-callback.js' */
define("applinks/feature/oauth-callback",["applinks/lib/window","applinks/lib/lodash","applinks/common/preconditions"],function(c,a,d){function b(e){d.nonEmptyString(e,"url");this._url=e}b.prototype.source=function(e){d.hasValue(e,"source");this._source=e;return this};b.prototype.onSuccess=function(e){d.isFunction(e,"onSuccess");this._onSuccess=e;return this};b.prototype.onFailure=function(e){d.isFunction(e,"onFailure");this._onFailure=e;return this};b.prototype.success=function(){this.oauthWindow.close();if(this._onSuccess){this._onSuccess(this._source)}delete c.oauthCallback};b.prototype.failure=function(){this.oauthWindow.close();if(this._onFailure){this._onFailure(this._source)}delete c.oauthCallback};b.prototype.open=function(){c.oauthCallback=this;this.oauthWindow=c.open(this._url,"com_atlassian_applinks_authentication")};return b});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:feature-oauth-dance', location = 'applinks/internal/feature/oauth/oauth-dance.js' */
define("applinks/feature/oauth-dance",["applinks/lib/console","applinks/lib/jquery","applinks/lib/lodash","applinks/lib/window","applinks/common/events","applinks/common/preconditions","applinks/feature/oauth-callback"],function(a,f,c,e,b,h,d){function g(j,i){this._scope=j||e.document;this._selector=i}g.prototype.onSuccess=function(i){h.isFunction(i,"onSuccess");this._onSuccess=i;return this};g.prototype.onFailure=function(i){h.isFunction(i,"onFailure");this._onFailure=i;return this};g.prototype.defaultSuccess=function(){return this.onSuccess(function(){e.location.reload()})};g.prototype.defaultFailure=function(){return this.onFailure(function(){return true})};g.prototype.initialize=function(){var i=this;if(this._selector){f(this._scope).on("click",this._selector,function(j){j.preventDefault();i._open(f(this))})}else{f(this._scope).on("click",function(j){j.preventDefault();i._open(f(this))})}};g.prototype.start=function(){var j=f(this._scope);var i=this._selector?j.find(this._selector):j;this._open(i)};g.prototype._open=function(i){if(i.length!==1){a.warn("Could not trigger OAuth dance, the source is not a single HTML element: "+i);return}var j=i.attr("data-authorisation-uri");if(j){this._onSuccess||this.defaultSuccess();this._onFailure||this.defaultFailure();new d(j).source(i).onSuccess(this._onSuccess).onFailure(this._onFailure).open()}else{a.warn("Could not trigger OAuth dance, data-authorisation-uri missing for: "+i)}};return g});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.applinks.applinks-plugin:applinks-oauth-ui', location = 'js/oauth-dialog.js' */
(function(c,a,b){AppLinks.authenticateRemoteCredentials=function(d,f,e){c(".applinks-error").remove();new b(d).onSuccess(f).onFailure(e).open()}})(require("applinks/lib/jquery"),require("applinks/common/events"),require("applinks/feature/oauth-callback"));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:common', location = 'util/retry-caller.js' */
define("confluence/jim/util/retry-caller",["ajs","jquery","underscore"],function(b,d,c){var a=function(g,p){p=p||{};var h=p.args;var j=(typeof p.tester==="function")?p.tester:function(){return true};var i=p.delays||[0.1,0.3,0.5,0.7,1];var l=i.length;var e=p.name||"";var k=d.Deferred(),o=k.promise();var f=p.context||k;var n=0;var m=function(){if(n===l){return k.rejectWith(f,[f,"exceed-maximum-called-times",""])}var r=i[n++];var q=function(){d.when(g.apply(f,h)).then(function(){k.notify.apply(f,arguments);if(j.apply(f,arguments)){m()}else{k.resolveWith(f,arguments)}},function(){k.rejectWith(f,arguments)})};c.delay(q,r)};m();return o};return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:common', location = 'util/common.js' */
AJS.JiraIssues={Remote:{}};var appLinksI18n={entries:{}};jQuery(document).ready(function(){AJS.JiraIssues=jQuery.extend(AJS.JiraIssues||{},{bindOAuthLink:function(c,f){var e={onSuccess:function(){f()},onFailure:function(){}};var d=c.attr("href");c.click(function(g){AppLinks.authenticateRemoteCredentials(d,e.onSuccess,e.onFailure);g.preventDefault()})},getOAuthRealm:function(f){var d=f.getResponseHeader("WWW-Authenticate")||"";var c=/OAuth realm\=\"([^\"]+)\"/;var e=c.exec(d);if(e){return e[1]}else{return null}}});jQuery("a.static-oauth-init").each(function(){AJS.JiraIssues.bindOAuthLink(jQuery(this),function(){window.location.reload()})});jQuery("a.anonymous-init").each(function(f,e){var c=encodeURIComponent(window.location.pathname.replace(Confluence.getContextPath(),""));var d=Confluence.getContextPath()+"/login.action?os_destination="+c;AJS.$(e).attr("href",d)});var a=function(j){var e=AJS.JiraIssues.Remote[j];var h="";for(var g=0;g<e.length;g++){h=h+(e[g].key+(g<e.length-1?",":""))}var d=function(l){var i="issuekey in ("+l+")";var m="/sr/jira.issueviews:searchrequest-xml/temp/SearchRequest.xml?jqlQuery="+encodeURIComponent(i)+"&returnMax=true";var k=contextPath+"/plugins/servlet/issue-retriever?appId="+j+"&url="+encodeURIComponent(m)+"&columns=summary&columns=type&columns=resolution&columns=status";return k};var f=function(k){var i=AJS.$("item",k);i.each(function(){var u=AJS.$("link",this).text();var v=AJS.$("key",this).text();var r=AJS.$("summary",this).text();var s=AJS.$("type",this);var m=AJS.$("resolution",this);var w=m.attr("id")!="-1";var o=AJS.$("status",this);var n=AJS.$(".unknown-jira-issue."+v);for(var p=0;p<n.length;p++){var t=AJS.$("<a style=\"background-image: url('"+s.attr("iconUrl")+'\')" href="'+u+'"></a>');t.text(v);var l=AJS.$('<span class="jira-status"></span>');l.text(o.text().toUpperCase());var q=AJS.$('<span class="jira-issue'+(w?" resolved":"")+'" ></span>');q.append(t);q.append(document.createTextNode(" - "+r+" - "));q.append(l);AJS.$(n[p]).replaceWith(q)}})};var c=d(h);AJS.$.ajax({url:c,success:f,error:function(l){if(l.status==401){var k=AJS.JiraIssues.getOAuthRealm(l);if(k){var i={};AJS.$(e).each(function(){if(!i[this.key]){i[this.key]=true;var m=AJS.$('<span class="oauth-msg"> - <a class="oauth-init" href="'+k+'">'+"\u0410\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f"+"</a> "+"\u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u044b"+"</span>");AJS.$(".unknown-jira-issue."+this.key).addClass("single-issue-oauth").append(m)}});AJS.JiraIssues.bindOAuthLink(AJS.$(".single-issue-oauth a.oauth-init"),function(){window.location.reload()})}}else{if(l.status==400&&e.length>1){AJS.$(e).each(function(){var m=this.key;var n=d(m);AJS.$.ajax({url:n,success:f,error:function(p){var o=AJS.$(".unknown-jira-issue."+m);o.removeClass("single-issue-oauth");AJS.$(".oauth-msg",o).remove();o.addClass("jira-error")}})})}}}})};AJS.$(".unknown-jira-issue").each(function(e,f){var d=AJS.$(f);var g=d.attr("data-app-link");var c=d.attr("data-key");AJS.JiraIssues.Remote[g]=AJS.JiraIssues.Remote[g]||[];AJS.JiraIssues.Remote[g].push({key:c})});for(var b in AJS.JiraIssues.Remote){a(b)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.extra.jira:web-resources', location = 'templates/extra/jira/jiraIssues.js' */
jQuery(document).ready(function(){var a=jQuery.extend(window.JiraIssues||{},{ADG_ENABLED:AJS.Meta.getNumber("build-number")>=4000,ADG_FONT_SIZE_OVER_FLEXIGRID_FONT_SIZE_RATIO:14/11,fixMenusShowingUnderWidgetInIE:function(){if(jQuery.browser.msie){jQuery("ul.ajs-menu-bar li.ajs-menu-item").each(function(){jQuery(this).hover(function(){jQuery("div.ajs-drop-down",jQuery(this)).parents().each(function(){var c=jQuery(this);var b=c.css("position");if(b&&b!="auto"){c.addClass("ajs-menu-bar-z-index-fix-for-ie")}})},function(){jQuery("div.ajs-drop-down",jQuery(this)).parents().removeClass("ajs-menu-bar-z-index-fix-for-ie")})})}},onSuccessFunction:function(d){if(!jQuery("fieldset input[name='height']",d).length){var b=jQuery(".bDiv table[id^='jiraissues_table']",d)[0];var e=b.grid;var c=b.clientHeight+jQuery(".hDiv",d)[0].clientHeight;jQuery(".bDiv",d).css("height",c+"px");e.options.height=c;e.fixHeight(c)}},onErrorFunction:function(h,c,b,n,f){var o=jQuery("#"+c);var g=b+": ";if(n.status=="200"){g+=f}else{g+=n.responseText}var i=n.getResponseHeader("WWW-Authenticate")||"";if(n.status=="401"&&i.indexOf("OAuth")!=-1){var m=/OAuth realm\=\"([^\"]+)\"/;var e=m.exec(i);if(e){o.empty();a.bigMessageFunction(c,'<a class="oauth-init" href="'+e[1]+'">'+"\u0410\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f"+"</a> "+"\u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0431\u043b\u0435\u043c"+"</span>");jQuery(".bmDiv",h).css({"z-index":2});var j={onSuccess:function(){window.location.reload()},onFailure:function(){}};var l=jQuery(".oauth-init",o.parent());var d=l.attr("href");l.click(function(p){AppLinks.authenticateRemoteCredentials(d,j.onSuccess,j.onFailure);p.preventDefault()});AJS.$(".gBlock").remove()}}else{if(n.status=="400"){a.bigMessageFunction(c,"\u0421\u0435\u0440\u0432\u0435\u0440 Jira \u043d\u0435 \u0441\u043c\u043e\u0433 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u043f\u043e\u0438\u0441\u043a. \u042d\u0442\u043e \u043c\u043e\u0436\u0435\u0442 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043d\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0443 \u0441 \u0441\u0438\u043d\u0442\u0430\u043a\u0441\u0438\u0441\u043e\u043c \u044d\u0442\u043e\u0439 \u043c\u0430\u043a\u0440\u043e\u043a\u043e\u043c\u0430\u043d\u0434\u0430. \u041a\u0440\u043e\u043c\u0435 \u0442\u043e\u0433\u043e, \u0435\u0441\u043b\u0438 \u044d\u0442\u0430 \u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u043a\u043b\u044e\u0447\u0438 \u0437\u0430\u0434\u0430\u0447, \u0442\u043e \u0443 \u0432\u0430\u0441 \u043c\u043e\u0436\u0435\u0442 \u043d\u0435 \u0431\u044b\u0442\u044c \u043f\u0440\u0430\u0432 \u043d\u0430 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043e\u0434\u043d\u043e\u0439 \u0438\u0437 \u0437\u0430\u0434\u0430\u0447.")}else{var k=jQuery("iframe.jiraissues_errorMsgSandbox",h);k.load(function(){var r=this.contentWindow||this.contentDocument;var q=jQuery((r.document?r.document:r).body);jQuery("a",q).each(function(){this.target="_top"});jQuery(".pPageStat",h).empty().text(q.text());var p=jQuery("div.bmDiv",h)[0];k.removeClass("hidden");k.css({height:p.clientHeight+"px",width:p.clientWidth+"px"})});k[0].src=jQuery("fieldset input[name='retrieverUrlHtml']",h).val();a.bigMessageFunction(c,k)}}jQuery(h).find(".pReload").removeClass("loading");o[0].grid.loading=false;jQuery(h).find(".pButton").each(function(){jQuery(this).removeClass("pBtnOver");jQuery(this).css({cursor:"default",opacity:"0.3"})});jQuery(h).find("span.pcontrol input").attr("readonly","true")},onReloadFunction:function(b,d,c){jQuery(".bmDiv",d).remove();jQuery(".bmDistance",d).remove();c.onSubmit=function(){a.reloadOnSubmitFunction(b,c);return true}},reloadOnSubmitFunction:function(b,c){c.params=[{name:"useCache",value:false}];c.onSubmit=function(){a.onSubmitFunction(b,c);return true}},onSubmitFunction:function(b,c){c.params=[{name:"useCache",value:b}]},showTrustWarningsFunction:function(d,c){var b=jQuery(d).children(".trusted_warnings");if(c.trustedMessage){b.find("td:last").html(c.trustedMessage);b.css("display","block")}else{b.css("display","none")}},preProcessFunction:function(e,b,d,c,f){if(d){a.showTrustWarningsFunction(e,c)}if(c.total==0){jQuery(".pPageStat",e).html(f);a.bigMessageFunction(b,f);jQuery(".pReload",e).removeClass("loading");return}},bigMessageFunction:function(e,f){var d=jQuery("<div></div>");var b=jQuery("<div></div>");d.addClass("bmDistance");b.addClass("bmDiv");if(typeof f=="string"){b.html("<p><strong>"+f+"</strong></p>")}else{f.appendTo(b)}var c=jQuery("#"+e);c.after(b).after(d)},getParamsFrom:function(c){var b={};c.children("input").each(function(){b[jQuery(this).attr("name")]=jQuery(this).attr("value")});return b},initializeColumnWidth:function(f,p){var d={},m=function(i){return a.ADG_ENABLED?Math.round(i*a.ADG_FONT_SIZE_OVER_FLEXIGRID_FONT_SIZE_RATIO):i};if(!(p&&p.length)){return d}var h=37,n=11,k=f.width()-(h+(p.length*n)),j=false,q=false,o=0,c=m(140);for(var l=0,e=p.length;l<e;l++){var g=p[l].name;switch(g){case"summary":j=true;o++;break;case"description":q=true;o++;break;case"type":o++;d[g]=30;k-=30;break;case"priority":o++;d[g]=50;k-=50;break;case"status":o++;d[g]=m(100);k-=m(100);break;case"key":o++;d[g]=m(90);k-=m(90);break;case"comments":case"attachments":case"version":case"component":case"resolution":o++;d[g]=m(80);k-=m(80);break;default:d[g]=c}}if(j||q){k-=(c*(p.length-o));var b=250;if(j&&q){d.summary=Math.max(k/2,b);d.description=Math.max(k/2,b)}else{if(j){d.summary=Math.max(k,b)}else{d.description=Math.max(k,b)}}}else{if(!j&&!q&&(p.length>o)){c=k/(p.length-o);for(l=0;l<e;l++){if(!{resolution:true,key:true,type:true,priority:true,status:true}[p[l]]){d[p[l]]=c}}}}return d}});a.fixMenusShowingUnderWidgetInIE();jQuery(".jiraissues_table").each(function(f,j){var k=jQuery(j),h=k.children("fieldset"),e=a.getParamsFrom(h),c="jiraissues_table_"+f;k.append('<table id="'+c+'" style="display:none"></table>');k.css("width",e.width);var d=[];h.children(".columns").each(function(l){var m=jQuery(this).hasClass("nowrap");d[l]={display:this.name,name:this.value,nowrap:m,sortable:true,align:"left"}});var b=a.initializeColumnWidth(k,d);jQuery.each(d,function(l,m){m.width=b[m.name]});var g=jQuery("<div></div>");jQuery("<a></a>").attr({rel:"nofollow",href:e.clickableUrl}).text(e.title).appendTo(g);jQuery("#"+c).flexigrid({url:e.retrieverUrlHtml,method:"GET",dataType:"json",colModel:d,sortname:e.sortField,sortorder:e.sortOrder,usepager:true,title:g.html(),page:parseInt(e.requestedPage,10),useRp:false,rp:parseInt(e.resultsPerPage,10),showTableToggleBtn:true,height:(function(){return e.height?parseInt(e.height,10):480})(),onSuccess:function(){a.onSuccessFunction(j)},onSubmit:function(){a.onSubmitFunction(e.useCache,this);return true},preProcess:function(i){a.preProcessFunction(j,c,e.showTrustWarnings,i,e.nomsg);return i},onError:function(m,l,i){a.onErrorFunction(j,c,e.jiraissuesError,m,l,i)},onReload:function(){a.onReloadFunction(e.useCache,j,this);return true},errormsg:e.errormsg,pagestat:e.pagestat,procmsg:e.procmsg,nomsg:e.nomsg})});jQuery(".jiraissues_count").each(function(b,d){var c=jQuery(d);jQuery.ajax({cache:false,type:"GET",url:c.find(".url").text(),data:{useCache:c.find(".use-cache").text(),rp:c.find(".rp").text(),showCount:"true"},success:function(f){var e=c.find(".result");if(f==1){e.text(AJS.format("{0} \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430",f))}else{e.text(AJS.format("{0} \u043f\u0440\u043e\u0431\u043b\u0435\u043c(-\u0430, -\u044b)",f))}e.removeClass("hidden");jQuery(".calculating, .error, .data",c).remove()},error:function(h){var f=jQuery(".error",c).removeClass("hidden"),g=h.getResponseHeader("WWW-Authenticate")||"",j=false;if(h.status===401&&g.indexOf("OAuth")!=-1){var e=/OAuth realm\=\"([^\"]+)\"/,i=e.exec(g);if(i){f.empty().append(AJS.$("<a/>",{href:i[1],"class":"oauth-init"}).text("\u0410\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f").click(function(){AppLinks.authenticateRemoteCredentials(i[1],function(){window.location.reload()},function(){});return false})).append(AJS.$("<span/>",{text:" "+"\u0434\u043b\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0431\u043b\u0435\u043c"}));j=true}}if(!j){f.text(AJS.format(f.text(),h.status))}jQuery(".calculating, .result, .data",c).remove()}})})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.synchrony-interop:synchrony-status-banner-loader', location = '/js/synchrony-down-banner-loader.js' */
require(["ajs","wrm"],function(b,a){b.toInit(function(){!0===a.data.claim("com.atlassian.confluence.plugins.synchrony-interop:synchrony-status-banner-loader.synchrony-status")&&a.require("wrc!synchrony-interop-down-banner")})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.recently-viewed-plugin:quicknav', location = 'js/quicknav/util.js' */
var RYQ=RYQ||{};(function(){RYQ.util={analytics:{trackQuickNavOpen:function(){AJS.trigger("analytics",{name:"recently-viewed-quicknav-open"})},trackQuickNavPageOpen:function(){AJS.trigger("analytics",{name:"recently-viewed-quicknav-click-page"})},trackQuickNavRecentlyDialogOpen:function(){AJS.trigger("analytics",{name:"recently-viewed-quicknav-click-more-recent"})}}}}());
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.recently-viewed-plugin:quicknav', location = 'js/quicknav/quicknav.js' */
var RYQ=RYQ||{};RYQ.QuickNavEntry=Backbone.Model.extend({classNameByType:{blogpost:"content-type-blogpost",page:"content-type-page"},parse:function(a){return{className:this.classNameByType[a.type],name:a.title,href:AJS.contextPath()+a.url,id:a.id,spaceName:a.space,lastSeen:a.lastSeen}}},{escape:function(b){var a=_.map(b,_.clone);_.each(a,function(c){c.name=_.escape(c.name);c.spaceName=_.escape(c.spaceName)});return a}});RYQ.QuickNavEntryCollection=Backbone.Collection.extend({model:RYQ.QuickNavEntry,url:AJS.contextPath()+"/rest/recentlyviewed/1.0/recent?limit=8",search:function(b){var a;if(AJS.$.trim(b).length===0){a=this.models}else{var c=b.match(/[^\s-]+/g);a=this.filter(function(e){var f=e.get("name");var d=f.toLowerCase();return _.all(c,function(g){return d.indexOf(g.toLowerCase())!==-1})})}this.trigger("filter",a);return a},comparator:function(a){return -(a.get("lastSeen"))}});(function(a){if(AJS.DarkFeatures.isEnabled("next.ui.search")){return}RYQ.QuickNav=Backbone.View.extend({initialize:function(){this.moreLink={className:"recently-viewed",href:"#",name:"\u0411\u043e\u043b\u044c\u0448\u0435 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u044b\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446..."};this.$input=a("#quick-search-query");this.makeDropdown();this.addShowHideHandlers();this.getHistory=_.once(this._getHistory);_.bindAll(this,"makeDropdown","addSearchResultBoostingHandler","_getHistory","render","addShowHideHandlers","_getItemsToShow","showQuickResults","onQuickSearch")},makeDropdown:function(){var c=function(d){a("a",d).each(function(){var h=a(this);var e=h.find("span");var g=e.data("properties");var f=g?g.spaceName:null;if(f&&!h.is(".content-type-spacedesc")){h.after(h.clone().attr("class","space-name").html(f));h.parent().addClass("with-space-name")}})};var b=this;this.$dropdown=AJS.inputDrivenDropdown({dropdownPlacement:function(d){b.$input.closest("form").find(".quick-nav-drop-down").append(d)},dropdownPostprocess:function(d){c(d)},ajsDropDownOptions:{className:"recently-viewed-dropdown"}})},addSearchResultBoostingHandler:function(){var b=this;a(window).on("quicksearch.ajax-success",function(g,f){var d=f.url.match("/json/contentnamesearch.action");var c=f.url.match(/rest\/quicknav\/\d\/search/);if(d||c){b.onQuickSearch(g,f)}})},_getHistory:function(){return this.collection.fetch().done(this.addSearchResultBoostingHandler)},render:function(){if(!AJS.Meta.get("remote-user")){return}var b=this.getHistory();b.done(_.bind(function(){if(AJS.dropDown.current==null&&this.collection.length!==0&&this.$input.val().length===0){this.showQuickResults()}},this));var c=this.$input;c.trigger("quick-search-loading-start");b.always(function(){c.trigger("quick-search-loading-stop")})},addShowHideHandlers:function(){var b=this;this.$input.on("focus",function(){b.render()}).on("click",function(c){c.stopPropagation();b.render()}).on("keyup",function(f){var c=f.which===27;var g=f.which===13;var d=a(this).val().length!==0;if(d||c){if(b.$dropdown.dd&&b.$dropdown.dd.$.is(":visible")){b.$dropdown.hide()}}else{if(!g){b.render()}}})},_getItemsToShow:function(){var c=this.collection.toJSON();var b=c.length>0&&c[0].id==AJS.Meta.get("page-id");if(b){c.shift()}return c},showQuickResults:function(){var b=RYQ.QuickNavEntry.escape(this._getItemsToShow());this.$dropdown.show([b,[this.moreLink]],"","");a(".recently-viewed-dropdown").on("click",".recently-viewed",function(c){c.preventDefault();a("#view-user-history-link").click();RYQ.util.analytics.trackQuickNavRecentlyDialogOpen()});a(".recently-viewed-dropdown").on("click",".with-space-name",function(c){RYQ.util.analytics.trackQuickNavPageOpen()});RYQ.util.analytics.trackQuickNavOpen()},onQuickSearch:function(l,f){var o=f.json.query;var c=_.map(this.collection.search(o),function(e){return e.attributes});c=RYQ.QuickNavEntry.escape(c);if(c.length==0){return}var m=f.json.contentNameMatches;var p=-1;for(var g=0;g<m.length;g++){var n=m[g][0].className;if(n=="content-type-blogpost"||n=="content-type-page"){p=g;break}}if(p!=-1){var h=m[p];var b=Math.min(h.length>4?2:6-h.length,c.length);h.unshift.apply(h,_(c).first(b));m[p]=_.uniq(h,function(e){return +e.id});if(h.length>6){var k=6-b;for(var d=k;d>0;d--){h.pop()}}}else{m.unshift(_(c).first(6))}}})}(AJS.$));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.recently-viewed-plugin:app-resources', location = 'templates/recently.soy' */
// This file was automatically generated from recently.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace RY.Templates.
 */

if (typeof RY == 'undefined') { var RY = {}; }
if (typeof RY.Templates == 'undefined') { RY.Templates = {}; }


RY.Templates.body = function(opt_data, opt_ignored) {
  return '<div id="recently-viewed" class="aui-group"><div class="aui-item"><div class="top"><div class="filter"><form class="aui"><input class="filter-input text" type="text" placeholder="' + soy.$$escapeHtmlAttribute('\u0424\u0438\u043b\u044c\u0442\u0440') + '"></form></div></div><div class="pages"></div></div></div>';
};
if (goog.DEBUG) {
  RY.Templates.body.soyTemplateName = 'RY.Templates.body';
}


RY.Templates.pageCollection = function(opt_data, opt_ignored) {
  return '<div class="groups"></div><div class="empty"></div>';
};
if (goog.DEBUG) {
  RY.Templates.pageCollection.soyTemplateName = 'RY.Templates.pageCollection';
}


RY.Templates.pageGroup = function(opt_data, opt_ignored) {
  return '<h3>' + soy.$$escapeHtml(opt_data.title) + '</h3><ul/>';
};
if (goog.DEBUG) {
  RY.Templates.pageGroup.soyTemplateName = 'RY.Templates.pageGroup';
}


RY.Templates.pageItem = function(opt_data, opt_ignored) {
  return '<a href=' + soy.$$escapeHtmlAttributeNospace(soy.$$filterNormalizeUri(opt_data.href)) + '><div class="page-icon"><span class="aui-icon content-type-' + soy.$$escapeHtmlAttribute(opt_data.type) + '">' + soy.$$escapeHtml(opt_data.type) + '</span></div><div class="page-title"><span class="ellipsis" href=' + soy.$$escapeHtmlAttributeNospace(soy.$$filterNormalizeUri(opt_data.href)) + '>' + soy.$$escapeHtml(opt_data.title) + ' - ' + soy.$$escapeHtml(opt_data.space) + '</span></div></a>';
};
if (goog.DEBUG) {
  RY.Templates.pageItem.soyTemplateName = 'RY.Templates.pageItem';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.recently-viewed-plugin:app-resources', location = 'js/util.js' */
var RY=RY||{};(function(){var b=new Date();var c=new Date(b).getTime();var a=new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime();var d=new Date(b.getFullYear(),b.getMonth(),b.getDate()-1).getTime();RY.util=RY.Util={analytics:{trackDialogOpen:function(){AJS.trigger("analytics",{name:"recently-viewed-dialog-open"})},trackPageOpen:function(){AJS.trigger("analytics",{name:"recently-viewed-page-open"})}},quote:function(e){return(e).replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},diffInDays:function(g,f){var e=1000*60*60*24;return Math.floor((g-f)/e)},daysSince:function(e){if(e>=a){return 0}else{if(e>=d){return 1}else{return RY.util.diffInDays(c,e)}}},wait:function(h,j,f){var i,k,e;var g=function(){k=setTimeout(function(){h.apply(f,e)},j)};return function(){e=arguments;var l=new Date();if(i&&l-i<j){clearTimeout(k)}g();i=l}}}}());
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.recently-viewed-plugin:app-resources', location = 'js/page-storage.js' */
var RY=RY||{};RY.RecentPageStorage=function(h){var f="com.atlassian.confluence.plugins.recently.viewed.pages.v1";var d=100;var c={};var b=function(){var i=function(k,l){if(k==="lastSeen"&&_.isString(l)){if(AJS.$.browser.msie){l=l.replace(/\-/g,"/");l=l.replace(/T.*$/,"")}return new Date(l).getTime()}else{return l}};try{c=JSON.parse(h.getItem(f),i)||{}}catch(j){c={}}return c};var g=function(){var i=_.values(c);var k=i.length-d;if(k>0){var j=_.sortBy(i,function(l){return l.lastSeen});_.times(k,function(){var l=j.shift();delete c[l.id]})}};var e=function(){g();try{h.setItem(f,JSON.stringify(c))}catch(i){}};this.addCurrentPage=function(i){if(!(i.id&&i.title)){return}b();a(i);e()};var a=function(i){var j=c[i.id];if(!j){c[i.id]=j={}}j=_.extend(j,i);j.lastSeen=new Date().getTime();j.count=j.count+1||1};this.getPages=function(){return _.values(b())}};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.recently-viewed-plugin:app-resources', location = 'js/filter.js' */
var RY=RY||{};RY.FilterView=Backbone.View.extend({className:"filter",events:{"input .filter-input":"onInput","keyup .filter-input":"onInput","keydown .filter-input":"onKeydown"},initialize:function(){_.bindAll(this,"render","onInput","onKeydown","search");this.navigationEvents=this.options.navigationEvents;this.onInput=RY.util.wait(this.onInput,100,this)},render:function(){this.$input=this.$(".filter-input");return this},onInput:function(a){if(a&&_.contains([37,38,39,40],a.which)){return}this.search()},onKeydown:function(a){switch(a.which){case 13:this.navigationEvents.trigger("select");a.preventDefault();a.stopPropagation();break;case 38:this.navigationEvents.trigger("previous");a.preventDefault();break;case 40:this.navigationEvents.trigger("next");a.preventDefault();break}},search:function(){var a=this.$input.val();this.collection.search(a)}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.recently-viewed-plugin:app-resources', location = 'js/page-model.js' */
var RY=RY||{};(function(){var a;if(typeof ConfluenceMobile!="undefined"){a=ConfluenceMobile.AppData.get("confluence-context-path")}else{a=AJS.contextPath()}RY.Page=Backbone.Model.extend({href:function(){return a+this.get("url")},daysSinceLastSeen:function(){return RY.util.daysSince(this.get("lastSeen"))}});RY.PageCollection=Backbone.Collection.extend({model:RY.Page,url:a+"/rest/recentlyviewed/1.0/recent?includeTrashedContent=true",search:function(c){var b;if(this._queryLength(c)===0){b=this.models}else{var d=c.match(/[^\s-]+/g);b=this.filter(function(g){var h=g.get("title");var f=g.get("space");var e=(h+f).toLowerCase();return _.all(d,function(i){return e.indexOf(i.toLowerCase())!==-1})})}this.trigger("filter",b,c);return b},_queryLength:function(b){if(!String.prototype.trim){return AJS.$.trim(b).length}return b.trim().length},comparator:function(b){return -(b.get("lastSeen"))}})})();
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.recently-viewed-plugin:app-resources', location = 'js/page.js' */
var RY=RY||{};RY.PageView=Backbone.View.extend({tagName:"li",className:"ry-page",template:RY.Templates.pageItem,initialize:function(){_.bindAll(this,"hide","show","render")},hide:function(){this.$el.hide().removeClass("shown")},show:function(){this.$el.show().addClass("shown")},render:function(){var a=this.model.toJSON();a.href=this.model.href();this.$el.html(this.template(a));return this}});RY.PageGroupView=Backbone.View.extend({className:"group",template:RY.Templates.pageGroup,initialize:function(){_.bindAll(this,"hide","hideAll","show","showBorder","showPages","add","render");this.title=this.options.title;this.modelViews={}},hide:function(){this.$el.hide()},hideAll:function(){this.$el.removeClass("border").hide();_.invoke(_.values(this.modelViews),"hide")},show:function(){this.$el.show()},showBorder:function(){this.$el.addClass("border")},showPages:function(a){var c=this;var b=false;_.each(a,function(e){var d=c.modelViews[e.cid];if(d){b=true;d.show()}});if(b){this.show()}return b},add:function(b){var a=new RY.PageView({model:b});this.modelViews[b.cid]=a;this.$list.append(a.render().el)},render:function(){this.$el.html(this.template({title:this.title}));this.$list=this.$("ul");return this}});RY.PageNavigator=function(a,e,c){var g=null;function f(){return a.find("li.shown")}function b(i){pageItems=f();var h=pageItems.index(pageItems.filter(".highlight"));if(g){g.removeClass("highlight")}i+=h;if(i<0){i=pageItems.length-1}if(i>=pageItems.length){i=0}g=pageItems.eq(i);g.addClass("highlight")}function d(){if(!g.length){return}var k=e;var l=k.children();var j=k.height();var i=g.outerHeight(true);var h=g.position().top;if(h<0){if(f().index(g)===0){k.scrollTop(0);return}k.scrollTop(g.offset().top-l.offset().top)}else{if(h>j){k.scrollTop(g.offset().top-l.offset().top-j+i)}}}c.on("select",function(){if(g&&g.is(":visible")){RY.util.analytics.trackPageOpen();var h=g.find(".page-title span").attr("href");window.location=h}},this);c.on("previous",function(){b(-1);d()},this);c.on("next",function(){b(1);d()},this)};RY.PageCollectionView=Backbone.View.extend({template:RY.Templates.pageCollection,events:{"click .page-title a":RY.util.analytics.trackPageOpen},initialize:function(){_.bindAll(this,"checkEmpty","filter","_groupForPage","addOne","showEmptyMessage","clearEmptyMessage","addAll","render");this.modelViews={};this.collection.on("reset",this.addAll,this);this.collection.on("add",this.addOne,this);this.collection.on("filter",this.filter,this)},checkEmpty:function(a,e){var f=this.collection.isEmpty();var b=a.length===0;if(f||b){var c;if(f){c="\u0418\u0437\u0432\u0438\u043d\u0438 \u0434\u0440\u0443\u0436\u0438\u0449\u0435, \u043f\u043e\u0445\u043e\u0436\u0435 \u0447\u0442\u043e \u0442\u044b \u043d\u0435 \u043f\u043e\u0441\u0435\u0442\u0438\u043b \u0435\u0449\u0435 \u043d\u0438 \u043e\u0434\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b."}else{var d=AJS.contextPath()+"/dosearchsite.action?queryString="+encodeURIComponent(e);c="\u041c\u044b \u043d\u0435 \u043d\u0430\u0448\u043b\u0438 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0432 \u0412\u0430\u0448\u0435\u0439 \u0438\u0441\u0442\u043e\u0440\u0438\u0438."+" "+AJS.format("\u003ca href=\u0022{0}\u0022\u003e\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0437\u0434\u0435\u0441\u044c\u003c/a\u003e, \u0447\u0442\u043e\u0431\u044b \u0438\u0441\u043a\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u043e\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u0435.",d)}this.showEmptyMessage(c)}else{this.clearEmptyMessage()}},filter:function(b,d){d=d||"";this.checkEmpty(b,d);var a=[this.$today,this.$yesterday,this.$older];_.invoke(a,"hideAll");var c=[];_.each(a,function(f){var e=f.showPages(b);if(e){c.push(f)}});if(c.length>1){c.pop();_.invoke(c,"showBorder")}},_groupForPage:function(a){var b=a.daysSinceLastSeen();if(b===0){return this.$today}else{if(b===1){return this.$yesterday}else{return this.$older}}},addOne:function(a){var b=this._groupForPage(a);b.add(a)},showEmptyMessage:function(a){this.$(".empty").html(AJS.$("<p>").html(a))},clearEmptyMessage:function(){this.$(".empty").html("")},addAll:function(){this.collection.each(this.addOne)},render:function(){this.$el.html(this.template());this.$today=new RY.PageGroupView({title:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"});this.$yesterday=new RY.PageGroupView({title:"\u0412\u0447\u0435\u0440\u0430"});this.$older=new RY.PageGroupView({title:"\u0420\u0430\u043d\u0435\u0435"});var a=this.$(".groups");a.append(this.$today.render().el);a.append(this.$yesterday.render().el);a.append(this.$older.render().el);_.invoke([this.$today,this.$yesterday,this.$older],"hideAll");return this}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.recently-viewed-plugin:main-resources', location = 'js/main.js' */
var RY=RY||{};AJS.toInit(function(a){a("#view-user-history-link").unbind("click");a("#view-user-history-link").click(function(g){g.preventDefault();var c=new AJS.Dialog({width:600,height:500,id:"recently-viewed-dialog",closeOnOutsideClick:true});var f=a(RY.Templates.body());c.addHeader("\u041d\u0435\u0434\u0430\u0432\u043d\u043e \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u044b\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b");c.addPanel("SinglePanel",f);c.addLink("\u0417\u0430\u043a\u0440\u044b\u0442\u044c",function(e){e.hide()});var d=a("<div>",{"class":"dialog-tip"}).text("\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430: \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u0022g\u0022, \u0437\u0430\u0442\u0435\u043c \u0022r\u0022 \u0432 \u043b\u044e\u0431\u043e\u043c \u043c\u0435\u0441\u0442\u0435 \u0434\u043b\u044f \u0431\u044b\u0441\u0442\u0440\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u044d\u0442\u043e\u043c\u0443 \u043c\u0435\u043d\u044e");c.popup.element.find(".dialog-button-panel").append(d);var i=new RY.PageCollection();var b=new RY.PageCollectionView({collection:i});f.find(".pages").html(b.render().el);c.gotoPanel(0);c.show();var h=a("#recently-viewed-dialog").spin("large");i.fetch({success:function(){h.spinStop();var j=_.extend({},Backbone.Events);var k=new RY.PageNavigator(b.$el,f.parent(),j);var e=new RY.FilterView({collection:i,el:f.find(".filter"),navigationEvents:j}).render();e.search()}});RY.util.analytics.trackDialogOpen()})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.recently-viewed-plugin:main-resources', location = 'js/quicknav/main.js' */
var RYQ=RYQ||{};AJS.toInit(function(){var b=new RYQ.QuickNavEntryCollection();var a=new RYQ.QuickNav({collection:b})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-space-ia:spacemenu-resources', location = 'js/space-menu.js' */
AJS.toInit(function(a){var c=a(Confluence.Templates.BrowseSpaces.spacesLink());a("#space-directory-link").replaceWith(a(c));var b=function(d){var e=a("#space-menu-link-content");e.html(d.template);if(AJS&&AJS.Confluence&&AJS.Confluence.Analytics&&AJS.Confluence.Analytics.setAnalyticsSource){AJS.Confluence.Analytics.setAnalyticsSource(e.find("a"),"spacemenu")}a("#create-space-header").click(function(){AJS.trigger("analytics",{name:"create-space-from-header"});Confluence.SpaceBlueprint.Dialog.launch();return false})};a("#space-menu-link-content").on("aui-dropdown2-show",function(){AJS.trigger("analytics",{name:"open-space-menu"});if(!a("#space-menu-link-content .aui-dropdown2-section")||!a("#space-menu-link-content .aui-dropdown2-section").length){a.ajax({url:Confluence.getContextPath()+"/rest/ia/1.0/spacesmenu",type:"GET",dataType:"json",cache:false,success:b})}return false})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-space-ia:spacemenu-resources', location = 'soy/space-menu.soy' */
// This file was automatically generated from space-menu.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.BrowseSpaces.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.BrowseSpaces == 'undefined') { Confluence.Templates.BrowseSpaces = {}; }


Confluence.Templates.BrowseSpaces.spacesLink = function(opt_data, opt_ignored) {
  return '' + aui.dropdown2.trigger({menu: {id: 'space-menu-link-content'}, id: 'space-menu-link', tagName: 'a', extraClasses: 'aui-nav-link', title: '\u041f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u0430', showIcon: true, text: '\u041f\u0440\u043e\u0441\u0442\u0440\u0430\u043d\u0441\u0442\u0432\u0430'}) + aui.dropdown2.contents({id: 'space-menu-link-content', extraClasses: 'aui-style-default aui-dropdown2-in-header'});
};
if (goog.DEBUG) {
  Confluence.Templates.BrowseSpaces.spacesLink.soyTemplateName = 'Confluence.Templates.BrowseSpaces.spacesLink';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-space-ia:space-ia-analytics', location = 'js/space-ia-analytics.js' */
(function(b){var c=AJS.Confluence.Analytics.setAnalyticsSource;function d(){var h=b(".acs-side-bar");var g=h.find("a:not(.external_link a, #acs-configure-link)");c(g,"sidebar");var f=h.find("[data-collapsed-tooltip='"+AJS.I18n.getText("Pages")+"']");c(f,"sidebar-pages");var j=h.find("[data-collapsed-tooltip='"+AJS.I18n.getText("Blog")+"']");c(j,"sidebar-blogs");var e=h.find(".quick-links-section li:not(.external_link) a");c(e,"spaceshortcut");var i=h.find(".ia-secondary-container a:not(.more-children-link)");if(h.find(".ia-secondary-container").data("tree-type")=="pages"){c(i,"contextnavchildmode")}else{if(h.find(".ia-secondary-container").data("tree-type")=="page-tree"){c(i,"contextnavpagetreemode")}else{c(i,"contextnav")}}}function a(e){return function(){AJS.trigger("analytics",{name:"space-ia-nav",data:{linkType:e}})}}AJS.toInit(function(e){e(".acs-side-bar").find(".ia-secondary-container .more-children-link").click(a("context-nav.more-children"));AJS.bind("sidebar.exit-configure-mode",d);AJS.bind("sidebar.flyout-triggered",function(g,f){a("flyout-triggered."+f.flyout)()});AJS.bind("pagetree-children-loaded",d);d()})})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugin.jslibs:skate-0.12.6', location = 'libs/skate/0.12.6/skate-0.12.6.js' */
(function e(g,c,j){function h(a,k){if(!c[a]){if(!g[a]){var d="function"==typeof require&&require;if(!k&&d)return d(a,!0);if(f)return f(a,!0);d=Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d;}d=c[a]={exports:{}};g[a][0].call(d.exports,function(c){var f=g[a][1][c];return h(f?f:c)},d,d.exports,e,g,c,j)}return c[a].exports}for(var f="function"==typeof require&&require,d=0;d<j.length;d++)h(j[d]);return h})({1:[function(b,g,c){Object.defineProperty(c,"__esModule",{value:!0});"use strict";
c.ATTR_IGNORE="data-skate-ignore";c.types={ANY:"act",ATTR:"a",CLASS:"c",NOATTR:"ct",NOCLASS:"at",NOTAG:"ac",TAG:"t"}},{}],2:[function(b,g){g.exports={get:function(c,b){if(c.__SKATE_DATA)return c.__SKATE_DATA[b]},set:function(c,b,h){c.__SKATE_DATA||(c.__SKATE_DATA={});c.__SKATE_DATA[b]=h;return c}}},{}],3:[function(b,g){function c(c){for(var f=c.length,b=0;b<f;b++){var i=c[b],o=i.addedNodes,i=i.removedNodes;o&&(o.length&&!p(o[0].parentNode))&&d(o);i&&i.length&&a(i)}}var j=function(c){return c&&c.__esModule?
c["default"]:c},h=j(b("./globals")),f=b("./lifecycle"),d=f.initElements,a=f.removeElements,k=j(b("./mutation-observer")),p=b("./utils").getClosestIgnoredElement;g.exports={register:function(a){a&&(k.fixIe(),this.unregister());h.observer||(a=new k(c),a.observe(document,{childList:!0,subtree:!0}),h.observer=a);return this},unregister:function(){h.observer&&(h.observer.disconnect(),h.observer=void 0);return this}}},{"./globals":4,"./lifecycle":5,"./mutation-observer":6,"./utils":9}],4:[function(b,g){window.__skate||
(window.__skate={observer:void 0,registry:{}});g.exports=window.__skate},{}],5:[function(b,g,c){function j(o,c,a){if(k.get(o,c.id+":lifecycle:"+a))return!0;k.set(o,c.id+":lifecycle:"+a,!0);return!1}function h(c,a){if(!j(c,a,"created")){m(c,a.prototype,!0);a.template&&a.template(c);var b=function(a,b){return function(f){if(!b)return a(c,f,c);for(var d=f.target;d&&d!==document&&d!==c.parentNode;){if(i.call(d,b))return a(c,f,d);d=d.parentNode}}};"object"===typeof a.events&&l(a.events,function(a,d){var f,
i;i=d.split(" ");f=i.shift();i=i.join(" ");c.addEventListener(f,b(a,i),!!i&&("blur"===f||"focus"===f))});var f=function(i,f,d,b){var k;a.attributes&&a.attributes[f]&&"function"===typeof a.attributes[f][i]?k=a.attributes[f][i]:a.attributes&&"function"===typeof a.attributes[f]?k=a.attributes[f]:"function"===typeof a.attributes&&(k=a.attributes);k&&k(c,{type:i,name:f,newValue:d,oldValue:b})},d,k=c.attributes,h=[],g=k.length;(new p(function(a){a.forEach(function(a){var c,i=a.attributeName,d=k[i];d&&null===
a.oldValue?c="created":d&&null!==a.oldValue?c="updated":d||(c="removed");f(c,i,d?d.value||d.nodeValue:void 0,a.oldValue)})})).observe(c,{attributes:!0,attributeOldValue:!0});for(d=0;d<g;d++)h.push(k[d]);for(d=0;d<g;d++){var n=h[d];f("created",n.nodeName,n.value||n.nodeValue)}a.created&&a.created(c)}}function f(c){for(var i=c.length,d=0;d<i;d++){var b=c[d];if(!(1!==b.nodeType||b.attributes[a])){for(var k=n.getForElement(b),g=k.length,m=0;m<g;m++){var l=b,p=k[m];h(l,p);j(l,p,"attached")||(l.removeAttribute(p.unresolvedAttribute),
l.setAttribute(p.resolvedAttribute,""),p.attached&&p.attached(l))}b=b.childNodes;b.length&&f(b)}}}function d(a){for(var c=a.length,i=0;i<c;i++){var f=a[i];if(1===f.nodeType){d(f.childNodes);for(var b=n.getForElement(f),g=b.length,j=0;j<g;j++){var h=f,m=b[j];m.detached&&m.detached(h);k.set(h,m.id+":lifecycle:attached",!1)}}}}g=function(a){return a&&a.__esModule?a["default"]:a};Object.defineProperty(c,"__esModule",{value:!0});"use strict";var a=b("./constants").ATTR_IGNORE,k=g(b("./data")),p=g(b("./mutation-observer")),
n=g(b("./registry")),b=b("./utils"),m=b.inherit,l=b.objEach,b=window.HTMLElement.prototype,i=b.matches||b.msMatchesSelector||b.webkitMatchesSelector||b.mozMatchesSelector||b.oMatchesSelector;c.triggerCreated=h;c.initElements=f;c.removeElements=d},{"./constants":1,"./data":2,"./mutation-observer":6,"./registry":7,"./utils":9}],6:[function(b,g){function c(a,c){return{addedNodes:null,attributeName:null,attributeNamespace:null,nextSibling:null,oldValue:null,previousSibling:null,removedNodes:null,target:a,
type:c||"childList"}}function j(a,c){var f=a.childNodes;if(f)for(var d=f.length,b=0;b<d;b++){var k=f[b];c(k);j(k,c)}}function h(a){if(n&&!m)return new n(a);this.callback=a;this.elements=[]}var f=b("./utils"),d=f.debounce,a=f.objEach,k=window.HTMLElement.prototype,p=window.HTMLElement.prototype.contains,n=window.MutationObserver||window.WebkitMutationObserver||window.MozMutationObserver,m=!1,l=-1<window.navigator.userAgent.indexOf("Trident");h.fixIe=function(){if(l&&!m){var a=Object.getOwnPropertyDescriptor(k,
"innerHTML");Object.defineProperty(k,"innerHTML",{get:function(){return a.get.call(this)},set:function(c){j(this,function(a){var c=document.createEvent("MutationEvent");c.initMutationEvent("DOMNodeRemoved",!0,!1,null,null,null,null,null);a.dispatchEvent(c)});a.set.call(this,c)}});m=!0}};Object.defineProperty(h,"isFixingIe",{get:function(){return m}});h.prototype={observe:function(a,f){function b(a){h.push(a);n()}var k=this,j,g,h=[],l=[],n=d(function(){for(var b=h.length,d=0;d<b;d++){var n=h[d],r=
n.target;if(r){var n=n.type,q=r.parentNode;if(f.childList&&(f.subtree||q===a)){var s=m&&"DOMNodeRemoved"===n,t=j&&(1!==j.nodeType?!1:j.contains?j.contains(r):p.call(j,r));if(s||!t){if(!g||g.target!==q)l.push(g=c(q));"DOMNodeInserted"===n?(g.addedNodes||(g.addedNodes=[]),g.addedNodes.push(r)):(g.removedNodes||(g.removedNodes=[]),g.removedNodes.push(r));j=r}}}}k.callback(l);h=[];l=[];g=j=void 0}),t={},q=[],u=d(function(){var a=q.length;k.callback(q);q.splice(0,a)}),s={target:a,options:f,insertHandler:b,
removeHandler:b,attributeHandler:function(d){var b=d.target;if(f.attributes&&(f.subtree||b===a)){var k=d.attrName,g=d.prevValue,d=d.newValue,b=c(b,"attributes");b.attributeName=k;f.attributeOldValue&&(b.oldValue=t[k]||g||null);q.push(b);f.attributeOldValue&&(t[k]=d);u()}}};this.elements.push(s);f.childList&&(a.addEventListener("DOMNodeInserted",s.insertHandler),a.addEventListener("DOMNodeRemoved",s.removeHandler));f.attributes&&a.addEventListener("DOMAttrModified",s.attributeHandler);return this},
disconnect:function(){a(this.elements,function(a){a.target.removeEventListener("DOMNodeInserted",a.insertHandler);a.target.removeEventListener("DOMNodeRemoved",a.removeHandler);a.target.removeEventListener("DOMAttrModified",a.attributeHandler)});this.elements=[];return this}};g.exports=h},{"./utils":9}],7:[function(b,g){function c(a,c){return d(j.registry,a)&&-1<j.registry[a].type.indexOf(c)}var j,h=b("./globals");j=h&&h.__esModule?h["default"]:h;var f=b("./constants.js").types,d=b("./utils").hasOwn;
g.exports={clear:function(){j.registry={};return this},getForElement:function(a){var d=a.attributes,b=d.length,g=[],h=d.is,l=h&&(h.value||h.nodeValue),h=a.tagName.toLowerCase(),i=l||h,o;c(i,f.TAG)&&(i=j.registry[i],o=i["extends"],l?h===o&&g.push(i):o||g.push(i));for(l=0;l<b;l++)i=d[l].nodeName,c(i,f.ATTR)&&(i=j.registry[i],o=i["extends"],(!o||h===o)&&g.push(i));(d=a.classList)?a=d:(a=a.attributes,a=a["class"]&&a["class"].nodeValue.split(/\s+/)||[]);d=a.length;for(b=0;b<d;b++)i=a[b],c(i,f.CLASS)&&
(i=j.registry[i],o=i["extends"],(!o||h===o)&&g.push(i));return g},has:function(a){return d(j.registry,a)},set:function(a,c){if(this.has(a))throw Error('A definition of type "'+c.type+'" with the ID of "'+a+'" already exists.');j.registry[a]=c;return this},remove:function(a){this.has(a)&&delete j.registry[a];return this}}},{"./constants.js":1,"./globals":4,"./utils":9}],8:[function(b,g){function c(a,b){b=n(b||{},c.defaults);b.id=a;if(k.has(b.id))throw Error('A definition of type "'+b.type+'" with the ID of "'+
a+'" already exists.');k.set(b.id,b);i();h.register(b.remove);if(-1<b.type.indexOf(m.TAG)){var f=b,g=function(){var a;a=f["extends"];var b=f.id;a?(a=document.createElement(a),a.setAttribute("is",b)):a=document.createElement(b);f.prototype=g.prototype;d(a,f);return a};g.prototype=f.prototype;return g}}var j=function(a){return a&&a.__esModule?a["default"]:a},h=j(b("./document-observer")),f=b("./lifecycle"),d=f.triggerCreated,a=f.initElements,k=j(b("./registry")),p=b("./utils"),f=p.debounce,n=p.inherit,
j=j(b("./version")),m=b("./constants").types,l=!!document.attachEvent,i=f(function(){var b=function(){a(document.getElementsByTagName("html"))},c;c=l?"complete"===document.readyState:"interactive"===document.readyState||"complete"===document.readyState;c?b():l?window.addEventListener("load",b):document.addEventListener("DOMContentLoaded",b)});c.init=function(b){if(b)return"string"===typeof b&&(b=document.querySelectorAll(b)),a("undefined"===typeof b.length?[b]:b),b};c.types=m;c.version=j;c.defaults=
{attributes:void 0,events:void 0,"extends":"",id:"",prototype:{},resolvedAttribute:"resolved",template:void 0,type:m.ANY,unresolvedAttribute:"unresolved"};var o=window.skate;c.noConflict=function(){window.skate=o;return this};window.skate=c;g.exports=c},{"./constants":1,"./document-observer":3,"./lifecycle":5,"./registry":7,"./utils":9,"./version":10}],9:[function(b,g,c){function j(b,c){return Object.prototype.hasOwnProperty.call(b,c)}c.hasOwn=j;c.debounce=function(b){var c=!1;return function(){c||
(c=!0,setTimeout(function(){c=!1;b()},1))}};c.getClosestIgnoredElement=function(b){for(;b&&b!==document&&!(b instanceof DocumentFragment);){if(b.hasAttribute(h))return b;b=b.parentNode}};c.inherit=function(b,c,a){for(var g=Object.getOwnPropertyNames(c),h=g.length,j=0;j<h;j++){var m=g[j];if(a||void 0===b[m]){var l=Object.getOwnPropertyDescriptor(c,m);l.get||l.set||!l.writable||!l.enumerable||!l.configurable?Object.defineProperty(b,m,l):b[m]=c[m]}}return b};c.objEach=function(b,c){for(var a in b)j(b,
a)&&c(b[a],a)};Object.defineProperty(c,"__esModule",{value:!0});"use strict";var h=b("./constants").ATTR_IGNORE},{"./constants":1}],10:[function(b,g){g.exports="0.12.6"},{}]},{},[8]);(function(b){var g=b.skate.noConflict();define("atlassian/libs/skate-0.12.6",[],function(){return g})})(window);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.aui.staging:skate', location = '/includes/js/amd/shim/skate-amd.js' */
define("skate",["atlassian/libs/skate-0.12.6"],function(a){return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.aui.staging:persistable', location = 'js/persistable.js' */
define("confluence/persistable",["skate","confluence/storage-manager"],function(f,g){var d=g("confluence","userSettings");return f("data-persist",{type:f.types.ATTRIBUTE,created:function(b){if(!b.name)throw'Missing attribute "name"';var c=b.getAttribute("data-persist"),a=b.getAttribute("data-persist-scope"),a=a?b.name+"."+a.replace(/\./g,"-"):b.name,a=d.getItem(a),e=b.getAttribute("data-default-value");if(/value|checked/.test(c))a=a||e||null,null!==a&&("checked"===c&&(a="true"===a),b[c]=a);else throw"Persistable only works with 'value' or 'checked' attributes!";
},events:{change:function(b){var c=b.getAttribute("data-persist"),a=b.getAttribute("data-persist-scope"),a=a?b.name+"."+a.replace(/\./g,"-"):b.name,e=b.getAttribute("data-default-value");String(b[c])===e?d.removeItem(a):d.setItem(a,b[c],2592E3)}}})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-feature-discovery-plugin:confluence-feature-discovery-plugin-resources', location = '/js/confluence-feature-discovery-plugin.js' */
(function(f){Confluence.FeatureDiscovery={};var c,e=false,i=3;var d="com.atlassian.confluence.plugins.confluence-feature-discovery-plugin";var g=d+":confluence-feature-discovery-plugin-resources.test-mode";var a=WRM.data.claim(g);function j(k){if(c===undefined){c=JSON.parse(AJS.Meta.get("discovered-plugin-features")||"{}")}if(k){return c[k]||[]}return c}function b(m,o){var n=j(m);for(var l=0,k=n.length;l<k;l++){if(n[l]==o){return true}}return false}function h(n,p){var l="com.atlassian.webdriver.discovery="+n+":"+p;var k=document.cookie.split(";");for(var m=0;m<k.length;m++){var o=k[m];while(o.charAt(0)==" "){o=o.substring(1)}if(o.indexOf(l)!=-1){return true}}return false}Confluence.FeatureDiscovery.forPlugin=function(m,l){var p=Confluence.storageManager("feature-discovery."+m);l=l||i;function o(r){var q=parseInt(p.getItem(r),10);return isNaN(q)?0:q}function n(r,q){return p.setItem(r,q)}function k(q){return p.removeItem(q)}return{addDiscoveryView:function(q){n(q,o(q)+1)},shouldShow:function(r,q){if(q===true&&a&&!h(m,r)){return false}if(e||b(m,r)){return false}if(o(r)>=l){this.markDiscovered(r);return false}e=true;return true},markDiscovered:function(r,q){if(b(m,r)){return}AJS.safeAjax({url:AJS.contextPath()+"/rest/feature-discovery/1.0/discovered/"+m+"/"+r,type:"POST",data:{},success:function(){j(m).unshift(r);k(r);AJS.trigger("feature-discovered",{pluginKey:m,featureKey:r});if(q&&f.isFunction(q)){q()}}})},listDiscovered:function(){return j(m).slice(0)}}}})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-quicknav:quicknav-resources', location = 'js/quick-nav.js' */
define("confluence-quicknav/quick-nav",["ajs","jquery","confluence/api/logger"],function(d,c,k){var g=[],e,h=function(a){return function(f){a.closest("form").find(".quick-nav-drop-down").append(f)}},i=function(a){"undefined"!==typeof a?g.push(a):k.log("WARN: Attempted to add a dropdown post-process function that was undefined.")},l=function(a){c("a",a).each(function(){var a=c(this),b=a.find("span").data("properties");if((b=b?b.spaceName:null)&&!a.is(".content-type-spacedesc"))a.after(a.clone().attr("class",
"space-name").html(b)),a.parent().addClass("with-space-name")})};return{addDropDownPostProcess:i,setMakeParams:function(a){e=a},init:function(){var a=c("#quick-search-query"),f=h(a),b=c("#space-blog-quick-search-query"),j=c("#confluence-space-key");a.quicksearch("/rest/quicknav/1/search",null,{dropdownPlacement:f,dropdownPostprocess:function(a){c.each(g,function(c,b){b&&b(a)})},makeParams:function(a){return e?e(a):{query:a}},ajsDropDownOptions:{className:"quick-search-dropdown"}});i(l);b.length&&
j.length&&b.quicksearch("/rest/quicknav/1/search?type=blogpost&spaceKey="+d("i").html(j.attr("content")).text(),null,{dropdownPlacement:h(b)})}}});require("confluence/module-exporter").exportModuleAsGlobal("confluence-quicknav/quick-nav","Confluence.QuickNav");require("confluence/module-exporter").safeRequire("confluence-quicknav/quick-nav",function(d){var c=require("ajs");!1===require("confluence/dark-features").isEnabled("next.ui.search")&&c.toInit(d.init)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-license-banner:confluence-license-banner-resources', location = '/js/confluence-license-banner.js' */
require(["ajs","jquery"],function(a,b){a.toInit(function(){var d=WRM.data.claim("com.atlassian.confluence.plugins.confluence-license-banner:confluence-license-banner-resources.license-details");if(!d){a.warn("Unable to claim my required data");return}var c={destroyBanner:function(){b("#license-banner").slideUp(function(){b("#license-banner").remove()})},remindMeLater:function(){b.ajax({type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({atl_token:a.Meta.get("atl-token")}),url:a.contextPath()+"/rest/licensebanner/1.0/reminder/later"});c.destroyBanner()},remindMeNever:function(){b.ajax({type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({atl_token:a.Meta.get("atl-token")}),url:a.contextPath()+"/rest/licensebanner/1.0/reminder/never"});c.destroyBanner()},createBanner:function(g){var e;if(g.showLicenseExpiryBanner){e=Confluence.Templates.LicenseBanner.expiryBanner({days:g.daysBeforeLicenseExpiry,mac:g.renewUrl,sales:g.salesEmail})}else{if(g.showMaintenanceExpiryBanner){e=Confluence.Templates.LicenseBanner.maintenanceBanner({days:g.daysBeforeMaintenanceExpiry,mac:g.renewUrl,sales:g.salesEmail})}}if(e){var f=b(e);b("#full-height-container").prepend(f);b("#license-banner-later").click(function(h){h.preventDefault();c.remindMeLater()});b("#license-banner-never").click(function(h){h.preventDefault();c.remindMeNever()});f.find(".icon-close").click(function(h){h.preventDefault();c.remindMeLater()})}}};c.createBanner(d)})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-license-banner:confluence-license-banner-resources', location = 'soy/confluence-license-banner.soy' */
// This file was automatically generated from confluence-license-banner.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.LicenseBanner.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.LicenseBanner == 'undefined') { Confluence.Templates.LicenseBanner = {}; }


Confluence.Templates.LicenseBanner.wrapper = function(opt_data, opt_ignored) {
  return '<div>' + soy.$$filterNoAutoescape(opt_data.contentHTML) + '</div>';
};
if (goog.DEBUG) {
  Confluence.Templates.LicenseBanner.wrapper.soyTemplateName = 'Confluence.Templates.LicenseBanner.wrapper';
}


Confluence.Templates.LicenseBanner.expiryBanner = function(opt_data, opt_ignored) {
  var output = '';
  var renewTag__soy8 = '<a id="license-banner-my-link" target="_blank" href="' + soy.$$escapeHtml(opt_data.mac) + '">';
  var end__soy12 = '</a>';
  var mailTag__soy14 = '<a id="license-banner-sales-link" href="mailto:' + soy.$$escapeHtml(opt_data.sales) + '">';
  output += Confluence.Templates.LicenseBanner.wrapper({contentHTML: '' + aui.message.warning({content: '<div id="license-banner-content" data-days="' + soy.$$escapeHtml(opt_data.days) + '" data-subscription="true">' + ((opt_data.days < 0) ? soy.$$filterNoAutoescape(AJS.format('\u0418\u0441\u0442\u0451\u043a \u0441\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438. Confluence \u0442\u0435\u043f\u0435\u0440\u044c \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \xab\u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0447\u0442\u0435\u043d\u0438\u044f\xbb. \u041f\u0440\u043e\u0434\u043b\u0438\u0442\u0435 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u044e {0}\u0447\u0435\u0440\u0435\u0437 \u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442{1} \u0438\u043b\u0438 \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u0432 {2}\u043e\u0442\u0434\u0435\u043b \u043f\u0440\u043e\u0434\u0430\u0436{3}.',renewTag__soy8,end__soy12,mailTag__soy14,end__soy12)) : (opt_data.days == 0) ? soy.$$filterNoAutoescape(AJS.format('\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0438\u0441\u0442\u0435\u043a\u0430\u0435\u0442 \u0441\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438, \u043f\u043e\u0441\u043b\u0435 \u0447\u0435\u0433\u043e Confluence \u043f\u0435\u0440\u0435\u0439\u0434\u0451\u0442 \u0432 \u0440\u0435\u0436\u0438\u043c \xab\u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0447\u0442\u0435\u043d\u0438\u044f\xbb.\r\n\u041f\u0440\u043e\u0434\u043b\u0438\u0442\u0435 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u044e {0}\u0447\u0435\u0440\u0435\u0437 \u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442{1} \u0438\u043b\u0438 \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u0432 {2}\u043e\u0442\u0434\u0435\u043b \u043f\u0440\u043e\u0434\u0430\u0436{3}.',renewTag__soy8,end__soy12,mailTag__soy14,end__soy12)) : soy.$$filterNoAutoescape(AJS.format('\u0427\u0435\u0440\u0435\u0437 {0,choice,1#{0} \u0434\u0435\u043d\u044c|1\x3c{0} \u0434\u043d.} \u0438\u0441\u0442\u0435\u043a\u0430\u0435\u0442 \u0441\u0440\u043e\u043a \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u0438. \u041f\u043e\u0441\u043b\u0435 \u0435\u0451 \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f Confluence \u043f\u0435\u0440\u0435\u0439\u0434\u0451\u0442 \u0432 \u0440\u0435\u0436\u0438\u043c \xab\u0442\u043e\u043b\u044c\u043a\u043e \u0434\u043b\u044f \u0447\u0442\u0435\u043d\u0438\u044f\xbb. \u041f\u0440\u043e\u0434\u043b\u0438\u0442\u0435 \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u044e {1}\u0447\u0435\u0440\u0435\u0437 \u0418\u043d\u0442\u0435\u0440\u043d\u0435\u0442{2} \u0438\u043b\u0438 \u043e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u0432 {3}\u043e\u0442\u0434\u0435\u043b \u043f\u0440\u043e\u0434\u0430\u0436{4}.',opt_data.days,renewTag__soy8,end__soy12,mailTag__soy14,end__soy12))) + '</div>', isCloseable: opt_data.days > 7, id: 'license-banner'})});
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.LicenseBanner.expiryBanner.soyTemplateName = 'Confluence.Templates.LicenseBanner.expiryBanner';
}


Confluence.Templates.LicenseBanner.maintenanceBanner = function(opt_data, opt_ignored) {
  var output = '';
  var renewTag__soy39 = '<a id="license-banner-my-link" target="_blank" href="' + soy.$$escapeHtml(opt_data.mac) + '">';
  var end__soy43 = '</a>';
  var later__soy45 = '<a href="#" id="license-banner-later">';
  var never__soy47 = '<a href="#" id="license-banner-never">';
  output += Confluence.Templates.LicenseBanner.wrapper({contentHTML: '' + aui.message.warning({content: '<div id="license-banner-content" data-days="' + soy.$$escapeHtml(opt_data.days) + '" data-subscription="false">' + ((opt_data.days < 0) ? soy.$$filterNoAutoescape(AJS.format('\u0423 \u0432\u0430\u0441 \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u0430 \u043a \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0435 \u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f\u043c. {0}\u041f\u0440\u043e\u0434\u043b\u0438\u0442\u044c \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u044e{1}, {2}\u043d\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043f\u043e\u0437\u0436\u0435{3} \u0438\u043b\u0438 {4}\u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u0442\u044c{5}.',renewTag__soy39,end__soy43,later__soy45,end__soy43,never__soy47,end__soy43)) : (opt_data.days == 0) ? soy.$$filterNoAutoescape(AJS.format('\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u0438\u0441\u0442\u0435\u043a\u0430\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0435 \u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f\u043c. {0}\u041f\u0440\u043e\u0434\u043b\u0438\u0442\u044c \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u044e{1}, {2}\u043d\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043f\u043e\u0437\u0436\u0435{3} \u0438\u043b\u0438 {4}\u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u0442\u044c{5}.',renewTag__soy39,end__soy43,later__soy45,end__soy43,never__soy47,end__soy43)) : soy.$$filterNoAutoescape(AJS.format('\u0427\u0435\u0440\u0435\u0437 {0,choice,1#{0} \u0434\u0435\u043d\u044c|1\x3c{0} \u0434\u043d.} \u0432\u044b \u043f\u043e\u0442\u0435\u0440\u044f\u0435\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0435 \u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f\u043c. {1}\u041f\u0440\u043e\u0434\u043b\u0438\u0442\u044c \u043b\u0438\u0446\u0435\u043d\u0437\u0438\u044e{2}, {3}\u043d\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u043f\u043e\u0437\u0436\u0435{4} \u0438\u043b\u0438 {5}\u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u0442\u044c{6}.',opt_data.days,renewTag__soy39,end__soy43,later__soy45,end__soy43,never__soy47,end__soy43))) + '</div>', id: 'license-banner'})});
  return output;
};
if (goog.DEBUG) {
  Confluence.Templates.LicenseBanner.maintenanceBanner.soyTemplateName = 'Confluence.Templates.LicenseBanner.maintenanceBanner';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher.soy' */
// This file was automatically generated from appswitcher.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.appswitcher.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.appswitcher == 'undefined') { navlinks.templates.appswitcher = {}; }


navlinks.templates.appswitcher.linkSection = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.list.length > 0) {
    output += '<div class="aui-nav-heading sidebar-section-header">' + soy.$$escapeHtml(opt_data.title) + '</div><ul class="aui-nav nav-links">';
    var linkList8 = opt_data.list;
    var linkListLen8 = linkList8.length;
    for (var linkIndex8 = 0; linkIndex8 < linkListLen8; linkIndex8++) {
      var linkData8 = linkList8[linkIndex8];
      output += navlinks.templates.appswitcher.applicationsItem(linkData8);
    }
    output += '</ul>';
  }
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.linkSection.soyTemplateName = 'navlinks.templates.appswitcher.linkSection';
}


navlinks.templates.appswitcher.applicationsItem = function(opt_data, opt_ignored) {
  return '<li class="nav-link"><a href="' + soy.$$escapeHtml(opt_data.link) + '" ' + ((opt_data.self) ? 'class="checked"' : '') + ' title="' + soy.$$escapeHtml(opt_data.link) + '"><span class="nav-link-label">' + soy.$$escapeHtml(opt_data.label) + '</span></a></li>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.applicationsItem.soyTemplateName = 'navlinks.templates.appswitcher.applicationsItem';
}


navlinks.templates.appswitcher.shortcutsItem = function(opt_data, opt_ignored) {
  return '<li class="nav-link"><a href="' + soy.$$escapeHtml(opt_data.link) + '" ' + ((opt_data.self) ? 'class="checked"' : '') + ' title="' + soy.$$escapeHtml(opt_data.link) + '"><span class="nav-link-label">' + soy.$$escapeHtml(opt_data.label) + '</span>' + ((opt_data.showDescription && opt_data.description) ? '<span class="nav-link-description">' + soy.$$escapeHtml(opt_data.description) + '</span>' : '') + '</a></li>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.shortcutsItem.soyTemplateName = 'navlinks.templates.appswitcher.shortcutsItem';
}


navlinks.templates.appswitcher.error = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-error">' + soy.$$filterNoAutoescape('\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \x3cspan class\x3d\x22app-switcher-retry\x22\x3e\u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435\x3c/span\x3e.') + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.error.soyTemplateName = 'navlinks.templates.appswitcher.error';
}


navlinks.templates.appswitcher.sidebarContents = function(opt_data, opt_ignored) {
  return '<div class="aui-page-panel-nav"><nav class="aui-navgroup aui-navgroup-vertical"><div class="app-switcher-section app-switcher-applications"><div class="aui-nav-heading">' + soy.$$escapeHtml('\u0421\u0432\u044f\u0437\u0438 \u0441 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f\u043c\u0438') + '</div><div class="app-switcher-loading">' + soy.$$filterNoAutoescape('\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430\x26hellip;') + '</div></div><div class="app-switcher-section app-switcher-shortcuts"><div class="aui-nav-heading">' + soy.$$escapeHtml('\u042f\u0440\u043b\u044b\u043a\u0438') + '</div><div class="app-switcher-loading">' + soy.$$filterNoAutoescape('\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430\x26hellip;') + '</div></div></nav></div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.sidebarContents.soyTemplateName = 'navlinks.templates.appswitcher.sidebarContents';
}


navlinks.templates.appswitcher.trigger = function(opt_data, opt_ignored) {
  return '<span class="aui-icon aui-icon-small aui-iconfont-appswitcher">' + soy.$$escapeHtml('\u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f') + '</span>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.trigger.soyTemplateName = 'navlinks.templates.appswitcher.trigger';
}


navlinks.templates.appswitcher.projectHeaderSection = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-title">' + aui.avatar.avatar({size: 'large', avatarImageUrl: opt_data.avatarUrl, isProject: true, title: opt_data.name}) + '<div class="sidebar-project-name">' + soy.$$escapeHtml(opt_data.name) + '</div></div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.projectHeaderSection.soyTemplateName = 'navlinks.templates.appswitcher.projectHeaderSection';
}


navlinks.templates.appswitcher.cogDropdown = function(opt_data, opt_ignored) {
  var output = '';
  var dropdownList__soy74 = '' + navlinks.templates.appswitcher.dropdownList({list: opt_data.links});
  output += aui.dropdown2.dropdown2({menu: {id: opt_data.id, content: dropdownList__soy74, extraClasses: 'aui-style-default sidebar-customize-section'}, trigger: {showIcon: false, content: '<span class="aui-icon aui-icon-small aui-iconfont-configure"></span>', container: '#app-switcher'}});
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.cogDropdown.soyTemplateName = 'navlinks.templates.appswitcher.cogDropdown';
}


navlinks.templates.appswitcher.dropdownList = function(opt_data, opt_ignored) {
  var output = '<ul class="sidebar-admin-links">';
  var linkList82 = opt_data.list;
  var linkListLen82 = linkList82.length;
  for (var linkIndex82 = 0; linkIndex82 < linkListLen82; linkIndex82++) {
    var linkData82 = linkList82[linkIndex82];
    output += '<li class="nav-link"><a href="' + soy.$$escapeHtml(linkData82.href) + '" title="' + soy.$$escapeHtml(linkData82.title) + '"><span class="nav-link-label">' + soy.$$escapeHtml(linkData82.label) + '</span></a></li>';
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.dropdownList.soyTemplateName = 'navlinks.templates.appswitcher.dropdownList';
}


navlinks.templates.appswitcher.switcher = function(opt_data, opt_ignored) {
  var output = '';
  if (true) {
    if (AJS.DarkFeatures.isEnabled('rotp.sidebar')) {
      var sidebarContents__soy97 = '' + navlinks.templates.appswitcher.sidebarContents(null);
      var triggerContent__soy99 = '' + navlinks.templates.appswitcher.trigger(null);
      output += navlinks.templates.appswitcher.sidebar({sidebar: {id: 'app-switcher', content: sidebarContents__soy97}, trigger: {showIcon: false, content: triggerContent__soy99}});
    } else {
      output += navlinks.templates.appswitcher_old.switcher(null);
    }
  }
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.switcher.soyTemplateName = 'navlinks.templates.appswitcher.switcher';
}


navlinks.templates.appswitcher.sidebar = function(opt_data, opt_ignored) {
  return '<a href="' + soy.$$escapeHtml(opt_data.sidebar.id) + '" class="sidebar-trigger app-switcher-trigger" aria-owns="' + soy.$$escapeHtml(opt_data.sidebar.id) + '" aria-haspopup="true" data-is-user-admin="' + soy.$$escapeHtml(false) + '" data-is-sidebar="true" >' + soy.$$filterNoAutoescape(opt_data.trigger.content) + '</a><div id=' + soy.$$escapeHtml(opt_data.sidebar.id) + ' class="app-switcher-sidebar aui-style-default sidebar-offscreen">' + soy.$$filterNoAutoescape(opt_data.sidebar.content) + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher.sidebar.soyTemplateName = 'navlinks.templates.appswitcher.sidebar';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher.js' */
(function(e,a){var d="is-user-admin";var c="#app-switcher";a.SideBar=function(f){var g=this;this.$sidebar=null;f=e.extend({sidebarContents:null},f);this.getLinks=function(){return e.ajax({url:AJS.contextPath()+"/rest/menu/latest/appswitcher",cache:false,dataType:"json"}).done(this.updateAppLinks).fail(this.showAppSwitcherError)};this.populateProjectHeader=function(i,h){g.getSidebar().find(".app-switcher-shortcuts .aui-nav-heading").after(navlinks.templates.appswitcher.projectHeaderSection({avatarUrl:h,name:i}))};this.getProjectData=function(){var h=e(".project-shortcut-dialog-trigger"),i=h.data("key"),j=h.data("entity-type");if(h.size()==0||!i||!j){e(".app-switcher-shortcuts").remove();return}var l,k;k=e.ajax({url:AJS.contextPath()+"/rest/project-shortcuts/1.0/local/"+i,cache:false,data:{entityType:j},dataType:"json"});l=e.ajax({url:AJS.contextPath()+"/rest/project-shortcuts/1.0/remote/"+i,cache:false,data:{entityType:j},dataType:"json"});e.when(k,l).then(function(n,m){g.updateProjectShortcuts(n,m,{key:i,entityType:j,name:h.data("name"),avatarUrl:h.find("img").prop("src")})},g.showProjectShortcutsError)};this.getSidebar=function(){if(!this.$sidebar){this.$sidebar=e(f.sidebarContents)}return this.$sidebar};this.addApplicationsCog=function(){e(".app-switcher-applications .aui-nav-heading").before(navlinks.templates.appswitcher.cogDropdown({id:"sidebar-applications-admin-dropdown",links:[{href:AJS.contextPath()+"/plugins/servlet/customize-application-navigator",label:"\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043d\u0430\u0432\u0438\u0433\u0430\u0442\u043e\u0440",title:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043d\u043e\u0432\u044b\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u0430, \u0441\u043a\u0440\u043e\u0439\u0442\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0435 \u0438\u043b\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f \u0432\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u0438"},{href:AJS.contextPath()+"/plugins/servlet/applinks/listApplicationLinks",label:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u043c\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f\u043c\u0438",title:"\u0421\u0432\u044f\u0437\u044c \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f\u043c\u0438 Atlassian"}]}))};this.addProjectShortcutsCog=function(h,j){var i=[{href:AJS.contextPath()+"/plugins/servlet/custom-content-links-admin?entityKey="+h,label:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0431\u044b\u0441\u0442\u0440\u044b\u0445 \u0441\u0441\u044b\u043b\u043e\u043a",title:""}];if(g.entityMappings[j]){i.push({href:g.generateEntityLinksUrl(h,g.entityMappings[j]),label:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u0441\u044b\u043b\u043a\u0430\u043c\u0438 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430",title:""})}g.getSidebar().find(".app-switcher-shortcuts .aui-nav-heading").before(navlinks.templates.appswitcher.cogDropdown({id:"sidebar-project-shortcuts-admin-dropdown",links:i}))};this.updateAppLinks=function(h){e(function(){g.getSidebar().find(".app-switcher-applications").html(navlinks.templates.appswitcher.linkSection({title:"\u0421\u0432\u044f\u0437\u0438 \u0441 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f\u043c\u0438",list:h}));if(g.getSidebar().data(d)){g.addApplicationsCog()}g.bindAnalyticsHandlers(g.getSidebar(),h)})};this.updateProjectShortcuts=function(k,i,j){var l=k[0].shortcuts,h=i[0].shortcuts;g.getSidebar().find(".app-switcher-shortcuts").html(navlinks.templates.appswitcher.linkSection({title:"\u042f\u0440\u043b\u044b\u043a\u0438",list:l.concat(h)}));if(g.getSidebar().data(d)){g.addProjectShortcutsCog(j.key,j.entityType)}g.populateProjectHeader(j.name,j.avatarUrl);g.bindAnalyticsHandlers(g.getSidebar(),data)};this.entityMappings={"confluence.space":"com.atlassian.applinks.api.application.confluence.ConfluenceSpaceEntityType","jira.project":"com.atlassian.applinks.api.application.jira.JiraProjectEntityType","bamboo.project":"com.atlassian.applinks.api.application.bamboo.BambooProjectEntityType","stash.project":"com.atlassian.applinks.api.application.stash.StashProjectEntityType"};this.generateEntityLinksUrl=function(h,i){if(i===g.entityMappings["confluence.space"]){return AJS.contextPath()+"/spaces/listentitylinks.action?typeId="+i+"&key="+h}else{return AJS.contextPath()+"/plugins/servlet/applinks/listEntityLinks/"+i+"/"+h}};this.showAppSwitcherError=function(){e(function(){var h=g.getSidebar();h.find(".app-switcher-applications .app-switcher-loading").replaceWith(navlinks.templates.appswitcher.error());h.off(".appswitcher").on("click.appswitcher",".app-switcher-retry",e.proxy(g.retryLoading,g))})};this.showProjectShortcutsError=function(){e(function(){var h=g.getSidebar();h.find(".app-switcher-shortcuts .app-switcher-loading").replaceWith(navlinks.templates.appswitcher.error());h.off(".appswitcher").on("click.appswitcher",".app-switcher-retry",e.proxy(g.retryLoading,g))})};this.retryLoading=function(h){this.getSidebar().html(navlinks.templates.appswitcher.sidebarContents());this.getLinks();this.getProjectData();h&&h.stopPropagation()};this.bindAnalyticsHandlers=function(h,i){};this.getLinks();e(this.getProjectData);this.toggleSidebar=function(j){var k=g.getSidebar(),i=e("body"),h=e(window.document);if(!i.hasClass("app-switcher-open")){var m=e("#header");k.css("left",-k.width());k.parent("body").length||k.appendTo("body");b({data:k});k.animate({left:0},300);function l(n){var p=n.target&&e(n.target),o=n.keyCode;if(n.originalEvent===j.originalEvent){return}if(p&&!o&&!(p.closest(k).length||p.closest(m).length)&&j.which==1&&!(n.shiftKey||n.ctrlKey||n.metaKey)){g.toggleSidebar()}else{if(o===27){g.toggleSidebar()}}}h.on("click.appSwitcher",l);h.on("keydown.appSwitcher",l);h.on("scroll.appSwitcher",k,b)}else{h.off(".appSwitcher")}i.toggleClass("app-switcher-open")};e("#header").on("click",".app-switcher-trigger",this.toggleSidebar)};function b(h){var f=e(document).scrollTop(),i=e("#header"),g=(i.height()+i.offset().top)-f;if(g>=0){h.data.css({top:g,position:"fixed"})}else{h.data.css({top:0,left:0,position:"fixed"})}}e(function(){if(e(c).data("is-sidebar")===true){new a.SideBar({sidebarContents:c})}})}(jQuery,window.NL=(window.NL||{})));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher_old.js' */
var APPSWITCHER_TRIGGER_CLICK="appswitcher.trigger.click";var APPSWITCHER_DROPDOWN_SHOW="appswitcher.dropdown.show";var APPSWITCHER_DROPDOWN_DISPLAY_ERROR="appswitcher.dropdown.display.error";var APPSWITCHER_APP_LINK_CLICK="appswitcher.app.link.click";var APPSWITCHER_CONFIGURE_LINK_CLICK="appswitcher.configure.link.click";(function(c,f){var b="isAppSuggestionAvailable";var d="isSiteAdminUser";var e="isUserAdmin";var a="#app-switcher";f.AppSwitcher=function(j){var l=AJS.contextPath()+"/plugins/servlet/customize-application-navigator";var k="unified.usermanagement";var m=this;this.$dropdown=null;j=c.extend({dropdownContents:null},j);this.getLinks=function(){return c.ajax({url:AJS.contextPath()+"/rest/menu/latest/appswitcher",cache:false,dataType:"json"}).done(this.updateDropdown).fail(this.showError)};this.getDropdown=function(){if(!this.$dropdown){this.$dropdown=c(j.dropdownContents);this.envData=this.$dropdown.data("environment")}return this.$dropdown};this.updateDropdown=function(n){c(function(){m.getDropdown().html(navlinks.templates.appswitcher_old.applications({apps:n,showAdminLink:m.envData[e],adminLink:l}));m.bindAnalyticsHandlers();if(m.envData[b]===true){m.handleSuggestionApps(n)}})};this.bindAnalyticsHandlers=function(){c(".app-switcher-trigger").on("click",function(){AJS.trigger("analyticsEvent",{name:APPSWITCHER_TRIGGER_CLICK})});c("#app-switcher").on("aui-dropdown2-show",function(){AJS.trigger("analyticsEvent",{name:APPSWITCHER_DROPDOWN_SHOW})});c("#app-switcher .nav-link").on("click",function(){var p="custom";var q=c(this).find("a");var o=q.attr("href");var n=window.location.hostname;if(o&&o.indexOf("bitbucket.org")>-1){p="bitbucket-cloud"}else{if(o.indexOf(n+"/wiki")>-1){p="confluence"}else{if(o.indexOf(n+"/build")>-1){p="bamboo"}else{if(o.indexOf(n)>-1){p="jira"}}}}AJS.trigger("analyticsEvent",{name:APPSWITCHER_APP_LINK_CLICK,data:{product:p}})});c(".nav-link-edit-wrapper").on("click",function(){AJS.trigger("analyticsEvent",{name:APPSWITCHER_CONFIGURE_LINK_CLICK})})};this.isBillingSystemEnabled=function(){return(this.envData[d]===true)&&AJS.DarkFeatures.isEnabled(k)};this.handleSuggestionApps=function(q){var r=_.map(q,function(s){return s.applicationType.toLowerCase()});var o=c("<div id='app-switcher-suggestion-apps' class='aui-dropdown2-section'/>");o.html(navlinks.templates.appswitcher_old.suggestionApps);var p=o.find(".suggestion-apps");var n=false;_.each(g,function(s){if(!_.contains(r,s.appName)){n=true;p.append(navlinks.templates.appswitcher_old.suggestionApp({suggestionApp:s,isBillingSystemEnabled:m.isBillingSystemEnabled()}))}});if(!n){return}c("#app-switcher").append(o);c(".app-discovery-suggestion-app").click(function(){var t=c(this).find("a");var s;if(m.envData[d]===true){s="appswitcher.discovery.siteadmin.select.inproduct."}else{s="appswitcher.discovery.user.select."}s=s+t.attr("id").toLowerCase();AJS.trigger("analytics",{name:s})});c(".app-discovery-suggestion-app").hover(function(){c(this).find("a").removeClass("active").removeClass("aui-dropdown2-active")});c(".app-discovery-cancel-button").click(function(){AJS.trigger("analytics",{name:"appswitcher.discovery.nothanks.button.click"});i(h,"true");o.remove()})};this.showError=function(){c(function(){AJS.trigger("analyticsEvent",{name:APPSWITCHER_DROPDOWN_DISPLAY_ERROR});m.getDropdown().html(navlinks.templates.appswitcher_old.error()).off(".appswitcher").on("click.appswitcher",".app-switcher-retry",c.proxy(m.retryLoading,m))})};this.retryLoading=function(n){this.getDropdown().html(navlinks.templates.appswitcher_old.loading());this.getLinks();n&&n.stopPropagation()};this.getLinks()};var h="key-no-thanks";var g=[{appName:"jira",appDesc:"\u041f\u041e \u0434\u043b\u044f \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u044f\u0432\u043a\u0430\u043c\u0438 \u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u043c\u0438",discoveryUrl:"https://www.atlassian.com/software/jira",billingSystemDiscoveryUrl:"/admin/billing/addapplication"},{appName:"confluence",appDesc:"\u0412\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0438 \u043e\u0431\u043c\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0438\u043c\u044b\u043c",discoveryUrl:"https://www.atlassian.com/software/confluence",billingSystemDiscoveryUrl:"/admin/billing/addapplication?product=confluence.ondemand"},{appName:"bamboo",appDesc:"\u041d\u0435\u043f\u0440\u0435\u0440\u044b\u0432\u043d\u0430\u044f \u0438\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f",discoveryUrl:"https://www.atlassian.com/software/bamboo",billingSystemDiscoveryUrl:"/admin/billing/addapplication?product=bamboo.ondemand"}];var i=function(j,k){c.ajax({url:AJS.contextPath()+"/rest/menu/latest/userdata/",type:"PUT",contentType:"application/json",data:JSON.stringify({key:j,value:k})})};c(function(){if(c(a).data("is-switcher")===true){new f.AppSwitcher({dropdownContents:a})}})}(jQuery,window.NL=(window.NL||{})));
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.plugins.atlassian-nav-links-plugin:rotp-menu', location = 'appswitcher/appswitcher_old.soy' */
// This file was automatically generated from appswitcher_old.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace navlinks.templates.appswitcher_old.
 */

if (typeof navlinks == 'undefined') { var navlinks = {}; }
if (typeof navlinks.templates == 'undefined') { navlinks.templates = {}; }
if (typeof navlinks.templates.appswitcher_old == 'undefined') { navlinks.templates.appswitcher_old = {}; }


navlinks.templates.appswitcher_old.applications = function(opt_data, opt_ignored) {
  return '' + navlinks.templates.appswitcher_old.applicationsSection({list: opt_data.apps, listClass: 'nav-links', showDescription: opt_data.showDescription}) + ((opt_data.custom) ? navlinks.templates.appswitcher_old.applicationsSection({list: opt_data.custom, showDescription: opt_data.showDescription}) : '') + ((opt_data.showAdminLink) ? navlinks.templates.appswitcher_old.adminSection(opt_data) : '');
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.applications.soyTemplateName = 'navlinks.templates.appswitcher_old.applications';
}


navlinks.templates.appswitcher_old.applicationsSection = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.list.length > 0) {
    var param19 = '<ul' + ((opt_data.listClass) ? ' class="' + soy.$$escapeHtml(opt_data.listClass) + '"' : '') + '>';
    var linkList27 = opt_data.list;
    var linkListLen27 = linkList27.length;
    for (var linkIndex27 = 0; linkIndex27 < linkListLen27; linkIndex27++) {
      var linkData27 = linkList27[linkIndex27];
      param19 += navlinks.templates.appswitcher_old.applicationsItem(soy.$$augmentMap(linkData27, {showDescription: opt_data.showDescription}));
    }
    param19 += '</ul>';
    output += aui.dropdown2.section({content: param19});
  }
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.applicationsSection.soyTemplateName = 'navlinks.templates.appswitcher_old.applicationsSection';
}


navlinks.templates.appswitcher_old.applicationsItem = function(opt_data, opt_ignored) {
  return '<li class="nav-link' + ((opt_data.self) ? ' nav-link-local' : '') + '"><a href="' + soy.$$escapeHtml(opt_data.link) + '" class="aui-dropdown2-radio ' + ((opt_data.self) ? 'aui-dropdown2-checked' : '') + '" title="' + soy.$$escapeHtml(opt_data.link) + '"><span class="nav-link-label">' + soy.$$escapeHtml(opt_data.label) + '</span>' + ((opt_data.showDescription && opt_data.description) ? '<span class="nav-link-description">' + soy.$$escapeHtml(opt_data.description) + '</span>' : '') + '</a></li>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.applicationsItem.soyTemplateName = 'navlinks.templates.appswitcher_old.applicationsItem';
}


navlinks.templates.appswitcher_old.adminSection = function(opt_data, opt_ignored) {
  return '' + aui.dropdown2.section({content: '<ul class="nav-links"><li><a class="nav-link-edit-wrapper" href="' + soy.$$escapeHtml(opt_data.adminLink) + '"><span class="nav-link-edit">' + soy.$$filterNoAutoescape('\u041d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c\x26hellip;') + '</span></a></li></ul>'});
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.adminSection.soyTemplateName = 'navlinks.templates.appswitcher_old.adminSection';
}


navlinks.templates.appswitcher_old.error = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-error">' + soy.$$filterNoAutoescape('\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \x3cspan class\x3d\x22app-switcher-retry\x22\x3e\u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435\x3c/span\x3e.') + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.error.soyTemplateName = 'navlinks.templates.appswitcher_old.error';
}


navlinks.templates.appswitcher_old.loading = function(opt_data, opt_ignored) {
  return '<div class="app-switcher-loading">' + soy.$$filterNoAutoescape('\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430\x26hellip;') + '</div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.loading.soyTemplateName = 'navlinks.templates.appswitcher_old.loading';
}


navlinks.templates.appswitcher_old.trigger = function(opt_data, opt_ignored) {
  return '<span class="aui-icon aui-icon-small aui-iconfont-appswitcher">' + soy.$$escapeHtml('\u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f') + '</span>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.trigger.soyTemplateName = 'navlinks.templates.appswitcher_old.trigger';
}


navlinks.templates.appswitcher_old.switcher = function(opt_data, opt_ignored) {
  var output = '';
  if (true) {
    var loadingContent__soy81 = '' + navlinks.templates.appswitcher_old.loading(null);
    var triggerContent__soy83 = '' + navlinks.templates.appswitcher_old.trigger(null);
    output += aui.dropdown2.dropdown2({menu: {id: 'app-switcher', content: loadingContent__soy81, extraClasses: 'aui-style-default', extraAttributes: {'data-environment': {}, 'data-is-switcher': 'true'}}, trigger: {showIcon: false, content: triggerContent__soy83, extraClasses: 'app-switcher-trigger', extraAttributes: {href: '#app-switcher'}}});
  }
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.switcher.soyTemplateName = 'navlinks.templates.appswitcher_old.switcher';
}


navlinks.templates.appswitcher_old.suggestionApp = function(opt_data, opt_ignored) {
  var output = '';
  var href__soy89 = opt_data.isBillingSystemEnabled == true ? opt_data.suggestionApp.billingSystemDiscoveryUrl : opt_data.suggestionApp.discoveryUrl;
  output += '<li class="app-discovery-suggestion-app"><a id="' + soy.$$escapeHtml(opt_data.suggestionApp.appName) + '" href="' + soy.$$escapeHtml(href__soy89) + '" class="app-discovery-link aui-icon-container app-discovery-' + soy.$$escapeHtml(opt_data.suggestionApp.appName) + '-product-icon" title="' + soy.$$escapeHtml(href__soy89) + '" target="_blank"/><div class="app-discovery-small">' + soy.$$escapeHtml(opt_data.suggestionApp.appDesc) + '</div></li>';
  return output;
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.suggestionApp.soyTemplateName = 'navlinks.templates.appswitcher_old.suggestionApp';
}


navlinks.templates.appswitcher_old.suggestionApps = function(opt_data, opt_ignored) {
  return '<ul class=\'nav-links suggestion-apps\'><li><span class=\'app-discovery-suggest-title nav-link-label\'><h6>' + soy.$$escapeHtml('\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0434\u0440\u0443\u0433\u0438\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f Atlassian') + '</h6></span></li></ul><div class=\'buttons-container app-discovery-suggest-apps-buttons\'><div class=\'buttons\'><button class=\'aui-button aui-button-link app-discovery-cancel-button\' name=\'cancel\' accesskey=\'c\' href=\'#\'>' + soy.$$escapeHtml('\u041d\u0435 \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u044d\u0442\u043e \u0441\u043d\u043e\u0432\u0430') + '</button></div></div>';
};
if (goog.DEBUG) {
  navlinks.templates.appswitcher_old.suggestionApps.soyTemplateName = 'navlinks.templates.appswitcher_old.suggestionApps';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:common-header-resources', location = '/includes/js/header-user-menu.js' */
define("confluence/header-user-menu",["jquery","confluence/meta","underscore"],function(a,c,b){function d(){var b=c.get("current-user-avatar-uri-reference");a("#user-menu-link").find(".aui-avatar-inner img").attr("src",b)}return function(){b.defer(d)}});require("confluence/module-exporter").safeRequire("confluence/header-user-menu",function(a){require("ajs").toInit(a)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'confluence.web.resources:general-analytics-bindings', location = '/includes/js/analytics-bindings.js' */
define("confluence/analytics-bindings",["jquery","confluence/analytics-support"],function(b,d){return function(){function e(a,c){b(a).on("click",".view-historical-version-trigger",function(){d.publish("confluence.page.view-historical.from-"+(c||"unknown"))})}function f(a,c){b(a).on("click",".restore-historical-version-trigger",function(){d.publish("confluence.page.restore-historical.from-"+(c||"unknown"))})}function g(a,c){b("#header .aui-header-secondary "+a).on("click",function(){var a=b(this).hasClass("aui-dropdown2-active")?
"expanded":"collapsed";d.publish("confluence.header.dropdown."+c,{state:a})})}e("#page-history-warning","navigation");e("#page-history-container","history");e(".diff-menu","diff");f("#page-history-warning","navigation");f("#page-history-container","history");g("#admin-menu-link","administration");g("#user-menu-link","profile")}});require("confluence/module-exporter").safeRequire("confluence/analytics-bindings",function(b){require("ajs").toInit(b)});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickreload:quick-reload-core', location = 'utils/quick-reload-timer.js' */
define("confluence-quick-reload/utils/quick-reload-timer",["jquery","underscore"],function(c,d){function a(b,a){this.options=c.extend({min:3E4,max:36E5,inactivity:12E4},a);d.bindAll(this,"start","stop","_now","_timeSinceLastSeen","_setActive","_setActivityTrigger","_clamp","_intervalMultiplier");this.callback=b;this._timer=null;this._setActivityTrigger(this._setActive)}a.prototype.start=function(b){this.lastSeenTimestamp=this._now();this.stop();b&&this.callback();var a=function(){this.callback();
c.call(this)},c=function(){this.stop();this._timer=setTimeout(d.bind(a,this),this.options.min*this._intervalMultiplier())};c.call(this)};a.prototype.stop=function(){null!==this._timer&&(clearTimeout(this._timer),this._timer=null)};a.prototype._setActive=function(){if(null!==this._timer){var b=this._timeSinceLastSeen()>this.options.inactivity;this.lastSeenTimestamp=this._now();b&&this.start(!0)}};a.prototype._setActivityTrigger=function(b){document.addEventListener("visibilitychange",function(){document.hidden||
b()},!1);c(window).focus(b);c("body").click(b);c(window).scroll(b)};a.prototype._now=function(){return(new Date).getTime()};a.prototype._timeSinceLastSeen=function(){return this._now()+1-this.lastSeenTimestamp};a.prototype._clamp=function(b,a,c){a=Math.max(Math.min(a,c),b);return isNaN(a)?b:a};a.prototype._intervalMultiplier=function(){var a=(document.hidden?3:1)*Math.ceil(this._timeSinceLastSeen()/this.options.inactivity);return this._clamp(1,this.options.max/this.options.min,a)};return a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickreload:quick-reload-core', location = 'main/quick-reload-manager.js' */
define("confluence-quick-reload/main/quick-reload-manager","underscore jquery ajs confluence/api/constants confluence-quick-reload/utils/quick-reload-timer confluence/meta confluence/api/logger".split(" "),function(f,e,k,h,i,g,j){function a(){this.enabled=false;this.handlers=[];this.lastFetchTime=e('meta[name="confluence-request-time"]').attr("content")||(new Date).getTime();this.timer=null;f.bindAll(this,"addHandler","removeHandler","update","enable","disable","onUpdateSuccess","onUpdateError")}
a.prototype.addHandler=function(d){var a=false,b;for(b=0;b<this.handlers.length;b++)this.handlers[b]===d&&(a=true);a!==true&&this.handlers.push(d)};a.prototype.removeHandler=function(d){var a;if(d)for(a=0;a<this.handlers.length;a++)if(this.handlers[a]===d){this.handlers.splice(a,1);break}};a.prototype.update=function(){var a=g.get("page-id")!==void 0?g.get("page-id"):"0";e("body").hasClass("contenteditor")?this.disable():e.ajax({type:"GET",url:h.CONTEXT_PATH+"/rest/quickreload/latest/"+a+"?since="+
encodeURIComponent(this.lastFetchTime),dataType:"json"}).done(this.onUpdateSuccess).fail(this.onUpdateError)};a.prototype.enable=function(){if(!this.enabled){if(this.timer===null)this.timer=new i(this.update);this.timer.start();this.enabled=true}};a.prototype.disable=function(){this.timer!==null&&this.timer.stop();this.enabled=false};a.prototype.isEnabled=function(){return this.enabled};a.prototype.onUpdateSuccess=function(a,e,b){if(b.status!==204){this.lastFetchTime=a.time;f.map(this.handlers,function(b){var c=
a[b.property];Array.isArray(c)||(c=[c]);c=b.filterNewResults(b.results,c);if(c.length>0){b.results=b.results.concat(c);b.render(c)}},this)}};a.prototype.onUpdateError=function(a){if(a={404:"not found - the plugin has been probably been removed or disabled from Confluence",500:"generic server error",503:"service unavailable",504:"gateway timeout"}[(a||{}).status]){this.disable();j.error('Quick comment reload plugin has been disabled in this page due to a server error: "'+a+'". Please refresh the page to get it back.')}};
return new a});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickreload:quick-reload-read-only-mode-handler', location = 'handlers/quick-reload-read-only-mode.js' */
define("confluence-quick-reload/handlers/quick-reload-read-only-mode",["ajs","jquery","confluence/message-controller","confluence/meta","confluence/api/event"],function(f,i,a,e,g){return{results:[],property:"readOnlyMode",filterNewResults:function(a,c){return 0<c.length&&"string"!==typeof c[0]?c:[]},render:function(b){var b=b[0],c=e.get("access-mode"),d=b.isEnabled?"READ_ONLY":"READ_WRITE",h="READ_ONLY"===e.get("render-mode")?"\u041c\u044b \u0441\u043d\u043e\u0432\u0430 \u0432 \u0434\u0435\u043b\u0435! \u0427\u0442\u043e\u0431\u044b \u0432\u043d\u0435\u0441\u0442\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f, \u003ca onclick=\u0022location.reload()\u0022\u003e\u043e\u0431\u043d\u043e\u0432\u0438\u0442\u0435\u003c/a\u003e \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443.":"\u041c\u044b \u0432\u0435\u0440\u043d\u0443\u043b\u0438\u0441\u044c! \u0422\u0435\u043f\u0435\u0440\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438 \u0432\u043d\u043e\u0441\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f.";
if(!a.hasSuccess(a.Location.BANNER)||b.isEnabled)e.set("access-mode",d),d!==c&&g.trigger("qr:access-mode",{accessMode:d}),this.shouldDisplayError(b)?a.hasErrors(a.Location.BANNER)||this.showError(b.bannerMessage):"READ_ONLY"===c&&"READ_WRITE"===d?this.showSuccess(h):this.clearAll()},clearAll:function(){a.clearErrors(a.Location.ALL);a.clearSuccess(a.Location.ALL)},showError:function(b){a.clearSuccess(a.Location.ALL);a.showError(b,a.Location.BANNER)},showSuccess:function(b){a.clearErrors(a.Location.ALL);
a.showSuccess(b,a.Location.BANNER,{closeable:!0})},shouldDisplayError:function(a){return a.isBannerMessageOn||a.isEnabled}}});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.quickreload:quick-reload-read-only-mode-bootstrap', location = 'main/quick-reload-read-only-mode-bootstrap.js' */
require(["ajs","confluence/dark-features","confluence-quick-reload/main/quick-reload-manager","confluence-quick-reload/handlers/quick-reload-read-only-mode"],function(b,c,a,d){b.toInit(function(){c.isEnabled("quickreload.disabled")||(a.addHandler(d),a.enable())})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.mywork.mywork-confluence-host-plugin:mw-header-anchor', location = 'templates/anchor.soy' */
// This file was automatically generated from anchor.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace MyWork.Templates.Anchor.
 */

if (typeof MyWork == 'undefined') { var MyWork = {}; }
if (typeof MyWork.Templates == 'undefined') { MyWork.Templates = {}; }
if (typeof MyWork.Templates.Anchor == 'undefined') { MyWork.Templates.Anchor = {}; }


MyWork.Templates.Anchor.tasksFeatureDiscovery = function(opt_data, opt_ignored) {
  return '<p>' + soy.$$escapeHtml('\u041f\u0440\u0438\u0441\u0432\u043e\u0435\u043d\u043d\u044b\u0435 \u0432\u0430\u043c \u0438\u043b\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0435 \u0432\u0430\u043c\u0438 \u0437\u0430\u0434\u0430\u0447\u0438 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u043d\u0430 \u0432\u043a\u043b\u0430\u0434\u043a\u0435 \xab\u0417\u0430\u0434\u0430\u0447\u0438\xbb \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435.') + '</p><ul class="mw-tasks-discovery-controls"><li><a id="mw-tasks-discovery-view" href="' + soy.$$escapeHtml(opt_data.tasksUrl) + '" class="aui-button aui-style"><p>' + soy.$$escapeHtml('\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0417\u0430\u0434\u0430\u0447') + '</p></a></li><li><a id="mw-tasks-discovery-dismiss" href="#">' + soy.$$escapeHtml('\u041f\u0440\u043e\u043f\u0443\u0441\u0442\u0438\u0442\u044c') + '</a></li></ul>';
};
if (goog.DEBUG) {
  MyWork.Templates.Anchor.tasksFeatureDiscovery.soyTemplateName = 'MyWork.Templates.Anchor.tasksFeatureDiscovery';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.mywork.mywork-confluence-host-plugin:mw-header-anchor', location = 'js/miniview-anchor.js' */
var MW=MW||{$:AJS.$||Zepto};MW.MV={};AJS.toInit(function(){if(AJS.Meta&&!AJS.Meta.get("remote-user")){return}MW.MV.AnchorManager=function(){var l=contextPath,h=l+"/plugins/servlet/notifications-miniview",p=0,e=/[?&]show-miniview/.test(window.location.search);function r(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var s="[\\?\\#&]"+t+"=([^&#]*)";var v=new RegExp(s);var u=v.exec(window.location.search);if(u!==null){return decodeURIComponent(u[1].replace(/\+/g," "))}}var o=r("show-miniview");if(o){h+="#notification/"+o}function q(){var s="badge-i aui-icon aui-icon-small aui-iconfont-notification";MW.$("#notifications-anchor").html('<div class="'+s+'"></div><span class="badge-w"><span class="badge"></span></span>').attr("title","\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f")}function f(u){var t=false,s;return function(){if(t){return s}t=true;s=u.apply(this,arguments);return s}}var n=f(function(){MW.Dialog.getOptions().closeOthers=false;MW.Dialog.preload=true;MW.Dialog.show();MW.Dialog.hide();MW.Dialog.getOptions().closeOthers=true});function k(s){return s<=9?s:"9+"}function j(s){var t=MW.$("#notifications-anchor"),u=t.find(".badge"),v=t.find(".aui-icon");u.html(k(s));p=s;if(s>0){t.addClass("unread").removeClass("read");if(t.is(":visible")&&!e){n()}}else{t.addClass("read").removeClass("unread")}}function m(){c("notifications",h);d()}function d(){MW.$(document).keydown(function(s){if(AJS.InlineDialog.current&&s.which==27&&!MW.$(s.target).is(":input")){AJS.InlineDialog.current.hide()}})}function i(){MW.$("#header-menu-bar").find(".ajs-drop-down").each(function(){this.hide()})}function c(x,v){var w;var u=function(){w=this};var s=function(){if(this.preload!==true){var y=JSON.stringify({markAllRead:true});MW.$("#"+x+"-miniview-iframe")[0].contentWindow.postMessage(y,"*")}};if(!window.addEventListener){window.attachEvent("onmessage",t)}else{window.addEventListener("message",t,false)}function t(A){function B(C){return C===location.protocol+"//"+location.host}if("escKey"===A.data){w.hide();MW.$("#notifications-anchor").focus();document.activeElement.blur()}else{if("getParentConfig"===A.data&&B(A.origin)){var z=JSON.stringify({parentConfig:{parentUrl:location.href,preload:MW.Dialog.preload,unread:p}}),y=MW.$("#"+x+"-miniview-iframe")[0].contentWindow;y.postMessage(z,"*");if(MW.Dialog.preload){MW.Dialog.preload=false}else{y.focus()}}}}MW.Dialog=AJS.InlineDialog(MW.$("#"+x+"-anchor"),x+"-miniview",function(B,z,C){if(MW.$(B).children().length===0){MW.$(B).append(MW.$('<iframe id="'+x+'-miniview-iframe" src="'+v+'" frameborder="0"></iframe>'))}else{var A=JSON.stringify({unread:p}),y=MW.$("#"+x+"-miniview-iframe")[0].contentWindow;y.postMessage(A,"*");setTimeout(function(){y.focus()},100)}i();C()},{width:500,height:520,hideDelay:null,initCallback:u,hideCallback:s,noBind:true});MW.Tasks=(function(){var A=300;var z=20;var B=16;var G;var D=AJS.$("#user-menu-link");var C=AJS.$("#user-menu-link-content");var y=C.find("#view-mytasks-link");var E=function(J,H,K){var I=MyWork.Templates.Anchor.tasksFeatureDiscovery({tasksUrl:AJS.contextPath()+"/plugins/inlinetasks/mytasks.action"});J.html(I);J.find("#mw-tasks-discovery-dismiss").click(function(){G.hide()});K()};var F=function(){MW.Dialog.hide();var J=function(){return C.is(":visible")};if(!J()){D.trigger("aui-button-invoke")}var H=function(){G.hide()};C.one("aui-dropdown2-hide",H);G=AJS.InlineDialog(y,"my-tasks-discovery",E,{hideCallback:function(){G.unbind("click focusin mousedown",I);C.unbind("aui-dropdown2-hide",H);if(J()){D.trigger("aui-button-invoke")}MW.$("#inline-dialog-my-tasks-discovery").remove()},gravity:"w",useLiveEvents:true,width:A,noBind:true});C.find(".user-item.active").removeClass("active");y.addClass("active");y.focus();var I=function(K){K.stopPropagation()};G.on("click focusin mousedown",I);G.show()};return{closeAndDiscoverMyTasks:F}})();MW.$("#"+x+"-anchor").click(function(y){y.preventDefault();if(MW.$("#"+x+"-miniview-iframe").is(":visible")){MW.Dialog.hide()}else{MW.Dialog.show()}});if(e){MW.$("#"+x+"-anchor").click()}}function g(){q();m()}return{setupAnchors:g,updateNotificationCount:j}}();MW.MV.AnchorManager.setupAnchors();var b=new MW.AnchorUtil(MW.$,contextPath,MW.MV.AnchorManager.updateNotificationCount);b.setupAnchors();MW.$("#notifications-anchor").click(function(){AJS.trigger("analytics",{name:"mywork.host.button.clicked.notifications",data:{}});MW.MV.AnchorManager.updateNotificationCount(0)});var a=function(){if(document.hidden){b.stopRequests(true)}else{b.startRequests()}};document.addEventListener("visibilitychange",a,false);if(typeof document.hidden==="undefined"){MW.$(window).focus(function(){b.startRequests()})}MW.$("body").click(function(){b.startRequests()})});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.mywork.mywork-confluence-host-plugin:mw-header-anchor', location = 'js/util/anchor-util.js' */
MW.AnchorUtil=function(d,k,e){var f=30000,i=f,s,p=k+"/rest/mywork/latest/status/notification/count";var r=new Date().getTime();var b=5*60*1000;var t=1000*60*5;var h=1.25;var c=0;function q(u){window.clearInterval(s);s=undefined;if(u===true){i=f}}function o(){return(new Date().getTime()-r)<t}function m(){if(!o()||!s){l()}r=new Date().getTime()}function l(){if(s){clearTimeout(s)}s=setTimeout(function(){g()},c=n(c))}function a(w,u){var v=w*1000;b=u*1000||b;if(v&&v!=i){i=v;m()}}function n(u){return Math.min(o()?i:u*h,b)}function g(u){MW.$.getJSON(p+((u)?"?pageid="+u:""),function(w){a(w.timeout,w.maxTimeout);var v=w.count;e(v)});l()}function j(){var u=AJS&&AJS.Meta&&AJS.Meta.get&&(AJS.Meta.get("content-type")==="page"||AJS.Meta.get("content-type")==="blogpost");if(u){g(AJS.Meta.get("page-id"))}else{g()}m()}return{setupAnchors:j,startRequests:m,stopRequests:q,updateAnchors:g}};
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.dialog-wizard:dialog-wizard-resources', location = '/soy/dialog-wizard.soy' */
// This file was automatically generated from dialog-wizard.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.DialogWizard.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.DialogWizard == 'undefined') { Confluence.Templates.DialogWizard = {}; }


Confluence.Templates.DialogWizard.pageContainer = function(opt_data, opt_ignored) {
  return '<div class="dialog-wizard-page-wrapper"><div class="dialog-wizard-page-main"></div><div class="dialog-wizard-page-description">' + ((opt_data.descriptionHeaderLink && opt_data.descriptionHeader) ? '<h3><a href=\'' + soy.$$escapeHtml(opt_data.descriptionHeaderLink) + '\' target=\'_blank\'>' + soy.$$escapeHtml(opt_data.descriptionHeader) + '</a></h3>' : (opt_data.descriptionHeader) ? '<h3>' + soy.$$escapeHtml(opt_data.descriptionHeader) + '</h3>' : '') + '<p>' + soy.$$escapeHtml(opt_data.descriptionContent) + '</p></div></div>';
};
if (goog.DEBUG) {
  Confluence.Templates.DialogWizard.pageContainer.soyTemplateName = 'Confluence.Templates.DialogWizard.pageContainer';
}


Confluence.Templates.DialogWizard.waitIcon = function(opt_data, opt_ignored) {
  return '<img class="wait-icon" src="' + soy.$$escapeHtml("") + '/images/icons/wait.gif">';
};
if (goog.DEBUG) {
  Confluence.Templates.DialogWizard.waitIcon.soyTemplateName = 'Confluence.Templates.DialogWizard.waitIcon';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.dialog-wizard:dialog-wizard-resources', location = '/js/dialog-wizard.js' */
(function($){function findNextPageId(pageId,pages){var thisPageIdIndex=-1;_.each(pages,function(element,index){if(element.id==pageId){thisPageIdIndex=index;return}});return pages[thisPageIdIndex+1].id}Confluence.DialogWizard=function(dialog,finalAction){function newPage(config,pageId,soyRenderContext,wizardData,wizard){var wizardPage=_.find(config.wizard.pages,function(page){return page.id==pageId});wizard.trigger("pre-render."+pageId,{soyRenderContext:soyRenderContext,wizardData:wizardData});try{var soyTemplateFunction=eval(wizardPage.templateKey);var $soyRender=$(soyTemplateFunction(soyRenderContext))}catch(e){throw Error("wizard points to a non-existent Soy template '"+wizardPage.templateKey+"'. Check your web-resources or server logs.")}$soyRender.find("a, area, button, input, object, select, textarea").attr("tabindex","10");var $panelContent;if(wizardPage.descriptionContent){$panelContent=$(Confluence.Templates.DialogWizard.pageContainer({descriptionHeaderLink:wizardPage.descriptionHeaderLink,descriptionHeader:wizardPage.descriptionHeader,descriptionContent:wizardPage.descriptionContent}));$panelContent.addClass("with-description").find(".dialog-wizard-page-main").append($soyRender)}else{$panelContent=$soyRender}var dialogPageId=pageId;if(dialog.id=="create-dialog"){dialogPageId="create-dialog-"+pageId}var page=dialog.addPage(dialogPageId).page[dialog.curpage];page.addHeader(wizardPage.title).addPanel("SinglePanel",$panelContent,"singlePanel");page.element.find("form").submit(function(){return false});if(wizardPage.descriptionContent){page.element.find(".dialog-panel-body").css({padding:0})}Confluence.Binder.autocompleteMultiUser($soyRender);Confluence.Binder.placeholder($soyRender);function nextCallback(ev){$soyRender.find(".placeholded").val("");var pageData={};var formArray=$soyRender.parent().find("form").serializeArray();_.each(formArray,function(item){pageData[item.name]=item.value});var e=$.Event("submit."+pageId);var state={$container:$soyRender,wizardData:wizardData,pageData:pageData};var validationDeferred=$.Deferred();validationDeferred.done(function(){wizardData.pages[pageId]=pageData;var nextPageId;if(state.nextPageId){nextPageId=state.nextPageId}else{nextPageId=!wizardPage.last&&findNextPageId(pageId,config.wizard.pages)}if(!state.nextPageId&&wizardPage.last){doFinalAction(ev,state,wizardData,finalAction,wizard);dialog.popup.element.find(":input,a").filter(":visible").disable().addClass("disabled");buttons.prepend(Confluence.Templates.DialogWizard.waitIcon())}else{newPage(config,nextPageId,soyRenderContext,wizardData,wizard)}});validationDeferred.fail(function(){AJS.log("dialog aborted by on-submit callback on page: "+pageId)});state.validationDeferred=validationDeferred;wizard.trigger(e,state);if(state.async){return}if(e.isDefaultPrevented()){validationDeferred.reject();return}validationDeferred.resolve()}var buttons=dialog.addFullButtonPanel(page,nextCallback,null,wizardPage.last);buttons.find(".button-panel-back").click(function(){delete wizardData.pages[pageId]});buttons.find(".aui-button-primary").attr("tabindex","10");$soyRender.find("input, select, textarea").eq(0).focus();wizard.trigger("post-render."+pageId,{$container:$soyRender,wizardData:wizardData})}function doFinalAction(ev,state,wizardData,finalAction,wizard){if(state.finalUrl){if(ev.type==="click"&&ev.which===2){window.open(state.finalUrl)}else{window.location=state.finalUrl}}else{_.each(wizardData.pages,function(pageData){_.extend(wizardData,pageData)});delete wizardData.pages;finalAction(ev,wizardData,null,wizard)}return{success:function(callback){callback()}}}return{newPage:newPage,doFinalAction:doFinalAction}}})(AJS.$);
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-business-blueprints:common-template-resources', location = 'com/atlassian/confluence/plugins/blueprint/common/soy/common-templates.soy' */
// This file was automatically generated from common-templates.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Blueprints.Common.Index.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Blueprints == 'undefined') { Confluence.Blueprints = {}; }
if (typeof Confluence.Blueprints.Common == 'undefined') { Confluence.Blueprints.Common = {}; }
if (typeof Confluence.Blueprints.Common.Index == 'undefined') { Confluence.Blueprints.Common.Index = {}; }


Confluence.Blueprints.Common.Index.detailsSummaryMacro = function(opt_data, opt_ignored) {
  return '<ac:macro ac:name="detailssummary"><ac:parameter ac:name="label">' + soy.$$escapeHtml(opt_data.label) + '</ac:parameter><ac:parameter ac:name="spaces">' + soy.$$escapeHtml(opt_data.spaces) + '</ac:parameter><ac:parameter ac:name="firstcolumn">' + soy.$$escapeHtml(opt_data.firstcolumn) + '</ac:parameter><ac:parameter ac:name="headings">' + soy.$$escapeHtml(opt_data.headings) + '</ac:parameter><ac:parameter ac:name="blankTitle">' + soy.$$escapeHtml(opt_data.blankTitle) + '</ac:parameter><ac:parameter ac:name="blankDescription">' + soy.$$escapeHtml(opt_data.blankDescription) + '</ac:parameter><ac:parameter ac:name="contentBlueprintId">' + soy.$$escapeHtml(opt_data.contentBlueprintId) + '</ac:parameter><ac:parameter ac:name="blueprintModuleCompleteKey">' + soy.$$escapeHtml(opt_data.blueprintModuleCompleteKey) + '</ac:parameter><ac:parameter ac:name="createButtonLabel">' + soy.$$escapeHtml(opt_data.createButtonLabel) + '</ac:parameter></ac:macro>';
};
if (goog.DEBUG) {
  Confluence.Blueprints.Common.Index.detailsSummaryMacro.soyTemplateName = 'Confluence.Blueprints.Common.Index.detailsSummaryMacro';
}


Confluence.Blueprints.Common.Index.createFromTemplateMacro = function(opt_data, opt_ignored) {
  return '<ac:macro ac:name="create-from-template"><ac:parameter ac:name="blueprintModuleCompleteKey">' + soy.$$escapeHtml(opt_data.moduleKey) + '</ac:parameter><ac:parameter ac:name="buttonLabel">' + soy.$$escapeHtml(opt_data.buttonLabel) + '</ac:parameter><ac:parameter ac:name="spaceKey">' + soy.$$escapeHtml(opt_data.spaceKey) + '</ac:parameter><ac:parameter ac:name="templateName">' + soy.$$escapeHtml(opt_data.templateName) + '</ac:parameter></ac:macro>';
};
if (goog.DEBUG) {
  Confluence.Blueprints.Common.Index.createFromTemplateMacro.soyTemplateName = 'Confluence.Blueprints.Common.Index.createFromTemplateMacro';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-business-blueprints:meeting-notes-resources', location = 'com/atlassian/confluence/plugins/meetingnotes/soy/how-to.soy' */
// This file was automatically generated from how-to.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Blueprints.Meeting.Notes.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Blueprints == 'undefined') { Confluence.Blueprints = {}; }
if (typeof Confluence.Blueprints.Meeting == 'undefined') { Confluence.Blueprints.Meeting = {}; }
if (typeof Confluence.Blueprints.Meeting.Notes == 'undefined') { Confluence.Blueprints.Meeting.Notes = {}; }


Confluence.Blueprints.Meeting.Notes.howTo = function(opt_data, opt_ignored) {
  return '<h1>' + soy.$$escapeHtml('\u041f\u043e \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c \u0432\u0441\u0442\u0440\u0435\u0447 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435...') + '</h1><ol class="howto-steps"><li class="howto-step"><div><h3>' + soy.$$escapeHtml('\u041f\u0440\u0438\u0432\u043b\u0435\u0447\u044c \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u0435 \u0432 \u043f\u043e\u0432\u0435\u0441\u0442\u043a\u0435 \u0432\u0441\u0442\u0440\u0435\u0447\u0438') + '</h3><p>' + soy.$$escapeHtml('\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u0443\u0439\u0442\u0435 \u043f\u043e\u0432\u0435\u0441\u0442\u043a\u0443 \u0438 \u043d\u0435 \u0442\u0435\u0440\u044f\u0439\u0442\u0435 \u0438\u0437 \u0432\u0438\u0434\u0443 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b.') + '</p></div></li><li class="howto-step"><div><h3>' + soy.$$escapeHtml('\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043f\u0440\u043e\u0442\u043e\u043a\u043e\u043b \u0432\u0441\u0442\u0440\u0435\u0447\u0438') + '</h3><p>' + soy.$$escapeHtml('\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0438 \u0438 \u0441\u0434\u0435\u043b\u0430\u0439\u0442\u0435 \u0438\u0445 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u043c\u0438 \u0434\u043b\u044f \u0432\u0441\u0435\u0445.') + '</p></div></li><li class="howto-step"><div><h3>' + soy.$$escapeHtml('\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0438 \u043d\u0430\u0437\u043d\u0430\u0447\u0438\u0442\u044c \u0437\u0430\u0434\u0430\u043d\u0438\u044f') + '</h3><p>' + soy.$$escapeHtml('\u041d\u0430\u0437\u043d\u0430\u0447\u044c\u0442\u0435 \u0437\u0430\u0434\u0430\u0447\u0438 \u043d\u0430 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432 \u043f\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c.') + '</p></div></li></ol>';
};
if (goog.DEBUG) {
  Confluence.Blueprints.Meeting.Notes.howTo.soyTemplateName = 'Confluence.Blueprints.Meeting.Notes.howTo';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.confluence.plugins.confluence-business-blueprints:meeting-notes-resources', location = 'com/atlassian/confluence/plugins/meetingnotes/soy/user-mention.soy' */
// This file was automatically generated from user-mention.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace Confluence.Templates.Meeting.Notes.
 */

if (typeof Confluence == 'undefined') { var Confluence = {}; }
if (typeof Confluence.Templates == 'undefined') { Confluence.Templates = {}; }
if (typeof Confluence.Templates.Meeting == 'undefined') { Confluence.Templates.Meeting = {}; }
if (typeof Confluence.Templates.Meeting.Notes == 'undefined') { Confluence.Templates.Meeting.Notes = {}; }


Confluence.Templates.Meeting.Notes.userMention = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + ((opt_data.username) ? '<li><p><ac:link><ri:user ri:username="' + soy.$$escapeHtml(opt_data.username) + '" /></ac:link></p></li><li><p><ac:placeholder ac:type="mention">' + soy.$$escapeHtml('\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \x22@\x22 \u0434\u043b\u044f \u0435\u0451 \u0441\u0432\u044f\u0437\u044b\u0432\u0430\u043d\u0438\u044f \u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c \u0438 \u0435\u0433\u043e \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f.') + '</ac:placeholder></p></li>' : '<li><p><ac:placeholder ac:type="mention">' + soy.$$escapeHtml('\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \x22@\x22 \u0434\u043b\u044f \u0435\u0451 \u0441\u0432\u044f\u0437\u044b\u0432\u0430\u043d\u0438\u044f \u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c \u0438 \u0435\u0433\u043e \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f.') + '</ac:placeholder></p></li>');
};
if (goog.DEBUG) {
  Confluence.Templates.Meeting.Notes.userMention.soyTemplateName = 'Confluence.Templates.Meeting.Notes.userMention';
}

}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.troubleshooting.plugin-confluence:atst-healthchecks-notification', location = 'js/ajs-amd.js' */
define('troubleshooting/ajs', [], function () {
    'use strict';

    return AJS;
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.troubleshooting.plugin-confluence:atst-healthchecks-notification', location = 'js/notification.js' */
/* global AJS */
require([
    "jquery",
    "aui/flag",
    "troubleshooting/ajs",
    "troubleshooting/location"
], function ($, flag, AJS, location) {
    'use strict';

    if (location.isOnSupportToolsPage()) {
        // Exit if we are on the ATST screen, we don't want to display healthcheck notification if user browsing on ATST
        return;
    }
    
    var pluginPageUrl =  AJS.contextPath() + '/plugins/servlet/troubleshooting/view';

    AJS.toInit(function () {
        var restBase = AJS.contextPath() + '/rest/troubleshooting/1.0';
        var user = $('meta[name=ajs-remote-user]').attr('content');

        // Initialise the healthcheck notification. Make a GET call to /check/{username} endpoint to get the list of failed check by user
        var initHealthcheckNotification = function () {
            $.getJSON(restBase + '/check/' + user).done(function (statusReport) {
                statusReport.statuses.forEach(function (status) {
                    showNotification(status);
                });

                // Listen to click event to dismiss or snooze notification
                $(document).find('.dismiss-notification').on('click', function () {
                    var $notification = $(this).parents().eq(3);
                    dismissNotification($notification);
                });

                $(document).find('.healthcheck-detail').on('click', function () {
                    var $notification = $(this).parents().eq(3);
                    var application = $notification.attr('application');
                    var severity = $notification.attr('severity');
                    var completeKey = $notification.attr('completeKey');

                    analyticsModule.run("Viewed", completeKey, application, severity);
                    snoozeNotification($notification);
                });
            });
        };

        // Renders the flat notification here, and set the necessary attribute to the flag
        var showNotification = function (status) {

            var healthCheckName = status.name;
            var severity = status.severity;
            var notificationId = status.id;
            var application = status.application;
            var completeKey = status.completeKey;
            var key = completeKey.split(':').pop();

            var flagType = severity === 'warning' ? 'warning' : 'error';
            var healthCheckUrl = pluginPageUrl + '?source=notification&healthCheck=' + key;

            var healthcheckNotification = flag({
                type: flagType,
                body: '<p>' + AJS.format("\u0412\u0430\u0448\u0430 \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u043d\u0435 \u043f\u0440\u043e\u0448\u043b\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f {0}.", '<strong>' + healthCheckName + '</strong>') + '</p>' +
                    '<ul class="aui-nav-actions-list">' +
                        '<li><a href="' + healthCheckUrl + '" class="healthcheck-detail" target="_self">' + "\u0423\u0437\u043d\u0430\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435" + '</a></li>' +
                        '<li><a href="#" class="dismiss-notification">' + "\u0411\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u043d\u0430\u043f\u043e\u043c\u0438\u043d\u0430\u0442\u044c \u043c\u043d\u0435." + '</a></li>' +
                    '</ul>',
                close: 'manual'
            });

            healthcheckNotification.setAttribute('id', 'healthcheck-notification');
            healthcheckNotification.setAttribute('healthcheck-name', healthCheckName);
            healthcheckNotification.setAttribute('notification-id', notificationId);
            healthcheckNotification.setAttribute('application', application);
            healthcheckNotification.setAttribute('severity', severity);
            healthcheckNotification.setAttribute('completeKey', completeKey);

            healthcheckNotification.addEventListener('aui-flag-close', function () {
                var $notification = $(this);
                snoozeNotification($notification);
            });


            analyticsModule.run('Display', completeKey, application, severity);
        };

        // Called when the "Don’t remind me again" link is clicked. Notifications that are dismissed / marked as read won't reappear to the user anymore
        var dismissNotification = function ($notification) {
            $notification.attr("aria-hidden", "true");

            var id = $notification.attr('notification-id');
            var name = $notification.attr('healthcheck-name');
            var application = $notification.attr('application');
            var severity = $notification.attr('severity');
            var completeKey = $notification.attr('completeKey');

            var data = {};
            data["username"] = user;
            data["notificationId"] = id;
            data["snooze"] = false;

            var jsonData = JSON.stringify(data);

            AJS.$.ajax({
                async: false,
                type: 'POST',
                url: restBase + '/dismissNotification',
                data: jsonData,
                contentType: "application/json",
                dataType: "json",
                success: function () {

                    analyticsModule.run("Dismissed", completeKey, application, severity);
                }
            })
        };

        // Called when the notification is closed via the cross button or if user open the link to the healthcheck
        // A notification is dismissed / marked as read automatically if it snoozes 3 times
        var snoozeNotification = function ($notification) {
            var id = $notification.attr('notification-id');
            var name = $notification.attr('healthcheck-name');
            var application = $notification.attr('application');
            var severity = $notification.attr('severity');
            var completeKey = $notification.attr('completeKey');

            var data = {};
            data["username"] = user;
            data["notificationId"] = id;
            data["snooze"] = true;

            var jsonData = JSON.stringify(data);

            AJS.$.ajax({
                async: false,
                type: 'POST',
                url: restBase + '/dismissNotification',
                data: jsonData,
                contentType: "application/json",
                dataType: "json",
                success: function (data, textStatus, jqXHR) {

                    isAutoDismissed(id, completeKey, name, application, severity);
                    analyticsModule.run("Snoozed", completeKey, application, severity);

                }
            })
        };

        var isAutoDismissed = function (notificationId, completeKey, name, application, severity) {
            var url = restBase + '/dismissNotification/' + user + '/' + notificationId;

            AJS.$.ajax({
                async: false,
                type: 'GET',
                url: url,
                contentType: "text/xml",
                success: function (data, textStatus, jqXHR) {
                    if (jqXHR.status == 200) {
                        notificationAutoDismissed(name);
                        analyticsModule.run("Autodismissed", completeKey, application, severity);
                    }


                }
            });
        };

        // This module allows for us to capture the correct Analytics events per display as per SHC-344.
        var analyticsModule = (function () {
            var lastEvent;
            var event = {};

            event.run = function (action, completeKey, application, severity) {
                if (lastEvent == "Viewed") {
                    // when user views info, we snooze the notification. We only want to record the Viewed AA event.
                    lastEvent = action;
                } else {
                    lastEvent = action;
                    if (action == "Display") {
                        AJS.trigger('analyticsEvent', {
                            name: "healthcheck.notification.display",
                            data: {action: action, name: completeKey, application: application, severity: severity}
                        });
                    } else {
                        AJS.trigger('analyticsEvent', {
                            name: "healthcheck.notification.action",
                            data: {action: action, name: completeKey, application: application, severity: severity}
                        });
                    }
                }
            };
            return event;
        }());

        // This function is called when a notification is automatically marked as read (normally is called when a notification is snoozed 3 times)
        var notificationAutoDismissed = function (healthCheckName) {
            // We set a quick timeout here so the animation will be displayed properly
            setTimeout(function () {
                flag({
                    type: "info",
                    body: "<p>The <strong>" + healthCheckName + "</strong> notification is now dismissed. </p>" +
                    "<p>Please visit <a href='" + AJS.contextPath() + "/plugins/servlet/troubleshooting/view/?source=notification' class='healthcheck-detail' target='_self'>this link</a> for more on the check.</p>",
                    close: "auto"
                });
            }, 1500);
        };

        initHealthcheckNotification();
    });
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.troubleshooting.plugin-confluence:atst-healthchecks-notification', location = 'js/shc-location.js' */
define('troubleshooting/location', [], function () {
    return {
        // Get the path name of the current page URL, and returns true if user is on ATST page or false if user is on other admin screens
        isOnSupportToolsPage: function () {
            return window.location.pathname.toLowerCase().indexOf("/troubleshooting/view") >= 0;
        }
    }
});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.whisper.atlassian-whisper-plugin:atlassian-whisper-bootstrap', location = '/js/bootstrap-init.js' */
require(["atlassian-whisper/bootstrap"],function(a){a()});
}catch(e){WRMCB(e)};
;
try {
/* module-key = 'com.atlassian.whisper.atlassian-whisper-plugin:atlassian-whisper-bootstrap', location = '/js/bootstrap.js' */
define("atlassian-whisper/bootstrap",["wrm/require"],function(a){return function(){var c=require("wrm/data").claim("com.atlassian.whisper.atlassian-whisper-plugin:atlassian-whisper-bootstrap.WhisperData");if(!c||c.hasMessages!==true){return}var b=function(){try{localStorage.setItem("hermes.config.delivery-url",AJS.contextPath()+"/rest/whisper/1/messages");localStorage.setItem("hermes.config.store-url",AJS.contextPath()+"/rest/whisper/1/properties")}catch(d){return}require(["atlassian-whisper/hermes-init"],function(e){e(c)},undefined,c.syncInit)};if(c.syncInit){b()}else{AJS.$(function(){a("wr!com.atlassian.whisper.atlassian-whisper-plugin:atlassian-whisper-hermes",b)})}}});
}catch(e){WRMCB(e)};